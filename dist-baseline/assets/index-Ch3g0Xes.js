var Ny=Object.defineProperty;var Cy=(e,t,n)=>t in e?Ny(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>Cy(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Dc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tp={exports:{}},Io={},np={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=Symbol.for("react.element"),ky=Symbol.for("react.portal"),Py=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Ey=Symbol.for("react.profiler"),Iy=Symbol.for("react.provider"),Ay=Symbol.for("react.context"),Oy=Symbol.for("react.forward_ref"),My=Symbol.for("react.suspense"),Ry=Symbol.for("react.memo"),_y=Symbol.for("react.lazy"),sd=Symbol.iterator;function Ly(e){return e===null||typeof e!="object"?null:(e=sd&&e[sd]||e["@@iterator"],typeof e=="function"?e:null)}var rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sp=Object.assign,ip={};function Vr(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}Vr.prototype.isReactComponent={};Vr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function op(){}op.prototype=Vr.prototype;function Ec(e,t,n){this.props=e,this.context=t,this.refs=ip,this.updater=n||rp}var Ic=Ec.prototype=new op;Ic.constructor=Ec;sp(Ic,Vr.prototype);Ic.isPureReactComponent=!0;var id=Array.isArray,ap=Object.prototype.hasOwnProperty,Ac={current:null},lp={key:!0,ref:!0,__self:!0,__source:!0};function cp(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)ap.call(t,r)&&!lp.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gs,type:e,key:i,ref:o,props:s,_owner:Ac.current}}function By(e,t){return{$$typeof:Gs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Oc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gs}function Vy(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var od=/\/+/g;function ua(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Vy(""+e.key):t.toString(36)}function Di(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gs:case ky:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ua(o,0):r,id(s)?(n="",e!=null&&(n=e.replace(od,"$&/")+"/"),Di(s,t,n,"",function(u){return u})):s!=null&&(Oc(s)&&(s=By(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(od,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",id(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+ua(i,a);o+=Di(i,t,n,c,s)}else if(c=Ly(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+ua(i,a++),o+=Di(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function si(e,t,n){if(e==null)return e;var r=[],s=0;return Di(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Fy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},Ei={transition:null},zy={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:Ei,ReactCurrentOwner:Ac};function up(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:si,forEach:function(e,t,n){si(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return si(e,function(){t++}),t},toArray:function(e){return si(e,function(t){return t})||[]},only:function(e){if(!Oc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=Vr;K.Fragment=Py;K.Profiler=Ey;K.PureComponent=Ec;K.StrictMode=Dy;K.Suspense=My;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy;K.act=up;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=sp({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ac.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)ap.call(t,c)&&!lp.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Gs,type:e.type,key:s,ref:i,props:r,_owner:o}};K.createContext=function(e){return e={$$typeof:Ay,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iy,_context:e},e.Consumer=e};K.createElement=cp;K.createFactory=function(e){var t=cp.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Oy,render:e}};K.isValidElement=Oc;K.lazy=function(e){return{$$typeof:_y,_payload:{_status:-1,_result:e},_init:Fy}};K.memo=function(e,t){return{$$typeof:Ry,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=Ei.transition;Ei.transition={};try{e()}finally{Ei.transition=t}};K.unstable_act=up;K.useCallback=function(e,t){return Ge.current.useCallback(e,t)};K.useContext=function(e){return Ge.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};K.useEffect=function(e,t){return Ge.current.useEffect(e,t)};K.useId=function(){return Ge.current.useId()};K.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Ge.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};K.useRef=function(e){return Ge.current.useRef(e)};K.useState=function(e){return Ge.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Ge.current.useTransition()};K.version="18.3.1";np.exports=K;var b=np.exports;const At=Dc(b);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=b,Hy=Symbol.for("react.element"),Uy=Symbol.for("react.fragment"),Wy=Object.prototype.hasOwnProperty,Gy=$y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ky={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Wy.call(t,r)&&!Ky.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hy,type:e,key:i,ref:o,props:s,_owner:Gy.current}}Io.Fragment=Uy;Io.jsx=dp;Io.jsxs=dp;tp.exports=Io;var l=tp.exports,ll={},fp={exports:{}},lt={},hp={exports:{}},pp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,B){var z=I.length;I.push(B);e:for(;0<z;){var V=z-1>>>1,L=I[V];if(0<s(L,B))I[V]=B,I[z]=L,z=V;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var B=I[0],z=I.pop();if(z!==B){I[0]=z;e:for(var V=0,L=I.length,Z=L>>>1;V<Z;){var F=2*(V+1)-1,J=I[F],te=F+1,et=I[te];if(0>s(J,z))te<L&&0>s(et,J)?(I[V]=et,I[te]=z,V=te):(I[V]=J,I[F]=z,V=F);else if(te<L&&0>s(et,z))I[V]=et,I[te]=z,V=te;else break e}}return B}function s(I,B){var z=I.sortIndex-B.sortIndex;return z!==0?z:I.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],u=[],f=1,d=null,h=3,p=!1,g=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=I)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function w(I){if(v=!1,y(I),!g)if(n(c)!==null)g=!0,X(T);else{var B=n(u);B!==null&&be(w,B.startTime-I)}}function T(I,B){g=!1,v&&(v=!1,x(C),C=-1),p=!0;var z=h;try{for(y(B),d=n(c);d!==null&&(!(d.expirationTime>B)||I&&!q());){var V=d.callback;if(typeof V=="function"){d.callback=null,h=d.priorityLevel;var L=V(d.expirationTime<=B);B=e.unstable_now(),typeof L=="function"?d.callback=L:d===n(c)&&r(c),y(B)}else r(c);d=n(c)}if(d!==null)var Z=!0;else{var F=n(u);F!==null&&be(w,F.startTime-B),Z=!1}return Z}finally{d=null,h=z,p=!1}}var N=!1,j=null,C=-1,E=5,_=-1;function q(){return!(e.unstable_now()-_<E)}function Q(){if(j!==null){var I=e.unstable_now();_=I;var B=!0;try{B=j(!0,I)}finally{B?U():(N=!1,j=null)}}else N=!1}var U;if(typeof m=="function")U=function(){m(Q)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,we=se.port2;se.port1.onmessage=Q,U=function(){we.postMessage(null)}}else U=function(){S(Q,0)};function X(I){j=I,N||(N=!0,U())}function be(I,B){C=S(function(){I(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,X(T))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var z=h;h=B;try{return I()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,B){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var z=h;h=I;try{return B()}finally{h=z}},e.unstable_scheduleCallback=function(I,B,z){var V=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,I){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=z+L,I={id:f++,callback:B,priorityLevel:I,startTime:z,expirationTime:L,sortIndex:-1},z>V?(I.sortIndex=z,t(u,I),n(c)===null&&I===n(u)&&(v?(x(C),C=-1):v=!0,be(w,z-V))):(I.sortIndex=L,t(c,I),g||p||(g=!0,X(T))),I},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(I){var B=h;return function(){var z=h;h=B;try{return I.apply(this,arguments)}finally{h=z}}}})(pp);hp.exports=pp;var Qy=hp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy=b,st=Qy;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mp=new Set,Ss={};function Jn(e,t){Dr(e,t),Dr(e+"Capture",t)}function Dr(e,t){for(Ss[e]=t,e=0;e<t.length;e++)mp.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cl=Object.prototype.hasOwnProperty,Xy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ad={},ld={};function qy(e){return cl.call(ld,e)?!0:cl.call(ad,e)?!1:Xy.test(e)?ld[e]=!0:(ad[e]=!0,!1)}function Zy(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Jy(e,t,n,r){if(t===null||typeof t>"u"||Zy(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var Mc=/[\-:]([a-z])/g;function Rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Mc,Rc);Ae[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Mc,Rc);Ae[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Mc,Rc);Ae[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function _c(e,t,n,r){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Jy(t,n,s,r)&&(n=null),r||s===null?qy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jt=Yy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ii=Symbol.for("react.element"),ir=Symbol.for("react.portal"),or=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),ul=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),yp=Symbol.for("react.context"),Bc=Symbol.for("react.forward_ref"),dl=Symbol.for("react.suspense"),fl=Symbol.for("react.suspense_list"),Vc=Symbol.for("react.memo"),rn=Symbol.for("react.lazy"),vp=Symbol.for("react.offscreen"),cd=Symbol.iterator;function Hr(e){return e===null||typeof e!="object"?null:(e=cd&&e[cd]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,da;function ts(e){if(da===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);da=t&&t[1]||""}return`
`+da+e}var fa=!1;function ha(e,t){if(!e||fa)return"";fa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{fa=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ts(e):""}function ev(e){switch(e.tag){case 5:return ts(e.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return e=ha(e.type,!1),e;case 11:return e=ha(e.type.render,!1),e;case 1:return e=ha(e.type,!0),e;default:return""}}function hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case or:return"Fragment";case ir:return"Portal";case ul:return"Profiler";case Lc:return"StrictMode";case dl:return"Suspense";case fl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yp:return(e.displayName||"Context")+".Consumer";case gp:return(e._context.displayName||"Context")+".Provider";case Bc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vc:return t=e.displayName||null,t!==null?t:hl(e.type)||"Memo";case rn:t=e._payload,e=e._init;try{return hl(e(t))}catch{}}return null}function tv(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hl(t);case 8:return t===Lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nv(e){var t=xp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function oi(e){e._valueTracker||(e._valueTracker=nv(e))}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xp(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pl(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ud(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function bp(e,t){t=t.checked,t!=null&&_c(e,"checked",t,!1)}function ml(e,t){bp(e,t);var n=bn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gl(e,t.type,n):t.hasOwnProperty("defaultValue")&&gl(e,t.type,bn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function dd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function gl(e,t,n){(t!=="number"||Wi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ns=Array.isArray;function jr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ns(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bn(n)}}function Sp(e,t){var n=bn(t.value),r=bn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function hd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ai,Tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ai=ai||document.createElement("div"),ai.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ai.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function js(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var as={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rv=["Webkit","ms","Moz","O"];Object.keys(as).forEach(function(e){rv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),as[t]=as[e]})});function Np(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||as.hasOwnProperty(e)&&as[e]?(""+t).trim():t+"px"}function Cp(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Np(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var sv=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xl(e,t){if(t){if(sv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function wl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bl=null;function Fc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sl=null,Tr=null,Nr=null;function pd(e){if(e=Ys(e)){if(typeof Sl!="function")throw Error(D(280));var t=e.stateNode;t&&(t=_o(t),Sl(e.stateNode,e.type,t))}}function kp(e){Tr?Nr?Nr.push(e):Nr=[e]:Tr=e}function Pp(){if(Tr){var e=Tr,t=Nr;if(Nr=Tr=null,pd(e),t)for(e=0;e<t.length;e++)pd(t[e])}}function Dp(e,t){return e(t)}function Ep(){}var pa=!1;function Ip(e,t,n){if(pa)return e(t,n);pa=!0;try{return Dp(e,t,n)}finally{pa=!1,(Tr!==null||Nr!==null)&&(Ep(),Pp())}}function Ts(e,t){var n=e.stateNode;if(n===null)return null;var r=_o(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var jl=!1;if(Gt)try{var Ur={};Object.defineProperty(Ur,"passive",{get:function(){jl=!0}}),window.addEventListener("test",Ur,Ur),window.removeEventListener("test",Ur,Ur)}catch{jl=!1}function iv(e,t,n,r,s,i,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(f){this.onError(f)}}var ls=!1,Gi=null,Ki=!1,Tl=null,ov={onError:function(e){ls=!0,Gi=e}};function av(e,t,n,r,s,i,o,a,c){ls=!1,Gi=null,iv.apply(ov,arguments)}function lv(e,t,n,r,s,i,o,a,c){if(av.apply(this,arguments),ls){if(ls){var u=Gi;ls=!1,Gi=null}else throw Error(D(198));Ki||(Ki=!0,Tl=u)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ap(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function md(e){if(er(e)!==e)throw Error(D(188))}function cv(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return md(s),e;if(i===r)return md(s),t;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Op(e){return e=cv(e),e!==null?Mp(e):null}function Mp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Mp(e);if(t!==null)return t;e=e.sibling}return null}var Rp=st.unstable_scheduleCallback,gd=st.unstable_cancelCallback,uv=st.unstable_shouldYield,dv=st.unstable_requestPaint,ge=st.unstable_now,fv=st.unstable_getCurrentPriorityLevel,zc=st.unstable_ImmediatePriority,_p=st.unstable_UserBlockingPriority,Qi=st.unstable_NormalPriority,hv=st.unstable_LowPriority,Lp=st.unstable_IdlePriority,Ao=null,Ot=null;function pv(e){if(Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(Ao,e,void 0,(e.current.flags&128)===128)}catch{}}var Ct=Math.clz32?Math.clz32:yv,mv=Math.log,gv=Math.LN2;function yv(e){return e>>>=0,e===0?32:31-(mv(e)/gv|0)|0}var li=64,ci=4194304;function rs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Yi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=rs(a):(i&=o,i!==0&&(r=rs(i)))}else o=n&~s,o!==0?r=rs(o):i!==0&&(r=rs(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ct(t),s=1<<n,r|=e[n],t&=~s;return r}function vv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ct(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=vv(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Nl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bp(){var e=li;return li<<=1,!(li&4194240)&&(li=64),e}function ma(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ks(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ct(t),e[t]=n}function wv(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function $c(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var re=0;function Vp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Fp,Hc,zp,$p,Hp,Cl=!1,ui=[],dn=null,fn=null,hn=null,Ns=new Map,Cs=new Map,an=[],bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yd(e,t){switch(e){case"focusin":case"focusout":dn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Wr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Ys(t),t!==null&&Hc(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sv(e,t,n,r,s){switch(t){case"focusin":return dn=Wr(dn,e,t,n,r,s),!0;case"dragenter":return fn=Wr(fn,e,t,n,r,s),!0;case"mouseover":return hn=Wr(hn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ns.set(i,Wr(Ns.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Cs.set(i,Wr(Cs.get(i)||null,e,t,n,r,s)),!0}return!1}function Up(e){var t=Vn(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=Ap(n),t!==null){e.blockedOn=t,Hp(e.priority,function(){zp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ii(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=kl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bl=r,n.target.dispatchEvent(r),bl=null}else return t=Ys(n),t!==null&&Hc(t),e.blockedOn=n,!1;t.shift()}return!0}function vd(e,t,n){Ii(e)&&n.delete(t)}function jv(){Cl=!1,dn!==null&&Ii(dn)&&(dn=null),fn!==null&&Ii(fn)&&(fn=null),hn!==null&&Ii(hn)&&(hn=null),Ns.forEach(vd),Cs.forEach(vd)}function Gr(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,jv)))}function ks(e){function t(s){return Gr(s,e)}if(0<ui.length){Gr(ui[0],e);for(var n=1;n<ui.length;n++){var r=ui[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dn!==null&&Gr(dn,e),fn!==null&&Gr(fn,e),hn!==null&&Gr(hn,e),Ns.forEach(t),Cs.forEach(t),n=0;n<an.length;n++)r=an[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<an.length&&(n=an[0],n.blockedOn===null);)Up(n),n.blockedOn===null&&an.shift()}var Cr=Jt.ReactCurrentBatchConfig,Xi=!0;function Tv(e,t,n,r){var s=re,i=Cr.transition;Cr.transition=null;try{re=1,Uc(e,t,n,r)}finally{re=s,Cr.transition=i}}function Nv(e,t,n,r){var s=re,i=Cr.transition;Cr.transition=null;try{re=4,Uc(e,t,n,r)}finally{re=s,Cr.transition=i}}function Uc(e,t,n,r){if(Xi){var s=kl(e,t,n,r);if(s===null)Na(e,t,r,qi,n),yd(e,r);else if(Sv(s,e,t,n,r))r.stopPropagation();else if(yd(e,r),t&4&&-1<bv.indexOf(e)){for(;s!==null;){var i=Ys(s);if(i!==null&&Fp(i),i=kl(e,t,n,r),i===null&&Na(e,t,r,qi,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Na(e,t,r,null,n)}}var qi=null;function kl(e,t,n,r){if(qi=null,e=Fc(r),e=Vn(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ap(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qi=e,null}function Wp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fv()){case zc:return 1;case _p:return 4;case Qi:case hv:return 16;case Lp:return 536870912;default:return 16}default:return 16}}var cn=null,Wc=null,Ai=null;function Gp(){if(Ai)return Ai;var e,t=Wc,n=t.length,r,s="value"in cn?cn.value:cn.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Ai=s.slice(e,1<r?1-r:void 0)}function Oi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function di(){return!0}function xd(){return!1}function ct(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?di:xd,this.isPropagationStopped=xd,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=ct(Fr),Qs=pe({},Fr,{view:0,detail:0}),Cv=ct(Qs),ga,ya,Kr,Oo=pe({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kr&&(Kr&&e.type==="mousemove"?(ga=e.screenX-Kr.screenX,ya=e.screenY-Kr.screenY):ya=ga=0,Kr=e),ga)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),wd=ct(Oo),kv=pe({},Oo,{dataTransfer:0}),Pv=ct(kv),Dv=pe({},Qs,{relatedTarget:0}),va=ct(Dv),Ev=pe({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iv=ct(Ev),Av=pe({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ov=ct(Av),Mv=pe({},Fr,{data:0}),bd=ct(Mv),Rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_v={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Lv[e])?!!t[e]:!1}function Kc(){return Bv}var Vv=pe({},Qs,{key:function(e){if(e.key){var t=Rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_v[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kc,charCode:function(e){return e.type==="keypress"?Oi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Fv=ct(Vv),zv=pe({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=ct(zv),$v=pe({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kc}),Hv=ct($v),Uv=pe({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wv=ct(Uv),Gv=pe({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kv=ct(Gv),Qv=[9,13,27,32],Qc=Gt&&"CompositionEvent"in window,cs=null;Gt&&"documentMode"in document&&(cs=document.documentMode);var Yv=Gt&&"TextEvent"in window&&!cs,Kp=Gt&&(!Qc||cs&&8<cs&&11>=cs),jd=" ",Td=!1;function Qp(e,t){switch(e){case"keyup":return Qv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Xv(e,t){switch(e){case"compositionend":return Yp(t);case"keypress":return t.which!==32?null:(Td=!0,jd);case"textInput":return e=t.data,e===jd&&Td?null:e;default:return null}}function qv(e,t){if(ar)return e==="compositionend"||!Qc&&Qp(e,t)?(e=Gp(),Ai=Wc=cn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kp&&t.locale!=="ko"?null:t.data;default:return null}}var Zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zv[e.type]:t==="textarea"}function Xp(e,t,n,r){kp(r),t=Zi(t,"onChange"),0<t.length&&(n=new Gc("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var us=null,Ps=null;function Jv(e){am(e,0)}function Mo(e){var t=ur(e);if(wp(t))return e}function ex(e,t){if(e==="change")return t}var qp=!1;if(Gt){var xa;if(Gt){var wa="oninput"in document;if(!wa){var Cd=document.createElement("div");Cd.setAttribute("oninput","return;"),wa=typeof Cd.oninput=="function"}xa=wa}else xa=!1;qp=xa&&(!document.documentMode||9<document.documentMode)}function kd(){us&&(us.detachEvent("onpropertychange",Zp),Ps=us=null)}function Zp(e){if(e.propertyName==="value"&&Mo(Ps)){var t=[];Xp(t,Ps,e,Fc(e)),Ip(Jv,t)}}function tx(e,t,n){e==="focusin"?(kd(),us=t,Ps=n,us.attachEvent("onpropertychange",Zp)):e==="focusout"&&kd()}function nx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mo(Ps)}function rx(e,t){if(e==="click")return Mo(t)}function sx(e,t){if(e==="input"||e==="change")return Mo(t)}function ix(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pt=typeof Object.is=="function"?Object.is:ix;function Ds(e,t){if(Pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!cl.call(t,s)||!Pt(e[s],t[s]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dd(e,t){var n=Pd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Pd(n)}}function Jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function em(){for(var e=window,t=Wi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Wi(e.document)}return t}function Yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ox(e){var t=em(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jp(n.ownerDocument.documentElement,n)){if(r!==null&&Yc(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Dd(n,i);var o=Dd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ax=Gt&&"documentMode"in document&&11>=document.documentMode,lr=null,Pl=null,ds=null,Dl=!1;function Ed(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dl||lr==null||lr!==Wi(r)||(r=lr,"selectionStart"in r&&Yc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ds&&Ds(ds,r)||(ds=r,r=Zi(Pl,"onSelect"),0<r.length&&(t=new Gc("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function fi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:fi("Animation","AnimationEnd"),animationiteration:fi("Animation","AnimationIteration"),animationstart:fi("Animation","AnimationStart"),transitionend:fi("Transition","TransitionEnd")},ba={},tm={};Gt&&(tm=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Ro(e){if(ba[e])return ba[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tm)return ba[e]=t[n];return e}var nm=Ro("animationend"),rm=Ro("animationiteration"),sm=Ro("animationstart"),im=Ro("transitionend"),om=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){om.set(e,t),Jn(t,[e])}for(var Sa=0;Sa<Id.length;Sa++){var ja=Id[Sa],lx=ja.toLowerCase(),cx=ja[0].toUpperCase()+ja.slice(1);Cn(lx,"on"+cx)}Cn(nm,"onAnimationEnd");Cn(rm,"onAnimationIteration");Cn(sm,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(im,"onTransitionEnd");Dr("onMouseEnter",["mouseout","mouseover"]);Dr("onMouseLeave",["mouseout","mouseover"]);Dr("onPointerEnter",["pointerout","pointerover"]);Dr("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ux=new Set("cancel close invalid load scroll toggle".split(" ").concat(ss));function Ad(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lv(r,t,void 0,e),e.currentTarget=null}function am(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Ad(s,a,u),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Ad(s,a,u),i=c}}}if(Ki)throw e=Tl,Ki=!1,Tl=null,e}function le(e,t){var n=t[Ml];n===void 0&&(n=t[Ml]=new Set);var r=e+"__bubble";n.has(r)||(lm(t,e,2,!1),n.add(r))}function Ta(e,t,n){var r=0;t&&(r|=4),lm(n,e,r,t)}var hi="_reactListening"+Math.random().toString(36).slice(2);function Es(e){if(!e[hi]){e[hi]=!0,mp.forEach(function(n){n!=="selectionchange"&&(ux.has(n)||Ta(n,!1,e),Ta(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[hi]||(t[hi]=!0,Ta("selectionchange",!1,t))}}function lm(e,t,n,r){switch(Wp(t)){case 1:var s=Tv;break;case 4:s=Nv;break;default:s=Uc}n=s.bind(null,t,n,e),s=void 0,!jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Na(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Vn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ip(function(){var u=i,f=Fc(n),d=[];e:{var h=om.get(e);if(h!==void 0){var p=Gc,g=e;switch(e){case"keypress":if(Oi(n)===0)break e;case"keydown":case"keyup":p=Fv;break;case"focusin":g="focus",p=va;break;case"focusout":g="blur",p=va;break;case"beforeblur":case"afterblur":p=va;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Hv;break;case nm:case rm:case sm:p=Iv;break;case im:p=Wv;break;case"scroll":p=Cv;break;case"wheel":p=Kv;break;case"copy":case"cut":case"paste":p=Ov;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Sd}var v=(t&4)!==0,S=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var m=u,y;m!==null;){y=m;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,x!==null&&(w=Ts(m,x),w!=null&&v.push(Is(m,w,y)))),S)break;m=m.return}0<v.length&&(h=new p(h,g,null,n,f),d.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==bl&&(g=n.relatedTarget||n.fromElement)&&(Vn(g)||g[Kt]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Vn(g):null,g!==null&&(S=er(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(v=wd,w="onMouseLeave",x="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Sd,w="onPointerLeave",x="onPointerEnter",m="pointer"),S=p==null?h:ur(p),y=g==null?h:ur(g),h=new v(w,m+"leave",p,n,f),h.target=S,h.relatedTarget=y,w=null,Vn(f)===u&&(v=new v(x,m+"enter",g,n,f),v.target=y,v.relatedTarget=S,w=v),S=w,p&&g)t:{for(v=p,x=g,m=0,y=v;y;y=rr(y))m++;for(y=0,w=x;w;w=rr(w))y++;for(;0<m-y;)v=rr(v),m--;for(;0<y-m;)x=rr(x),y--;for(;m--;){if(v===x||x!==null&&v===x.alternate)break t;v=rr(v),x=rr(x)}v=null}else v=null;p!==null&&Od(d,h,p,v,!1),g!==null&&S!==null&&Od(d,S,g,v,!0)}}e:{if(h=u?ur(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var T=ex;else if(Nd(h))if(qp)T=sx;else{T=nx;var N=tx}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=rx);if(T&&(T=T(e,u))){Xp(d,T,n,f);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&gl(h,"number",h.value)}switch(N=u?ur(u):window,e){case"focusin":(Nd(N)||N.contentEditable==="true")&&(lr=N,Pl=u,ds=null);break;case"focusout":ds=Pl=lr=null;break;case"mousedown":Dl=!0;break;case"contextmenu":case"mouseup":case"dragend":Dl=!1,Ed(d,n,f);break;case"selectionchange":if(ax)break;case"keydown":case"keyup":Ed(d,n,f)}var j;if(Qc)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else ar?Qp(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Kp&&n.locale!=="ko"&&(ar||C!=="onCompositionStart"?C==="onCompositionEnd"&&ar&&(j=Gp()):(cn=f,Wc="value"in cn?cn.value:cn.textContent,ar=!0)),N=Zi(u,C),0<N.length&&(C=new bd(C,e,null,n,f),d.push({event:C,listeners:N}),j?C.data=j:(j=Yp(n),j!==null&&(C.data=j)))),(j=Yv?Xv(e,n):qv(e,n))&&(u=Zi(u,"onBeforeInput"),0<u.length&&(f=new bd("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:u}),f.data=j))}am(d,t)})}function Is(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zi(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ts(e,n),i!=null&&r.unshift(Is(e,i,s)),i=Ts(e,t),i!=null&&r.push(Is(e,i,s))),e=e.return}return r}function rr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Od(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Ts(n,i),c!=null&&o.unshift(Is(n,c,a))):s||(c=Ts(n,i),c!=null&&o.push(Is(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dx=/\r\n?/g,fx=/\u0000|\uFFFD/g;function Md(e){return(typeof e=="string"?e:""+e).replace(dx,`
`).replace(fx,"")}function pi(e,t,n){if(t=Md(t),Md(e)!==t&&n)throw Error(D(425))}function Ji(){}var El=null,Il=null;function Al(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,hx=typeof clearTimeout=="function"?clearTimeout:void 0,Rd=typeof Promise=="function"?Promise:void 0,px=typeof queueMicrotask=="function"?queueMicrotask:typeof Rd<"u"?function(e){return Rd.resolve(null).then(e).catch(mx)}:Ol;function mx(e){setTimeout(function(){throw e})}function Ca(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),ks(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ks(t)}function pn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _d(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),It="__reactFiber$"+zr,As="__reactProps$"+zr,Kt="__reactContainer$"+zr,Ml="__reactEvents$"+zr,gx="__reactListeners$"+zr,yx="__reactHandles$"+zr;function Vn(e){var t=e[It];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Kt]||n[It]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_d(e);e!==null;){if(n=e[It])return n;e=_d(e)}return t}e=n,n=e.parentNode}return null}function Ys(e){return e=e[It]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function _o(e){return e[As]||null}var Rl=[],dr=-1;function kn(e){return{current:e}}function ce(e){0>dr||(e.current=Rl[dr],Rl[dr]=null,dr--)}function oe(e,t){dr++,Rl[dr]=e.current,e.current=t}var Sn={},ze=kn(Sn),Xe=kn(!1),Gn=Sn;function Er(e,t){var n=e.type.contextTypes;if(!n)return Sn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function eo(){ce(Xe),ce(ze)}function Ld(e,t,n){if(ze.current!==Sn)throw Error(D(168));oe(ze,t),oe(Xe,n)}function cm(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(D(108,tv(e)||"Unknown",s));return pe({},n,r)}function to(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Sn,Gn=ze.current,oe(ze,e),oe(Xe,Xe.current),!0}function Bd(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=cm(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,ce(Xe),ce(ze),oe(ze,e)):ce(Xe),oe(Xe,n)}var Lt=null,Lo=!1,ka=!1;function um(e){Lt===null?Lt=[e]:Lt.push(e)}function vx(e){Lo=!0,um(e)}function Pn(){if(!ka&&Lt!==null){ka=!0;var e=0,t=re;try{var n=Lt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Lt=null,Lo=!1}catch(s){throw Lt!==null&&(Lt=Lt.slice(e+1)),Rp(zc,Pn),s}finally{re=t,ka=!1}}return null}var fr=[],hr=0,no=null,ro=0,pt=[],mt=0,Kn=null,Vt=1,Ft="";function In(e,t){fr[hr++]=ro,fr[hr++]=no,no=e,ro=t}function dm(e,t,n){pt[mt++]=Vt,pt[mt++]=Ft,pt[mt++]=Kn,Kn=e;var r=Vt;e=Ft;var s=32-Ct(r)-1;r&=~(1<<s),n+=1;var i=32-Ct(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vt=1<<32-Ct(t)+s|n<<s|r,Ft=i+e}else Vt=1<<i|n<<s|r,Ft=e}function Xc(e){e.return!==null&&(In(e,1),dm(e,1,0))}function qc(e){for(;e===no;)no=fr[--hr],fr[hr]=null,ro=fr[--hr],fr[hr]=null;for(;e===Kn;)Kn=pt[--mt],pt[mt]=null,Ft=pt[--mt],pt[mt]=null,Vt=pt[--mt],pt[mt]=null}var rt=null,nt=null,ue=!1,Tt=null;function fm(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Vd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,rt=e,nt=pn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,rt=e,nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kn!==null?{id:Vt,overflow:Ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,rt=e,nt=null,!0):!1;default:return!1}}function _l(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ll(e){if(ue){var t=nt;if(t){var n=t;if(!Vd(e,t)){if(_l(e))throw Error(D(418));t=pn(n.nextSibling);var r=rt;t&&Vd(e,t)?fm(r,n):(e.flags=e.flags&-4097|2,ue=!1,rt=e)}}else{if(_l(e))throw Error(D(418));e.flags=e.flags&-4097|2,ue=!1,rt=e}}}function Fd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;rt=e}function mi(e){if(e!==rt)return!1;if(!ue)return Fd(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Al(e.type,e.memoizedProps)),t&&(t=nt)){if(_l(e))throw hm(),Error(D(418));for(;t;)fm(e,t),t=pn(t.nextSibling)}if(Fd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){nt=pn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}nt=null}}else nt=rt?pn(e.stateNode.nextSibling):null;return!0}function hm(){for(var e=nt;e;)e=pn(e.nextSibling)}function Ir(){nt=rt=null,ue=!1}function Zc(e){Tt===null?Tt=[e]:Tt.push(e)}var xx=Jt.ReactCurrentBatchConfig;function Qr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function gi(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zd(e){var t=e._init;return t(e._payload)}function pm(e){function t(x,m){if(e){var y=x.deletions;y===null?(x.deletions=[m],x.flags|=16):y.push(m)}}function n(x,m){if(!e)return null;for(;m!==null;)t(x,m),m=m.sibling;return null}function r(x,m){for(x=new Map;m!==null;)m.key!==null?x.set(m.key,m):x.set(m.index,m),m=m.sibling;return x}function s(x,m){return x=vn(x,m),x.index=0,x.sibling=null,x}function i(x,m,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<m?(x.flags|=2,m):y):(x.flags|=2,m)):(x.flags|=1048576,m)}function o(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,m,y,w){return m===null||m.tag!==6?(m=Ma(y,x.mode,w),m.return=x,m):(m=s(m,y),m.return=x,m)}function c(x,m,y,w){var T=y.type;return T===or?f(x,m,y.props.children,w,y.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rn&&zd(T)===m.type)?(w=s(m,y.props),w.ref=Qr(x,m,y),w.return=x,w):(w=Fi(y.type,y.key,y.props,null,x.mode,w),w.ref=Qr(x,m,y),w.return=x,w)}function u(x,m,y,w){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Ra(y,x.mode,w),m.return=x,m):(m=s(m,y.children||[]),m.return=x,m)}function f(x,m,y,w,T){return m===null||m.tag!==7?(m=Un(y,x.mode,w,T),m.return=x,m):(m=s(m,y),m.return=x,m)}function d(x,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ma(""+m,x.mode,y),m.return=x,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ii:return y=Fi(m.type,m.key,m.props,null,x.mode,y),y.ref=Qr(x,null,m),y.return=x,y;case ir:return m=Ra(m,x.mode,y),m.return=x,m;case rn:var w=m._init;return d(x,w(m._payload),y)}if(ns(m)||Hr(m))return m=Un(m,x.mode,y,null),m.return=x,m;gi(x,m)}return null}function h(x,m,y,w){var T=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(x,m,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ii:return y.key===T?c(x,m,y,w):null;case ir:return y.key===T?u(x,m,y,w):null;case rn:return T=y._init,h(x,m,T(y._payload),w)}if(ns(y)||Hr(y))return T!==null?null:f(x,m,y,w,null);gi(x,y)}return null}function p(x,m,y,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return x=x.get(y)||null,a(m,x,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ii:return x=x.get(w.key===null?y:w.key)||null,c(m,x,w,T);case ir:return x=x.get(w.key===null?y:w.key)||null,u(m,x,w,T);case rn:var N=w._init;return p(x,m,y,N(w._payload),T)}if(ns(w)||Hr(w))return x=x.get(y)||null,f(m,x,w,T,null);gi(m,w)}return null}function g(x,m,y,w){for(var T=null,N=null,j=m,C=m=0,E=null;j!==null&&C<y.length;C++){j.index>C?(E=j,j=null):E=j.sibling;var _=h(x,j,y[C],w);if(_===null){j===null&&(j=E);break}e&&j&&_.alternate===null&&t(x,j),m=i(_,m,C),N===null?T=_:N.sibling=_,N=_,j=E}if(C===y.length)return n(x,j),ue&&In(x,C),T;if(j===null){for(;C<y.length;C++)j=d(x,y[C],w),j!==null&&(m=i(j,m,C),N===null?T=j:N.sibling=j,N=j);return ue&&In(x,C),T}for(j=r(x,j);C<y.length;C++)E=p(j,x,C,y[C],w),E!==null&&(e&&E.alternate!==null&&j.delete(E.key===null?C:E.key),m=i(E,m,C),N===null?T=E:N.sibling=E,N=E);return e&&j.forEach(function(q){return t(x,q)}),ue&&In(x,C),T}function v(x,m,y,w){var T=Hr(y);if(typeof T!="function")throw Error(D(150));if(y=T.call(y),y==null)throw Error(D(151));for(var N=T=null,j=m,C=m=0,E=null,_=y.next();j!==null&&!_.done;C++,_=y.next()){j.index>C?(E=j,j=null):E=j.sibling;var q=h(x,j,_.value,w);if(q===null){j===null&&(j=E);break}e&&j&&q.alternate===null&&t(x,j),m=i(q,m,C),N===null?T=q:N.sibling=q,N=q,j=E}if(_.done)return n(x,j),ue&&In(x,C),T;if(j===null){for(;!_.done;C++,_=y.next())_=d(x,_.value,w),_!==null&&(m=i(_,m,C),N===null?T=_:N.sibling=_,N=_);return ue&&In(x,C),T}for(j=r(x,j);!_.done;C++,_=y.next())_=p(j,x,C,_.value,w),_!==null&&(e&&_.alternate!==null&&j.delete(_.key===null?C:_.key),m=i(_,m,C),N===null?T=_:N.sibling=_,N=_);return e&&j.forEach(function(Q){return t(x,Q)}),ue&&In(x,C),T}function S(x,m,y,w){if(typeof y=="object"&&y!==null&&y.type===or&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case ii:e:{for(var T=y.key,N=m;N!==null;){if(N.key===T){if(T=y.type,T===or){if(N.tag===7){n(x,N.sibling),m=s(N,y.props.children),m.return=x,x=m;break e}}else if(N.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===rn&&zd(T)===N.type){n(x,N.sibling),m=s(N,y.props),m.ref=Qr(x,N,y),m.return=x,x=m;break e}n(x,N);break}else t(x,N);N=N.sibling}y.type===or?(m=Un(y.props.children,x.mode,w,y.key),m.return=x,x=m):(w=Fi(y.type,y.key,y.props,null,x.mode,w),w.ref=Qr(x,m,y),w.return=x,x=w)}return o(x);case ir:e:{for(N=y.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(x,m.sibling),m=s(m,y.children||[]),m.return=x,x=m;break e}else{n(x,m);break}else t(x,m);m=m.sibling}m=Ra(y,x.mode,w),m.return=x,x=m}return o(x);case rn:return N=y._init,S(x,m,N(y._payload),w)}if(ns(y))return g(x,m,y,w);if(Hr(y))return v(x,m,y,w);gi(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(x,m.sibling),m=s(m,y),m.return=x,x=m):(n(x,m),m=Ma(y,x.mode,w),m.return=x,x=m),o(x)):n(x,m)}return S}var Ar=pm(!0),mm=pm(!1),so=kn(null),io=null,pr=null,Jc=null;function eu(){Jc=pr=io=null}function tu(e){var t=so.current;ce(so),e._currentValue=t}function Bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function kr(e,t){io=e,Jc=pr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ye=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Jc!==e)if(e={context:e,memoizedValue:t,next:null},pr===null){if(io===null)throw Error(D(308));pr=e,io.dependencies={lanes:0,firstContext:e}}else pr=pr.next=e;return t}var Fn=null;function nu(e){Fn===null?Fn=[e]:Fn.push(e)}function gm(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,nu(t)):(n.next=s.next,s.next=n),t.interleaved=n,Qt(e,r)}function Qt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sn=!1;function ru(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ym(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Qt(e,n)}return s=r.interleaved,s===null?(t.next=t,nu(r)):(t.next=s.next,s.next=t),r.interleaved=t,Qt(e,n)}function Mi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}function $d(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oo(e,t,n,r){var s=e.updateQueue;sn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=u:a.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,v=a;switch(h=t,p=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){d=g.call(p,d,h);break e}d=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,h=typeof g=="function"?g.call(p,d,h):g,h==null)break e;d=pe({},d,h);break e;case 2:sn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Yn|=o,e.lanes=o,e.memoizedState=d}}function Hd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var Xs={},Mt=kn(Xs),Os=kn(Xs),Ms=kn(Xs);function zn(e){if(e===Xs)throw Error(D(174));return e}function su(e,t){switch(oe(Ms,t),oe(Os,e),oe(Mt,Xs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vl(t,e)}ce(Mt),oe(Mt,t)}function Or(){ce(Mt),ce(Os),ce(Ms)}function vm(e){zn(Ms.current);var t=zn(Mt.current),n=vl(t,e.type);t!==n&&(oe(Os,e),oe(Mt,n))}function iu(e){Os.current===e&&(ce(Mt),ce(Os))}var de=kn(0);function ao(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pa=[];function ou(){for(var e=0;e<Pa.length;e++)Pa[e]._workInProgressVersionPrimary=null;Pa.length=0}var Ri=Jt.ReactCurrentDispatcher,Da=Jt.ReactCurrentBatchConfig,Qn=0,he=null,Se=null,Te=null,lo=!1,fs=!1,Rs=0,wx=0;function Me(){throw Error(D(321))}function au(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Pt(e[n],t[n]))return!1;return!0}function lu(e,t,n,r,s,i){if(Qn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ri.current=e===null||e.memoizedState===null?Tx:Nx,e=n(r,s),fs){i=0;do{if(fs=!1,Rs=0,25<=i)throw Error(D(301));i+=1,Te=Se=null,t.updateQueue=null,Ri.current=Cx,e=n(r,s)}while(fs)}if(Ri.current=co,t=Se!==null&&Se.next!==null,Qn=0,Te=Se=he=null,lo=!1,t)throw Error(D(300));return e}function cu(){var e=Rs!==0;return Rs=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?he.memoizedState=Te=e:Te=Te.next=e,Te}function wt(){if(Se===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Te===null?he.memoizedState:Te.next;if(t!==null)Te=t,Se=e;else{if(e===null)throw Error(D(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Te===null?he.memoizedState=Te=e:Te=Te.next=e}return Te}function _s(e,t){return typeof t=="function"?t(e):t}function Ea(e){var t=wt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,u=i;do{var f=u.lane;if((Qn&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,he.lanes|=f,Yn|=f}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=a,Pt(r,t.memoizedState)||(Ye=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,Yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=wt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Pt(i,t.memoizedState)||(Ye=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function xm(){}function wm(e,t){var n=he,r=wt(),s=t(),i=!Pt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ye=!0),r=r.queue,uu(jm.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,Ls(9,Sm.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(D(349));Qn&30||bm(n,t,s)}return s}function bm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Sm(e,t,n,r){t.value=n,t.getSnapshot=r,Tm(t)&&Nm(e)}function jm(e,t,n){return n(function(){Tm(t)&&Nm(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pt(e,n)}catch{return!0}}function Nm(e){var t=Qt(e,1);t!==null&&kt(t,e,1,-1)}function Ud(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:e},t.queue=e,e=e.dispatch=jx.bind(null,he,e),[t.memoizedState,e]}function Ls(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Cm(){return wt().memoizedState}function _i(e,t,n,r){var s=Et();he.flags|=e,s.memoizedState=Ls(1|t,n,void 0,r===void 0?null:r)}function Bo(e,t,n,r){var s=wt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,r!==null&&au(r,o.deps)){s.memoizedState=Ls(t,n,i,r);return}}he.flags|=e,s.memoizedState=Ls(1|t,n,i,r)}function Wd(e,t){return _i(8390656,8,e,t)}function uu(e,t){return Bo(2048,8,e,t)}function km(e,t){return Bo(4,2,e,t)}function Pm(e,t){return Bo(4,4,e,t)}function Dm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Em(e,t,n){return n=n!=null?n.concat([e]):null,Bo(4,4,Dm.bind(null,t,e),n)}function du(){}function Im(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&au(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Am(e,t){var n=wt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&au(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Om(e,t,n){return Qn&21?(Pt(n,t)||(n=Bp(),he.lanes|=n,Yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ye=!0),e.memoizedState=n)}function bx(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Da.transition;Da.transition={};try{e(!1),t()}finally{re=n,Da.transition=r}}function Mm(){return wt().memoizedState}function Sx(e,t,n){var r=yn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rm(e))_m(t,n);else if(n=gm(e,t,n,r),n!==null){var s=We();kt(n,e,r,s),Lm(n,t,r)}}function jx(e,t,n){var r=yn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rm(e))_m(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Pt(a,o)){var c=t.interleaved;c===null?(s.next=s,nu(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=gm(e,t,s,r),n!==null&&(s=We(),kt(n,e,r,s),Lm(n,t,r))}}function Rm(e){var t=e.alternate;return e===he||t!==null&&t===he}function _m(e,t){fs=lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Lm(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$c(e,n)}}var co={readContext:xt,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},Tx={readContext:xt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:Wd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_i(4194308,4,Dm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _i(4194308,4,e,t)},useInsertionEffect:function(e,t){return _i(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Et();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sx.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:Ud,useDebugValue:du,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=Ud(!1),t=e[0];return e=bx.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=Et();if(ue){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ne===null)throw Error(D(349));Qn&30||bm(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Wd(jm.bind(null,r,i,e),[e]),r.flags|=2048,Ls(9,Sm.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Et(),t=Ne.identifierPrefix;if(ue){var n=Ft,r=Vt;n=(r&~(1<<32-Ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Rs++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=wx++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Nx={readContext:xt,useCallback:Im,useContext:xt,useEffect:uu,useImperativeHandle:Em,useInsertionEffect:km,useLayoutEffect:Pm,useMemo:Am,useReducer:Ea,useRef:Cm,useState:function(){return Ea(_s)},useDebugValue:du,useDeferredValue:function(e){var t=wt();return Om(t,Se.memoizedState,e)},useTransition:function(){var e=Ea(_s)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:wm,useId:Mm,unstable_isNewReconciler:!1},Cx={readContext:xt,useCallback:Im,useContext:xt,useEffect:uu,useImperativeHandle:Em,useInsertionEffect:km,useLayoutEffect:Pm,useMemo:Am,useReducer:Ia,useRef:Cm,useState:function(){return Ia(_s)},useDebugValue:du,useDeferredValue:function(e){var t=wt();return Se===null?t.memoizedState=e:Om(t,Se.memoizedState,e)},useTransition:function(){var e=Ia(_s)[0],t=wt().memoizedState;return[e,t]},useMutableSource:xm,useSyncExternalStore:wm,useId:Mm,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Vl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Vo={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),s=yn(e),i=$t(r,s);i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(kt(t,e,s,r),Mi(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),s=yn(e),i=$t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=mn(e,i,s),t!==null&&(kt(t,e,s,r),Mi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=yn(e),s=$t(n,r);s.tag=2,t!=null&&(s.callback=t),t=mn(e,s,r),t!==null&&(kt(t,e,r,n),Mi(t,e,r))}};function Gd(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Ds(n,r)||!Ds(s,i):!0}function Bm(e,t,n){var r=!1,s=Sn,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(s=qe(t)?Gn:ze.current,r=t.contextTypes,i=(r=r!=null)?Er(e,s):Sn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Vo,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Kd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vo.enqueueReplaceState(t,t.state,null)}function Fl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},ru(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=xt(i):(i=qe(t)?Gn:ze.current,s.context=Er(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Vl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Vo.enqueueReplaceState(s,s.state,null),oo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Mr(e,t){try{var n="",r=t;do n+=ev(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Aa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var kx=typeof WeakMap=="function"?WeakMap:Map;function Vm(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fo||(fo=!0,ql=r),zl(e,t)},n}function Fm(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zl(e,t),typeof r!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new kx;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=zx.bind(null,e,t,n),t.then(e,e))}function Yd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Xd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,mn(n,t,1))),n.lanes|=1),e)}var Px=Jt.ReactCurrentOwner,Ye=!1;function Ue(e,t,n,r){t.child=e===null?mm(t,null,n,r):Ar(t,e.child,n,r)}function qd(e,t,n,r,s){n=n.render;var i=t.ref;return kr(t,s),r=lu(e,t,n,r,i,s),n=cu(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(ue&&n&&Xc(t),t.flags|=1,Ue(e,t,r,s),t.child)}function Zd(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!xu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,zm(e,t,i,r,s)):(e=Fi(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(o,r)&&e.ref===t.ref)return Yt(e,t,s)}return t.flags|=1,e=vn(i,r),e.ref=t.ref,e.return=t,t.child=e}function zm(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ds(i,r)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ye=!0);else return t.lanes=e.lanes,Yt(e,t,s)}return $l(e,t,n,r,s)}function $m(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(gr,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(gr,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(gr,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,oe(gr,tt),tt|=r;return Ue(e,t,s,n),t.child}function Hm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,s){var i=qe(n)?Gn:ze.current;return i=Er(t,i),kr(t,s),n=lu(e,t,n,r,i,s),r=cu(),e!==null&&!Ye?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Yt(e,t,s)):(ue&&r&&Xc(t),t.flags|=1,Ue(e,t,n,s),t.child)}function Jd(e,t,n,r,s){if(qe(n)){var i=!0;to(t)}else i=!1;if(kr(t,s),t.stateNode===null)Li(e,t),Bm(t,n,r),Fl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=xt(u):(u=qe(n)?Gn:ze.current,u=Er(t,u));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&Kd(t,o,r,u),sn=!1;var h=t.memoizedState;o.state=h,oo(t,r,o,s),c=t.memoizedState,a!==r||h!==c||Xe.current||sn?(typeof f=="function"&&(Vl(t,n,f,r),c=t.memoizedState),(a=sn||Gd(t,n,a,r,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ym(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:St(t.type,a),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=xt(c):(c=qe(n)?Gn:ze.current,c=Er(t,c));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&Kd(t,o,r,c),sn=!1,h=t.memoizedState,o.state=h,oo(t,r,o,s);var g=t.memoizedState;a!==d||h!==g||Xe.current||sn?(typeof p=="function"&&(Vl(t,n,p,r),g=t.memoizedState),(u=sn||Gd(t,n,u,r,h,g,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=g),o.props=r,o.state=g,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Hl(e,t,n,r,i,s)}function Hl(e,t,n,r,s,i){Hm(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Bd(t,n,!1),Yt(e,t,i);r=t.stateNode,Px.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Ar(t,e.child,null,i),t.child=Ar(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,s&&Bd(t,n,!0),t.child}function Um(e){var t=e.stateNode;t.pendingContext?Ld(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ld(e,t.context,!1),su(e,t.containerInfo)}function ef(e,t,n,r,s){return Ir(),Zc(s),t.flags|=256,Ue(e,t,n,r),t.child}var Ul={dehydrated:null,treeContext:null,retryLane:0};function Wl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Wm(e,t,n){var r=t.pendingProps,s=de.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(de,s&1),e===null)return Ll(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$o(o,r,0,null),e=Un(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Wl(n),t.memoizedState=Ul,e):fu(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Dx(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=vn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=vn(a,i):(i=Un(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Wl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ul,r}return i=e.child,e=i.sibling,r=vn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fu(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yi(e,t,n,r){return r!==null&&Zc(r),Ar(t,e.child,null,n),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Dx(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Aa(Error(D(422))),yi(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),i=Un(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Ar(t,e.child,null,o),t.child.memoizedState=Wl(o),t.memoizedState=Ul,i);if(!(t.mode&1))return yi(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Aa(i,r,void 0),yi(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ye||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Qt(e,s),kt(r,e,s,-1))}return vu(),r=Aa(Error(D(421))),yi(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=$x.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,nt=pn(s.nextSibling),rt=t,ue=!0,Tt=null,e!==null&&(pt[mt++]=Vt,pt[mt++]=Ft,pt[mt++]=Kn,Vt=e.id,Ft=e.overflow,Kn=t),t=fu(t,r.children),t.flags|=4096,t)}function tf(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bl(e.return,t,n)}function Oa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Gm(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&tf(e,n,t);else if(e.tag===19)tf(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(de,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ao(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Oa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ao(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Oa(t,!0,n,null,i);break;case"together":Oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Li(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ex(e,t,n){switch(t.tag){case 3:Um(t),Ir();break;case 5:vm(t);break;case 1:qe(t.type)&&to(t);break;case 4:su(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;oe(so,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?Wm(e,t,n):(oe(de,de.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Gm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,$m(e,t,n)}return Yt(e,t,n)}var Km,Gl,Qm,Ym;Km=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gl=function(){};Qm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,zn(Mt.current);var i=null;switch(n){case"input":s=pl(e,s),r=pl(e,r),i=[];break;case"select":s=pe({},s,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":s=yl(e,s),r=yl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ji)}xl(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ss.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ss.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&le("scroll",e),i||a===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ym=function(e,t,n,r){n!==r&&(t.flags|=4)};function Yr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ix(e,t,n){var r=t.pendingProps;switch(qc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return qe(t.type)&&eo(),Re(t),null;case 3:return r=t.stateNode,Or(),ce(Xe),ce(ze),ou(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(mi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Tt!==null&&(ec(Tt),Tt=null))),Gl(e,t),Re(t),null;case 5:iu(t);var s=zn(Ms.current);if(n=t.type,e!==null&&t.stateNode!=null)Qm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Re(t),null}if(e=zn(Mt.current),mi(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[It]=t,r[As]=i,e=(t.mode&1)!==0,n){case"dialog":le("cancel",r),le("close",r);break;case"iframe":case"object":case"embed":le("load",r);break;case"video":case"audio":for(s=0;s<ss.length;s++)le(ss[s],r);break;case"source":le("error",r);break;case"img":case"image":case"link":le("error",r),le("load",r);break;case"details":le("toggle",r);break;case"input":ud(r,i),le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},le("invalid",r);break;case"textarea":fd(r,i),le("invalid",r)}xl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&pi(r.textContent,a,e),s=["children",""+a]):Ss.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&le("scroll",r)}switch(n){case"input":oi(r),dd(r,i,!0);break;case"textarea":oi(r),hd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ji)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[It]=t,e[As]=r,Km(e,t,!1,!1),t.stateNode=e;e:{switch(o=wl(n,r),n){case"dialog":le("cancel",e),le("close",e),s=r;break;case"iframe":case"object":case"embed":le("load",e),s=r;break;case"video":case"audio":for(s=0;s<ss.length;s++)le(ss[s],e);s=r;break;case"source":le("error",e),s=r;break;case"img":case"image":case"link":le("error",e),le("load",e),s=r;break;case"details":le("toggle",e),s=r;break;case"input":ud(e,r),s=pl(e,r),le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=pe({},r,{value:void 0}),le("invalid",e);break;case"textarea":fd(e,r),s=yl(e,r),le("invalid",e);break;default:s=r}xl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Cp(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Tp(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&js(e,c):typeof c=="number"&&js(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ss.hasOwnProperty(i)?c!=null&&i==="onScroll"&&le("scroll",e):c!=null&&_c(e,i,c,o))}switch(n){case"input":oi(e),dd(e,r,!1);break;case"textarea":oi(e),hd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?jr(e,!!r.multiple,i,!1):r.defaultValue!=null&&jr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Re(t),null;case 6:if(e&&t.stateNode!=null)Ym(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=zn(Ms.current),zn(Mt.current),mi(t)){if(r=t.stateNode,n=t.memoizedProps,r[It]=t,(i=r.nodeValue!==n)&&(e=rt,e!==null))switch(e.tag){case 3:pi(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&pi(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[It]=t,t.stateNode=r}return Re(t),null;case 13:if(ce(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&nt!==null&&t.mode&1&&!(t.flags&128))hm(),Ir(),t.flags|=98560,i=!1;else if(i=mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[It]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),i=!1}else Tt!==null&&(ec(Tt),Tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?je===0&&(je=3):vu())),t.updateQueue!==null&&(t.flags|=4),Re(t),null);case 4:return Or(),Gl(e,t),e===null&&Es(t.stateNode.containerInfo),Re(t),null;case 10:return tu(t.type._context),Re(t),null;case 17:return qe(t.type)&&eo(),Re(t),null;case 19:if(ce(de),i=t.memoizedState,i===null)return Re(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)Yr(i,!1);else{if(je!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ao(e),o!==null){for(t.flags|=128,Yr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>Rr&&(t.flags|=128,r=!0,Yr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ao(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Yr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Re(t),null}else 2*ge()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Yr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),t):(Re(t),null);case 22:case 23:return yu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Ax(e,t){switch(qc(t),t.tag){case 1:return qe(t.type)&&eo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Or(),ce(Xe),ce(ze),ou(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return iu(t),null;case 13:if(ce(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(de),null;case 4:return Or(),null;case 10:return tu(t.type._context),null;case 22:case 23:return yu(),null;case 24:return null;default:return null}}var vi=!1,Be=!1,Ox=typeof WeakSet=="function"?WeakSet:Set,R=null;function mr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function Kl(e,t,n){try{n()}catch(r){me(e,t,r)}}var nf=!1;function Mx(e,t){if(El=Xi,e=em(),Yc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++u===s&&(a=o),h===i&&++f===r&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Il={focusedElem:e,selectionRange:n},Xi=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,S=g.memoizedState,x=t.stateNode,m=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:St(t.type,v),S);x.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return g=nf,nf=!1,g}function hs(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kl(t,n,i)}s=s.next}while(s!==r)}}function Fo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ql(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Xm(e){var t=e.alternate;t!==null&&(e.alternate=null,Xm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[It],delete t[As],delete t[Ml],delete t[gx],delete t[yx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function qm(e){return e.tag===5||e.tag===3||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ji));else if(r!==4&&(e=e.child,e!==null))for(Yl(e,t,n),e=e.sibling;e!==null;)Yl(e,t,n),e=e.sibling}function Xl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Xl(e,t,n),e=e.sibling;e!==null;)Xl(e,t,n),e=e.sibling}var De=null,jt=!1;function tn(e,t,n){for(n=n.child;n!==null;)Zm(e,t,n),n=n.sibling}function Zm(e,t,n){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(Ao,n)}catch{}switch(n.tag){case 5:Be||mr(n,t);case 6:var r=De,s=jt;De=null,tn(e,t,n),De=r,jt=s,De!==null&&(jt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(jt?(e=De,n=n.stateNode,e.nodeType===8?Ca(e.parentNode,n):e.nodeType===1&&Ca(e,n),ks(e)):Ca(De,n.stateNode));break;case 4:r=De,s=jt,De=n.stateNode.containerInfo,jt=!0,tn(e,t,n),De=r,jt=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kl(n,t,o),s=s.next}while(s!==r)}tn(e,t,n);break;case 1:if(!Be&&(mr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,t,a)}tn(e,t,n);break;case 21:tn(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,tn(e,t,n),Be=r):tn(e,t,n);break;default:tn(e,t,n)}}function sf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ox),t.forEach(function(r){var s=Hx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:De=a.stateNode,jt=!1;break e;case 3:De=a.stateNode.containerInfo,jt=!0;break e;case 4:De=a.stateNode.containerInfo,jt=!0;break e}a=a.return}if(De===null)throw Error(D(160));Zm(i,o,s),De=null,jt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Jm(t,e),t=t.sibling}function Jm(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Dt(e),r&4){try{hs(3,e,e.return),Fo(3,e)}catch(v){me(e,e.return,v)}try{hs(5,e,e.return)}catch(v){me(e,e.return,v)}}break;case 1:bt(t,e),Dt(e),r&512&&n!==null&&mr(n,n.return);break;case 5:if(bt(t,e),Dt(e),r&512&&n!==null&&mr(n,n.return),e.flags&32){var s=e.stateNode;try{js(s,"")}catch(v){me(e,e.return,v)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&bp(s,i),wl(a,o);var u=wl(a,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?Cp(s,d):f==="dangerouslySetInnerHTML"?Tp(s,d):f==="children"?js(s,d):_c(s,f,d,u)}switch(a){case"input":ml(s,i);break;case"textarea":Sp(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?jr(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[As]=i}catch(v){me(e,e.return,v)}}break;case 6:if(bt(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(v){me(e,e.return,v)}}break;case 3:if(bt(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(t.containerInfo)}catch(v){me(e,e.return,v)}break;case 4:bt(t,e),Dt(e);break;case 13:bt(t,e),Dt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(mu=ge())),r&4&&sf(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(u=Be)||f,bt(t,e),Be=u):bt(t,e),Dt(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(R=e,f=e.child;f!==null;){for(d=R=f;R!==null;){switch(h=R,p=h.child,h.tag){case 0:case 11:case 14:case 15:hs(4,h,h.return);break;case 1:mr(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){me(r,n,v)}}break;case 5:mr(h,h.return);break;case 22:if(h.memoizedState!==null){af(d);continue}}p!==null?(p.return=h,R=p):af(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Np("display",o))}catch(v){me(e,e.return,v)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){me(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:bt(t,e),Dt(e),r&4&&sf(e);break;case 21:break;default:bt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(qm(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(js(s,""),r.flags&=-33);var i=rf(e);Xl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=rf(e);Yl(e,a,o);break;default:throw Error(D(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rx(e,t,n){R=e,eg(e)}function eg(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||vi;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Be;a=vi;var u=Be;if(vi=o,(Be=c)&&!u)for(R=s;R!==null;)o=R,c=o.child,o.tag===22&&o.memoizedState!==null?lf(s):c!==null?(c.return=o,R=c):lf(s);for(;i!==null;)R=i,eg(i),i=i.sibling;R=s,vi=a,Be=u}of(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):of(e)}}function of(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Fo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Hd(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Hd(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ks(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}Be||t.flags&512&&Ql(t)}catch(h){me(t,t.return,h)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function af(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function lf(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Fo(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var i=t.return;try{Ql(t)}catch(c){me(t,i,c)}break;case 5:var o=t.return;try{Ql(t)}catch(c){me(t,o,c)}}}catch(c){me(t,t.return,c)}if(t===e){R=null;break}var a=t.sibling;if(a!==null){a.return=t.return,R=a;break}R=t.return}}var _x=Math.ceil,uo=Jt.ReactCurrentDispatcher,hu=Jt.ReactCurrentOwner,vt=Jt.ReactCurrentBatchConfig,Y=0,Ne=null,xe=null,Ie=0,tt=0,gr=kn(0),je=0,Bs=null,Yn=0,zo=0,pu=0,ps=null,Qe=null,mu=0,Rr=1/0,_t=null,fo=!1,ql=null,gn=null,xi=!1,un=null,ho=0,ms=0,Zl=null,Bi=-1,Vi=0;function We(){return Y&6?ge():Bi!==-1?Bi:Bi=ge()}function yn(e){return e.mode&1?Y&2&&Ie!==0?Ie&-Ie:xx.transition!==null?(Vi===0&&(Vi=Bp()),Vi):(e=re,e!==0||(e=window.event,e=e===void 0?16:Wp(e.type)),e):1}function kt(e,t,n,r){if(50<ms)throw ms=0,Zl=null,Error(D(185));Ks(e,n,r),(!(Y&2)||e!==Ne)&&(e===Ne&&(!(Y&2)&&(zo|=n),je===4&&ln(e,Ie)),Ze(e,r),n===1&&Y===0&&!(t.mode&1)&&(Rr=ge()+500,Lo&&Pn()))}function Ze(e,t){var n=e.callbackNode;xv(e,t);var r=Yi(e,e===Ne?Ie:0);if(r===0)n!==null&&gd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&gd(n),t===1)e.tag===0?vx(cf.bind(null,e)):um(cf.bind(null,e)),px(function(){!(Y&6)&&Pn()}),n=null;else{switch(Vp(r)){case 1:n=zc;break;case 4:n=_p;break;case 16:n=Qi;break;case 536870912:n=Lp;break;default:n=Qi}n=lg(n,tg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tg(e,t){if(Bi=-1,Vi=0,Y&6)throw Error(D(327));var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var r=Yi(e,e===Ne?Ie:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=po(e,r);else{t=r;var s=Y;Y|=2;var i=rg();(Ne!==e||Ie!==t)&&(_t=null,Rr=ge()+500,Hn(e,t));do try{Vx();break}catch(a){ng(e,a)}while(!0);eu(),uo.current=i,Y=s,xe!==null?t=0:(Ne=null,Ie=0,t=je)}if(t!==0){if(t===2&&(s=Nl(e),s!==0&&(r=s,t=Jl(e,s))),t===1)throw n=Bs,Hn(e,0),ln(e,r),Ze(e,ge()),n;if(t===6)ln(e,r);else{if(s=e.current.alternate,!(r&30)&&!Lx(s)&&(t=po(e,r),t===2&&(i=Nl(e),i!==0&&(r=i,t=Jl(e,i))),t===1))throw n=Bs,Hn(e,0),ln(e,r),Ze(e,ge()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:An(e,Qe,_t);break;case 3:if(ln(e,r),(r&130023424)===r&&(t=mu+500-ge(),10<t)){if(Yi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ol(An.bind(null,e,Qe,_t),t);break}An(e,Qe,_t);break;case 4:if(ln(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-Ct(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*_x(r/1960))-r,10<r){e.timeoutHandle=Ol(An.bind(null,e,Qe,_t),r);break}An(e,Qe,_t);break;case 5:An(e,Qe,_t);break;default:throw Error(D(329))}}}return Ze(e,ge()),e.callbackNode===n?tg.bind(null,e):null}function Jl(e,t){var n=ps;return e.current.memoizedState.isDehydrated&&(Hn(e,t).flags|=256),e=po(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&ec(t)),e}function ec(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Lx(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Pt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ln(e,t){for(t&=~pu,t&=~zo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ct(t),r=1<<n;e[n]=-1,t&=~r}}function cf(e){if(Y&6)throw Error(D(327));Pr();var t=Yi(e,0);if(!(t&1))return Ze(e,ge()),null;var n=po(e,t);if(e.tag!==0&&n===2){var r=Nl(e);r!==0&&(t=r,n=Jl(e,r))}if(n===1)throw n=Bs,Hn(e,0),ln(e,t),Ze(e,ge()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,An(e,Qe,_t),Ze(e,ge()),null}function gu(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(Rr=ge()+500,Lo&&Pn())}}function Xn(e){un!==null&&un.tag===0&&!(Y&6)&&Pr();var t=Y;Y|=1;var n=vt.transition,r=re;try{if(vt.transition=null,re=1,e)return e()}finally{re=r,vt.transition=n,Y=t,!(Y&6)&&Pn()}}function yu(){tt=gr.current,ce(gr)}function Hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,hx(n)),xe!==null)for(n=xe.return;n!==null;){var r=n;switch(qc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eo();break;case 3:Or(),ce(Xe),ce(ze),ou();break;case 5:iu(r);break;case 4:Or();break;case 13:ce(de);break;case 19:ce(de);break;case 10:tu(r.type._context);break;case 22:case 23:yu()}n=n.return}if(Ne=e,xe=e=vn(e.current,null),Ie=tt=t,je=0,Bs=null,pu=zo=Yn=0,Qe=ps=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fn=null}return e}function ng(e,t){do{var n=xe;try{if(eu(),Ri.current=co,lo){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}lo=!1}if(Qn=0,Te=Se=he=null,fs=!1,Rs=0,hu.current=null,n===null||n.return===null){je=1,Bs=t,xe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Ie,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Yd(o);if(p!==null){p.flags&=-257,Xd(p,o,a,i,t),p.mode&1&&Qd(i,u,t),t=p,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){Qd(i,u,t),vu();break e}c=Error(D(426))}}else if(ue&&a.mode&1){var S=Yd(o);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Xd(S,o,a,i,t),Zc(Mr(c,a));break e}}i=c=Mr(c,a),je!==4&&(je=2),ps===null?ps=[i]:ps.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Vm(i,c,t);$d(i,x);break e;case 1:a=c;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(gn===null||!gn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Fm(i,a,t);$d(i,w);break e}}i=i.return}while(i!==null)}ig(n)}catch(T){t=T,xe===n&&n!==null&&(xe=n=n.return);continue}break}while(!0)}function rg(){var e=uo.current;return uo.current=co,e===null?co:e}function vu(){(je===0||je===3||je===2)&&(je=4),Ne===null||!(Yn&268435455)&&!(zo&268435455)||ln(Ne,Ie)}function po(e,t){var n=Y;Y|=2;var r=rg();(Ne!==e||Ie!==t)&&(_t=null,Hn(e,t));do try{Bx();break}catch(s){ng(e,s)}while(!0);if(eu(),Y=n,uo.current=r,xe!==null)throw Error(D(261));return Ne=null,Ie=0,je}function Bx(){for(;xe!==null;)sg(xe)}function Vx(){for(;xe!==null&&!uv();)sg(xe)}function sg(e){var t=ag(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?ig(e):xe=t,hu.current=null}function ig(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ax(n,t),n!==null){n.flags&=32767,xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{je=6,xe=null;return}}else if(n=Ix(n,t,tt),n!==null){xe=n;return}if(t=t.sibling,t!==null){xe=t;return}xe=t=e}while(t!==null);je===0&&(je=5)}function An(e,t,n){var r=re,s=vt.transition;try{vt.transition=null,re=1,Fx(e,t,n,r)}finally{vt.transition=s,re=r}return null}function Fx(e,t,n,r){do Pr();while(un!==null);if(Y&6)throw Error(D(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(wv(e,i),e===Ne&&(xe=Ne=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xi||(xi=!0,lg(Qi,function(){return Pr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=vt.transition,vt.transition=null;var o=re;re=1;var a=Y;Y|=4,hu.current=null,Mx(e,n),Jm(n,e),ox(Il),Xi=!!El,Il=El=null,e.current=n,Rx(n),dv(),Y=a,re=o,vt.transition=i}else e.current=n;if(xi&&(xi=!1,un=e,ho=s),i=e.pendingLanes,i===0&&(gn=null),pv(n.stateNode),Ze(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(fo)throw fo=!1,e=ql,ql=null,e;return ho&1&&e.tag!==0&&Pr(),i=e.pendingLanes,i&1?e===Zl?ms++:(ms=0,Zl=e):ms=0,Pn(),null}function Pr(){if(un!==null){var e=Vp(ho),t=vt.transition,n=re;try{if(vt.transition=null,re=16>e?16:e,un===null)var r=!1;else{if(e=un,un=null,ho=0,Y&6)throw Error(D(331));var s=Y;for(Y|=4,R=e.current;R!==null;){var i=R,o=i.child;if(R.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(R=u;R!==null;){var f=R;switch(f.tag){case 0:case 11:case 15:hs(8,f,i)}var d=f.child;if(d!==null)d.return=f,R=d;else for(;R!==null;){f=R;var h=f.sibling,p=f.return;if(Xm(f),f===u){R=null;break}if(h!==null){h.return=p,R=h;break}R=p}}}var g=i.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}R=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,R=o;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hs(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,R=x;break e}R=i.return}}var m=e.current;for(R=m;R!==null;){o=R;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,R=y;else e:for(o=m;R!==null;){if(a=R,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fo(9,a)}}catch(T){me(a,a.return,T)}if(a===o){R=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,R=w;break e}R=a.return}}if(Y=s,Pn(),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(Ao,e)}catch{}r=!0}return r}finally{re=n,vt.transition=t}}return!1}function uf(e,t,n){t=Mr(n,t),t=Vm(e,t,1),e=mn(e,t,1),t=We(),e!==null&&(Ks(e,1,t),Ze(e,t))}function me(e,t,n){if(e.tag===3)uf(e,e,n);else for(;t!==null;){if(t.tag===3){uf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gn===null||!gn.has(r))){e=Mr(n,e),e=Fm(t,e,1),t=mn(t,e,1),e=We(),t!==null&&(Ks(t,1,e),Ze(t,e));break}}t=t.return}}function zx(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Ie&n)===n&&(je===4||je===3&&(Ie&130023424)===Ie&&500>ge()-mu?Hn(e,0):pu|=n),Ze(e,t)}function og(e,t){t===0&&(e.mode&1?(t=ci,ci<<=1,!(ci&130023424)&&(ci=4194304)):t=1);var n=We();e=Qt(e,t),e!==null&&(Ks(e,t,n),Ze(e,n))}function $x(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),og(e,n)}function Hx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),og(e,n)}var ag;ag=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xe.current)Ye=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ye=!1,Ex(e,t,n);Ye=!!(e.flags&131072)}else Ye=!1,ue&&t.flags&1048576&&dm(t,ro,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Li(e,t),e=t.pendingProps;var s=Er(t,ze.current);kr(t,n),s=lu(null,t,r,e,s,n);var i=cu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(i=!0,to(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ru(t),s.updater=Vo,t.stateNode=s,s._reactInternals=t,Fl(t,r,e,n),t=Hl(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&Xc(t),Ue(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Li(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Wx(r),e=St(r,e),s){case 0:t=$l(null,t,r,e,n);break e;case 1:t=Jd(null,t,r,e,n);break e;case 11:t=qd(null,t,r,e,n);break e;case 14:t=Zd(null,t,r,St(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),$l(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Jd(e,t,r,s,n);case 3:e:{if(Um(t),e===null)throw Error(D(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ym(e,t),oo(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Mr(Error(D(423)),t),t=ef(e,t,r,n,s);break e}else if(r!==s){s=Mr(Error(D(424)),t),t=ef(e,t,r,n,s);break e}else for(nt=pn(t.stateNode.containerInfo.firstChild),rt=t,ue=!0,Tt=null,n=mm(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ir(),r===s){t=Yt(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return vm(t),e===null&&Ll(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Al(r,s)?o=null:i!==null&&Al(r,i)&&(t.flags|=32),Hm(e,t),Ue(e,t,o,n),t.child;case 6:return e===null&&Ll(t),null;case 13:return Wm(e,t,n);case 4:return su(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ar(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),qd(e,t,r,s,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,oe(so,r._currentValue),r._currentValue=o,i!==null)if(Pt(i.value,o)){if(i.children===s.children&&!Xe.current){t=Yt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=$t(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Bl(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ue(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,kr(t,n),s=xt(s),r=r(s),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,s=St(r,t.pendingProps),s=St(r.type,s),Zd(e,t,r,s,n);case 15:return zm(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:St(r,s),Li(e,t),t.tag=1,qe(r)?(e=!0,to(t)):e=!1,kr(t,n),Bm(t,r,s),Fl(t,r,s,n),Hl(null,t,r,!0,e,n);case 19:return Gm(e,t,n);case 22:return $m(e,t,n)}throw Error(D(156,t.tag))};function lg(e,t){return Rp(e,t)}function Ux(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,r){return new Ux(e,t,n,r)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wx(e){if(typeof e=="function")return xu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Bc)return 11;if(e===Vc)return 14}return 2}function vn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fi(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")xu(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case or:return Un(n.children,s,i,t);case Lc:o=8,s|=8;break;case ul:return e=yt(12,n,t,s|2),e.elementType=ul,e.lanes=i,e;case dl:return e=yt(13,n,t,s),e.elementType=dl,e.lanes=i,e;case fl:return e=yt(19,n,t,s),e.elementType=fl,e.lanes=i,e;case vp:return $o(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gp:o=10;break e;case yp:o=9;break e;case Bc:o=11;break e;case Vc:o=14;break e;case rn:o=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=yt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function Un(e,t,n,r){return e=yt(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=yt(22,e,r,t),e.elementType=vp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ma(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function Ra(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wu(e,t,n,r,s,i,o,a,c){return e=new Gx(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=yt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ru(i),e}function Kx(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ir,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cg(e){if(!e)return Sn;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(qe(n))return cm(e,n,t)}return t}function ug(e,t,n,r,s,i,o,a,c){return e=wu(n,r,!0,e,s,i,o,a,c),e.context=cg(null),n=e.current,r=We(),s=yn(n),i=$t(r,s),i.callback=t??null,mn(n,i,s),e.current.lanes=s,Ks(e,s,r),Ze(e,r),e}function Ho(e,t,n,r){var s=t.current,i=We(),o=yn(s);return n=cg(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=mn(s,t,o),e!==null&&(kt(e,s,o,i),Mi(e,s,o)),o}function mo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function df(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function bu(e,t){df(e,t),(e=e.alternate)&&df(e,t)}function Qx(){return null}var dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Su(e){this._internalRoot=e}Uo.prototype.render=Su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));Ho(e,t,null,null)};Uo.prototype.unmount=Su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xn(function(){Ho(null,e,null,null)}),t[Kt]=null}};function Uo(e){this._internalRoot=e}Uo.prototype.unstable_scheduleHydration=function(e){if(e){var t=$p();e={blockedOn:null,target:e,priority:t};for(var n=0;n<an.length&&t!==0&&t<an[n].priority;n++);an.splice(n,0,e),n===0&&Up(e)}};function ju(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ff(){}function Yx(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=mo(o);i.call(u)}}var o=ug(t,r,e,0,null,!1,!1,"",ff);return e._reactRootContainer=o,e[Kt]=o.current,Es(e.nodeType===8?e.parentNode:e),Xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=mo(c);a.call(u)}}var c=wu(e,0,!1,null,null,!1,!1,"",ff);return e._reactRootContainer=c,e[Kt]=c.current,Es(e.nodeType===8?e.parentNode:e),Xn(function(){Ho(t,c,n,r)}),c}function Go(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=mo(o);a.call(c)}}Ho(t,o,e,s)}else o=Yx(n,t,e,s,r);return mo(o)}Fp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=rs(t.pendingLanes);n!==0&&($c(t,n|1),Ze(t,ge()),!(Y&6)&&(Rr=ge()+500,Pn()))}break;case 13:Xn(function(){var r=Qt(e,1);if(r!==null){var s=We();kt(r,e,1,s)}}),bu(e,1)}};Hc=function(e){if(e.tag===13){var t=Qt(e,134217728);if(t!==null){var n=We();kt(t,e,134217728,n)}bu(e,134217728)}};zp=function(e){if(e.tag===13){var t=yn(e),n=Qt(e,t);if(n!==null){var r=We();kt(n,e,t,r)}bu(e,t)}};$p=function(){return re};Hp=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Sl=function(e,t,n){switch(t){case"input":if(ml(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=_o(r);if(!s)throw Error(D(90));wp(r),ml(r,s)}}}break;case"textarea":Sp(e,n);break;case"select":t=n.value,t!=null&&jr(e,!!n.multiple,t,!1)}};Dp=gu;Ep=Xn;var Xx={usingClientEntryPoint:!1,Events:[Ys,ur,_o,kp,Pp,gu]},Xr={findFiberByHostInstance:Vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qx={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Op(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||Qx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wi.isDisabled&&wi.supportsFiber)try{Ao=wi.inject(qx),Ot=wi}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xx;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(t))throw Error(D(200));return Kx(e,t,null,n)};lt.createRoot=function(e,t){if(!ju(e))throw Error(D(299));var n=!1,r="",s=dg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wu(e,1,!1,null,null,n,!1,r,s),e[Kt]=t.current,Es(e.nodeType===8?e.parentNode:e),new Su(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Op(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Xn(e)};lt.hydrate=function(e,t,n){if(!Wo(t))throw Error(D(200));return Go(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!ju(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=dg;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=ug(t,null,e,1,n??null,s,!1,i,o),e[Kt]=t.current,Es(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Uo(t)};lt.render=function(e,t,n){if(!Wo(t))throw Error(D(200));return Go(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Wo(e))throw Error(D(40));return e._reactRootContainer?(Xn(function(){Go(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1};lt.unstable_batchedUpdates=gu;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Wo(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return Go(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function fg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fg)}catch(e){console.error(e)}}fg(),fp.exports=lt;var Zx=fp.exports,hf=Zx;ll.createRoot=hf.createRoot,ll.hydrateRoot=hf.hydrateRoot;var hg={exports:{}},pg={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qs=b;function Jx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var e1=typeof Object.is=="function"?Object.is:Jx,t1=qs.useSyncExternalStore,n1=qs.useRef,r1=qs.useEffect,s1=qs.useMemo,i1=qs.useDebugValue;pg.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=n1(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=s1(function(){function c(p){if(!u){if(u=!0,f=p,p=r(p),s!==void 0&&o.hasValue){var g=o.value;if(s(g,p))return d=g}return d=p}if(g=d,e1(f,p))return g;var v=r(p);return s!==void 0&&s(g,v)?(f=p,g):(f=p,d=v)}var u=!1,f,d,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=t1(e,i[0],i[1]);return r1(function(){o.hasValue=!0,o.value=a},[a]),i1(a),a};hg.exports=pg;var o1=hg.exports;function a1(e){e()}function l1(){let e=null,t=null;return{clear(){e=null,t=null},notify(){a1(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var pf={notify(){},get:()=>[]};function c1(e,t){let n,r=pf,s=0,i=!1;function o(v){f();const S=r.subscribe(v);let x=!1;return()=>{x||(x=!0,S(),d())}}function a(){r.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return i}function f(){s++,n||(n=e.subscribe(c),r=l1())}function d(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=pf)}function h(){i||(i=!0,f())}function p(){i&&(i=!1,d())}const g={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var u1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",d1=u1(),f1=()=>typeof navigator<"u"&&navigator.product==="ReactNative",h1=f1(),p1=()=>d1||h1?b.useLayoutEffect:b.useEffect,m1=p1(),_a=Symbol.for("react-redux-context"),La=typeof globalThis<"u"?globalThis:{};function g1(){if(!b.createContext)return{};const e=La[_a]??(La[_a]=new Map);let t=e.get(b.createContext);return t||(t=b.createContext(null),e.set(b.createContext,t)),t}var jn=g1();function y1(e){const{children:t,context:n,serverState:r,store:s}=e,i=b.useMemo(()=>{const c=c1(s);return{store:s,subscription:c,getServerState:r?()=>r:void 0}},[s,r]),o=b.useMemo(()=>s.getState(),[s]);m1(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const a=n||jn;return b.createElement(a.Provider,{value:i},t)}var v1=y1;function Tu(e=jn){return function(){return b.useContext(e)}}var mg=Tu();function gg(e=jn){const t=e===jn?mg:Tu(e),n=()=>{const{store:r}=t();return r};return Object.assign(n,{withTypes:()=>n}),n}var x1=gg();function w1(e=jn){const t=e===jn?x1:gg(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var yg=w1(),b1=(e,t)=>e===t;function S1(e=jn){const t=e===jn?mg:Tu(e),n=(r,s={})=>{const{equalityFn:i=b1}=typeof s=="function"?{equalityFn:s}:s,o=t(),{store:a,subscription:c,getServerState:u}=o;b.useRef(!0);const f=b.useCallback({[r.name](h){return r(h)}}[r.name],[r]),d=o1.useSyncExternalStoreWithSelector(c.addNestedSub,a.getState,u||a.getState,f,i);return b.useDebugValue(d),d};return Object.assign(n,{withTypes:()=>n}),n}var Nu=S1();function Pe(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var j1=typeof Symbol=="function"&&Symbol.observable||"@@observable",mf=j1,Ba=()=>Math.random().toString(36).substring(7).split("").join("."),T1={INIT:`@@redux/INIT${Ba()}`,REPLACE:`@@redux/REPLACE${Ba()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ba()}`},go=T1;function Cu(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function vg(e,t,n){if(typeof e!="function")throw new Error(Pe(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pe(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pe(1));return n(vg)(e,t)}let r=e,s=t,i=new Map,o=i,a=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((S,x)=>{o.set(x,S)}))}function f(){if(c)throw new Error(Pe(3));return s}function d(S){if(typeof S!="function")throw new Error(Pe(4));if(c)throw new Error(Pe(5));let x=!0;u();const m=a++;return o.set(m,S),function(){if(x){if(c)throw new Error(Pe(6));x=!1,u(),o.delete(m),i=null}}}function h(S){if(!Cu(S))throw new Error(Pe(7));if(typeof S.type>"u")throw new Error(Pe(8));if(typeof S.type!="string")throw new Error(Pe(17));if(c)throw new Error(Pe(9));try{c=!0,s=r(s,S)}finally{c=!1}return(i=o).forEach(m=>{m()}),S}function p(S){if(typeof S!="function")throw new Error(Pe(10));r=S,h({type:go.REPLACE})}function g(){const S=d;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Pe(11));function m(){const w=x;w.next&&w.next(f())}return m(),{unsubscribe:S(m)}},[mf](){return this}}}return h({type:go.INIT}),{dispatch:h,subscribe:d,getState:f,replaceReducer:p,[mf]:g}}function N1(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:go.INIT})>"u")throw new Error(Pe(12));if(typeof n(void 0,{type:go.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pe(13))})}function C1(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let s;try{N1(n)}catch(i){s=i}return function(o={},a){if(s)throw s;let c=!1;const u={};for(let f=0;f<r.length;f++){const d=r[f],h=n[d],p=o[d],g=h(p,a);if(typeof g>"u")throw a&&a.type,new Error(Pe(14));u[d]=g,c=c||g!==p}return c=c||r.length!==Object.keys(o).length,c?u:o}}function yo(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function k1(...e){return t=>(n,r)=>{const s=t(n,r);let i=()=>{throw new Error(Pe(15))};const o={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},a=e.map(c=>c(o));return i=yo(...a)(s.dispatch),{...s,dispatch:i}}}function P1(e){return Cu(e)&&"type"in e&&typeof e.type=="string"}var xg=Symbol.for("immer-nothing"),gf=Symbol.for("immer-draftable"),it=Symbol.for("immer-state");function Nt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var _r=Object.getPrototypeOf;function qn(e){return!!e&&!!e[it]}function Xt(e){var t;return e?wg(e)||Array.isArray(e)||!!e[gf]||!!((t=e.constructor)!=null&&t[gf])||Qo(e)||Yo(e):!1}var D1=Object.prototype.constructor.toString();function wg(e){if(!e||typeof e!="object")return!1;const t=_r(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===D1}function vo(e,t){Ko(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Ko(e){const t=e[it];return t?t.type_:Array.isArray(e)?1:Qo(e)?2:Yo(e)?3:0}function tc(e,t){return Ko(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function bg(e,t,n){const r=Ko(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function E1(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Qo(e){return e instanceof Map}function Yo(e){return e instanceof Set}function On(e){return e.copy_||e.base_}function nc(e,t){if(Qo(e))return new Map(e);if(Yo(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=wg(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[it];let s=Reflect.ownKeys(r);for(let i=0;i<s.length;i++){const o=s[i],a=r[o];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[o]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[o]})}return Object.create(_r(e),r)}else{const r=_r(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function ku(e,t=!1){return Xo(e)||qn(e)||!Xt(e)||(Ko(e)>1&&(e.set=e.add=e.clear=e.delete=I1),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>ku(r,!0))),e}function I1(){Nt(2)}function Xo(e){return Object.isFrozen(e)}var A1={};function Zn(e){const t=A1[e];return t||Nt(0,e),t}var Vs;function Sg(){return Vs}function O1(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yf(e,t){t&&(Zn("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rc(e){sc(e),e.drafts_.forEach(M1),e.drafts_=null}function sc(e){e===Vs&&(Vs=e.parent_)}function vf(e){return Vs=O1(Vs,e)}function M1(e){const t=e[it];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function xf(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[it].modified_&&(rc(t),Nt(4)),Xt(e)&&(e=xo(t,e),t.parent_||wo(t,e)),t.patches_&&Zn("Patches").generateReplacementPatches_(n[it].base_,e,t.patches_,t.inversePatches_)):e=xo(t,n,[]),rc(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==xg?e:void 0}function xo(e,t,n){if(Xo(t))return t;const r=t[it];if(!r)return vo(t,(s,i)=>wf(e,r,t,s,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return wo(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let i=s,o=!1;r.type_===3&&(i=new Set(s),s.clear(),o=!0),vo(i,(a,c)=>wf(e,r,s,a,c,n,o)),wo(e,s,!1),n&&e.patches_&&Zn("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function wf(e,t,n,r,s,i,o){if(qn(s)){const a=i&&t&&t.type_!==3&&!tc(t.assigned_,r)?i.concat(r):void 0,c=xo(e,s,a);if(bg(n,r,c),qn(c))e.canAutoFreeze_=!1;else return}else o&&n.add(s);if(Xt(s)&&!Xo(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;xo(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&wo(e,s)}}function wo(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ku(t,n)}function R1(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Sg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,i=Pu;n&&(s=[r],i=Fs);const{revoke:o,proxy:a}=Proxy.revocable(s,i);return r.draft_=a,r.revoke_=o,a}var Pu={get(e,t){if(t===it)return e;const n=On(e);if(!tc(n,t))return _1(e,n,t);const r=n[t];return e.finalized_||!Xt(r)?r:r===Va(e.base_,t)?(Fa(e),e.copy_[t]=oc(r,e)):r},has(e,t){return t in On(e)},ownKeys(e){return Reflect.ownKeys(On(e))},set(e,t,n){const r=jg(On(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=Va(On(e),t),i=s==null?void 0:s[it];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(E1(n,s)&&(n!==void 0||tc(e.base_,t)))return!0;Fa(e),ic(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Va(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Fa(e),ic(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=On(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Nt(11)},getPrototypeOf(e){return _r(e.base_)},setPrototypeOf(){Nt(12)}},Fs={};vo(Pu,(e,t)=>{Fs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Fs.deleteProperty=function(e,t){return Fs.set.call(this,e,t,void 0)};Fs.set=function(e,t,n){return Pu.set.call(this,e[0],t,n,e[0])};function Va(e,t){const n=e[it];return(n?On(n):e)[t]}function _1(e,t,n){var s;const r=jg(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function jg(e,t){if(!(t in e))return;let n=_r(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=_r(n)}}function ic(e){e.modified_||(e.modified_=!0,e.parent_&&ic(e.parent_))}function Fa(e){e.copy_||(e.copy_=nc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var L1=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(c=i,...u){return o.produce(c,f=>n.call(this,f,...u))}}typeof n!="function"&&Nt(6),r!==void 0&&typeof r!="function"&&Nt(7);let s;if(Xt(t)){const i=vf(this),o=oc(t,void 0);let a=!0;try{s=n(o),a=!1}finally{a?rc(i):sc(i)}return yf(i,r),xf(s,i)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===xg&&(s=void 0),this.autoFreeze_&&ku(s,!0),r){const i=[],o=[];Zn("Patches").generateReplacementPatches_(t,s,i,o),r(i,o)}return s}else Nt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(o,...a)=>this.produceWithPatches(o,c=>t(c,...a));let r,s;return[this.produce(t,n,(o,a)=>{r=o,s=a}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xt(e)||Nt(8),qn(e)&&(e=B1(e));const t=vf(this),n=oc(e,void 0);return n[it].isManual_=!0,sc(t),n}finishDraft(e,t){const n=e&&e[it];(!n||!n.isManual_)&&Nt(9);const{scope_:r}=n;return yf(r,t),xf(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=Zn("Patches").applyPatches_;return qn(e)?r(e,t):this.produce(e,s=>r(s,t))}};function oc(e,t){const n=Qo(e)?Zn("MapSet").proxyMap_(e,t):Yo(e)?Zn("MapSet").proxySet_(e,t):R1(e,t);return(t?t.scope_:Sg()).drafts_.push(n),n}function B1(e){return qn(e)||Nt(10,e),Tg(e)}function Tg(e){if(!Xt(e)||Xo(e))return e;const t=e[it];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=nc(e,t.scope_.immer_.useStrictShallowCopy_)}else n=nc(e,!0);return vo(n,(r,s)=>{bg(n,r,Tg(s))}),t&&(t.finalized_=!1),n}var ot=new L1,Ng=ot.produce;ot.produceWithPatches.bind(ot);ot.setAutoFreeze.bind(ot);ot.setUseStrictShallowCopy.bind(ot);ot.applyPatches.bind(ot);ot.createDraft.bind(ot);ot.finishDraft.bind(ot);function Cg(e){return({dispatch:n,getState:r})=>s=>i=>typeof i=="function"?i(n,r,e):s(i)}var V1=Cg(),F1=Cg,z1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?yo:yo.apply(null,arguments)};function bf(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Ht(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>P1(r)&&r.type===e,n}var kg=class is extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,is.prototype)}static get[Symbol.species](){return is}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new is(...t[0].concat(this)):new is(...t.concat(this))}};function Sf(e){return Xt(e)?Ng(e,()=>{}):e}function bi(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function $1(e){return typeof e=="boolean"}var H1=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let o=new kg;return n&&($1(n)?o.push(V1):o.push(F1(n.extraArgument))),o},U1="RTK_autoBatch",jf=e=>t=>{setTimeout(t,e)},W1=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,i=!1,o=!1;const a=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:jf(10):e.type==="callback"?e.queueNotification:jf(e.timeout),u=()=>{o=!1,i&&(i=!1,a.forEach(f=>f()))};return Object.assign({},r,{subscribe(f){const d=()=>s&&f(),h=r.subscribe(d);return a.add(f),()=>{h(),a.delete(f)}},dispatch(f){var d;try{return s=!((d=f==null?void 0:f.meta)!=null&&d[U1]),i=!s,i&&(o||(o=!0,c(u))),r.dispatch(f)}finally{s=!0}}})},G1=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new kg(e);return r&&s.push(W1(typeof r=="object"?r:void 0)),s};function K1(e){const t=H1(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let a;if(typeof n=="function")a=n;else if(Cu(n))a=C1(n);else throw new Error(Ht(1));let c;typeof r=="function"?c=r(t):c=t();let u=yo;s&&(u=z1({trace:!1,...typeof s=="object"&&s}));const f=k1(...c),d=G1(f);let h=typeof o=="function"?o(d):d();const p=u(...h);return vg(a,i,p)}function Pg(e){const t={},n=[];let r;const s={addCase(i,o){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(Ht(28));if(a in t)throw new Error(Ht(29));return t[a]=o,s},addMatcher(i,o){return n.push({matcher:i,reducer:o}),s},addDefaultCase(i){return r=i,s}};return e(s),[t,n,r]}function Q1(e){return typeof e=="function"}function Y1(e,t){let[n,r,s]=Pg(t),i;if(Q1(e))i=()=>Sf(e());else{const a=Sf(e);i=()=>a}function o(a=i(),c){let u=[n[c.type],...r.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[s]),u.reduce((f,d)=>{if(d)if(qn(f)){const p=d(f,c);return p===void 0?f:p}else{if(Xt(f))return Ng(f,h=>d(h,c));{const h=d(f,c);if(h===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return f},a)}return o.getInitialState=i,o}var X1=Symbol.for("rtk-slice-createasyncthunk");function q1(e,t){return`${e}/${t}`}function Z1({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[X1];return function(s){const{name:i,reducerPath:o=i}=s;if(!i)throw new Error(Ht(11));const a=(typeof s.reducers=="function"?s.reducers(tw()):s.reducers)||{},c=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(w,T){const N=typeof w=="string"?w:w.type;if(!N)throw new Error(Ht(12));if(N in u.sliceCaseReducersByType)throw new Error(Ht(13));return u.sliceCaseReducersByType[N]=T,f},addMatcher(w,T){return u.sliceMatchers.push({matcher:w,reducer:T}),f},exposeAction(w,T){return u.actionCreators[w]=T,f},exposeCaseReducer(w,T){return u.sliceCaseReducersByName[w]=T,f}};c.forEach(w=>{const T=a[w],N={reducerName:w,type:q1(i,w),createNotation:typeof s.reducers=="function"};rw(T)?iw(N,T,f,t):nw(N,T,f)});function d(){const[w={},T=[],N=void 0]=typeof s.extraReducers=="function"?Pg(s.extraReducers):[s.extraReducers],j={...w,...u.sliceCaseReducersByType};return Y1(s.initialState,C=>{for(let E in j)C.addCase(E,j[E]);for(let E of u.sliceMatchers)C.addMatcher(E.matcher,E.reducer);for(let E of T)C.addMatcher(E.matcher,E.reducer);N&&C.addDefaultCase(N)})}const h=w=>w,p=new Map,g=new WeakMap;let v;function S(w,T){return v||(v=d()),v(w,T)}function x(){return v||(v=d()),v.getInitialState()}function m(w,T=!1){function N(C){let E=C[w];return typeof E>"u"&&T&&(E=bi(g,N,x)),E}function j(C=h){const E=bi(p,T,()=>new WeakMap);return bi(E,C,()=>{const _={};for(const[q,Q]of Object.entries(s.selectors??{}))_[q]=J1(Q,C,()=>bi(g,C,x),T);return _})}return{reducerPath:w,getSelectors:j,get selectors(){return j(N)},selectSlice:N}}const y={name:i,reducer:S,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...m(o),injectInto(w,{reducerPath:T,...N}={}){const j=T??o;return w.inject({reducerPath:j,reducer:S},N),{...y,...m(j,!0)}}};return y}}function J1(e,t,n,r){function s(i,...o){let a=t(i);return typeof a>"u"&&r&&(a=n()),e(a,...o)}return s.unwrapped=e,s}var ew=Z1();function tw(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function nw({type:e,reducerName:t,createNotation:n},r,s){let i,o;if("reducer"in r){if(n&&!sw(r))throw new Error(Ht(17));i=r.reducer,o=r.prepare}else i=r;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?bf(e,o):bf(e))}function rw(e){return e._reducerDefinitionType==="asyncThunk"}function sw(e){return e._reducerDefinitionType==="reducerWithPrepare"}function iw({type:e,reducerName:t},n,r,s){if(!s)throw new Error(Ht(18));const{payloadCreator:i,fulfilled:o,pending:a,rejected:c,settled:u,options:f}=n,d=s(e,i,f);r.exposeAction(t,d),o&&r.addCase(d.fulfilled,o),a&&r.addCase(d.pending,a),c&&r.addCase(d.rejected,c),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(t,{fulfilled:o||Si,pending:a||Si,rejected:c||Si,settled:u||Si})}function Si(){}function Ht(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}let ji;const ow=new Uint8Array(16);function aw(){if(!ji&&(ji=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!ji))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ji(ow)}const ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));function lw(e,t=0){return ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]}const cw=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Tf={randomUUID:cw};function Bt(e,t,n){if(Tf.randomUUID&&!e)return Tf.randomUUID();e=e||{};const r=e.random||(e.rng||aw)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,lw(r)}var M=(e=>(e.Hearts="hearts",e.Diamonds="diamonds",e.Clubs="clubs",e.Spades="spades",e))(M||{}),A=(e=>(e.Seven="7",e.Eight="8",e.Nine="9",e.Ten="10",e.Jack="J",e.Queen="Q",e.King="K",e.Ace="A",e))(A||{}),ne=(e=>(e.Conservative="conservative",e.Aggressive="aggressive",e.Balanced="balanced",e.Adaptive="adaptive",e))(ne||{}),Ve=(e=>(e.Tierce="tierce",e.Quarte="quarte",e.Quinte="quinte",e.Carre="carre",e.Belote="belote",e))(Ve||{}),H=(e=>(e.Dealing="dealing",e.Bidding="bidding",e.Declaring="declaring",e.Playing="playing",e.Scoring="scoring",e.GameOver="gameOver",e))(H||{});const Nf={trump:{J:20,9:14,A:11,10:10,K:4,Q:3,8:0,7:0},nonTrump:{A:11,10:10,K:4,Q:3,J:2,9:0,8:0,7:0}},zi={tierce:20,quarte:50,quinte:100,belote:20,carre:{J:200,9:150,A:100,10:100,K:100,Q:100}},uw=10,za=()=>({bidAggressiveness:.5,trumpPreferences:{[M.Hearts]:.25,[M.Diamonds]:.25,[M.Clubs]:.25,[M.Spades]:.25},averageBidValue:100,riskTolerance:.5,declarationFrequency:.3,playStyle:"balanced",gamesPlayed:0}),Cf=()=>{const e=localStorage.getItem("cardSize"),t=[{id:Bt(),name:"You",isAI:!1,hand:[],teamId:"A",position:"south"},{id:Bt(),name:"AI Player 2",isAI:!0,hand:[],teamId:"B",position:"east",aiPersonality:ne.Aggressive,playerProfile:za()},{id:Bt(),name:"Partner",isAI:!0,hand:[],teamId:"A",position:"north",aiPersonality:ne.Conservative,playerProfile:za()},{id:Bt(),name:"AI Player 1",isAI:!0,hand:[],teamId:"B",position:"west",aiPersonality:ne.Balanced,playerProfile:za()}];return{id:Bt(),phase:H.Dealing,round:1,targetScore:151,players:t,teams:{A:{players:t.filter(n=>n.teamId==="A"),score:0,roundScore:0,wonTricks:[],trickPilePosition:null},B:{players:t.filter(n=>n.teamId==="B"),score:0,roundScore:0,wonTricks:[],trickPilePosition:null}},dealerIndex:0,currentPlayerIndex:1,contract:null,trumpSuit:null,biddingHistory:[],consecutivePasses:0,currentTrick:[],completedTricks:[],trickNumber:1,declarations:[],beloteAnnounced:null,moveHistory:[],selectedCard:null,validMoves:[],animatingCards:[],scores:{team1:0,team2:0},lastRoundScore:null,roundHistory:[],settings:{cardSize:e||"large",cardStyle:"classic",soundEnabled:!0,animationSpeed:"normal",advancedAI:!1,showTrickPilePoints:!1,rightClickZoom:!0},zoomedCard:null,declarationTracking:{},earlyTermination:!1}},Dg=ew({name:"game",initialState:Cf(),reducers:{newGame:e=>Cf(),setTargetScore:(e,t)=>{e.targetScore=t.payload},setAIPersonality:(e,t)=>{const n=e.players.find(r=>r.id===t.payload.playerId);n&&n.isAI&&(n.aiPersonality=t.payload.personality)},dealCards:(e,t)=>{e.phase=H.Dealing,e.players.forEach(n=>{n.hand=t.payload.playerHands[n.id]||[]}),e.contract=null,e.trumpSuit=null,e.biddingHistory=[],e.consecutivePasses=0,e.currentTrick=[],e.completedTricks=[],e.trickNumber=1,e.declarations=[],e.beloteAnnounced=null,e.validMoves=[],e.teams.A.roundScore=0,e.teams.B.roundScore=0,e.teams.A.wonTricks=[],e.teams.B.wonTricks=[],e.teams.A.trickPilePosition=null,e.teams.B.trickPilePosition=null,e.declarationTracking={},e.earlyTermination=!1},startBidding:e=>{e.phase=H.Bidding,e.currentPlayerIndex=(e.dealerIndex+1)%4},makeBid:(e,t)=>{var s;const n=e.players.find(i=>i.id===t.payload.playerId);if(!n||(s=e.contract)!=null&&s.doubled&&t.payload.bid!=="pass")return;e.biddingHistory.push({player:n,bid:t.payload.bid,trump:t.payload.trump}),t.payload.bid==="pass"?e.consecutivePasses++:(e.consecutivePasses=0,typeof t.payload.bid=="number"&&t.payload.trump&&(e.contract={bidder:n,team:n.teamId,value:t.payload.bid,trump:t.payload.trump,doubled:!1,redoubled:!1},e.trumpSuit=t.payload.trump)),e.currentPlayerIndex=(e.currentPlayerIndex+1)%4,(e.consecutivePasses===4||e.contract&&e.consecutivePasses===3)&&(e.contract?e.phase=H.Declaring:(e.phase=H.Dealing,e.dealerIndex=(e.dealerIndex+1)%4));const r={round:e.round,trick:0,player:n,action:"bid",details:{bid:t.payload.bid,trump:t.payload.trump},gameContext:{score:{A:e.teams.A.score,B:e.teams.B.score},contract:e.contract,trickNumber:0}};e.moveHistory.push(r)},doubleBid:(e,t)=>{if(e.contract&&!e.contract.doubled){const n=e.players.find(r=>r.id===t.payload.playerId);n&&n.teamId!==e.contract.team&&(e.contract.doubled=!0,e.consecutivePasses=0,e.biddingHistory.push({player:n,bid:"double",trump:e.contract.trump}),e.currentPlayerIndex=(e.currentPlayerIndex+1)%4)}},redoubleBid:(e,t)=>{if(e.contract&&e.contract.doubled&&!e.contract.redoubled){const n=e.players.find(r=>r.id===t.payload.playerId);n&&n.teamId===e.contract.team&&(e.contract.redoubled=!0,e.consecutivePasses=0,e.biddingHistory.push({player:n,bid:"redouble",trump:e.contract.trump}),e.currentPlayerIndex=(e.currentPlayerIndex+1)%4)}},makeDeclaration:(e,t)=>{e.declarations.push(t.payload);const n=t.payload.player,r={round:e.round,trick:0,player:n,action:"declare",details:{declaration:t.payload},gameContext:{score:{A:e.teams.A.score,B:e.teams.B.score},contract:e.contract,trickNumber:0}};e.moveHistory.push(r)},startPlaying:e=>{if(e.phase=H.Playing,e.contract){const t=e.players.findIndex(n=>n.id===e.contract.bidder.id);e.currentPlayerIndex=t}},selectCard:(e,t)=>{e.selectedCard=t.payload},setValidMoves:(e,t)=>{e.validMoves=t.payload},playCard:(e,t)=>{var i;const n=e.players.find(o=>o.id===t.payload.playerId);if(!n)return;n.hand=n.hand.filter(o=>o.id!==t.payload.card.id);const r={player:n,card:t.payload.card,order:e.currentTrick.length};e.currentTrick.push(r),e.animatingCards.push(t.payload.card.id);const s={round:e.round,trick:e.trickNumber,player:n,action:"play",details:{card:t.payload.card},gameContext:{score:{A:e.teams.A.score,B:e.teams.B.score},contract:e.contract,trickNumber:e.trickNumber}};if(e.moveHistory.push(s),e.trumpSuit&&t.payload.card.suit===e.trumpSuit){const o=t.payload.card.rank==="K",a=t.payload.card.rank==="Q";(o||a)&&(n.hand.some(u=>u.suit===e.trumpSuit&&u.rank===(o?"Q":"K"))||((i=e.beloteAnnounced)==null?void 0:i.team)===n.teamId)&&(!e.beloteAnnounced||e.beloteAnnounced.team!==n.teamId?(e.beloteAnnounced={team:n.teamId,kingPlayed:o,queenPlayed:a,announcement:"belote"},e.notifications||(e.notifications=[]),e.notifications.push({type:"belote",player:n.name,team:n.teamId,message:"Belote!",timestamp:Date.now()})):e.beloteAnnounced.team===n.teamId&&(e.beloteAnnounced.kingPlayed=e.beloteAnnounced.kingPlayed||o,e.beloteAnnounced.queenPlayed=e.beloteAnnounced.queenPlayed||a,e.beloteAnnounced.announcement="rebelote",e.notifications||(e.notifications=[]),e.notifications.push({type:"rebelote",player:n.name,team:n.teamId,message:"Rebelote!",timestamp:Date.now()})))}e.selectedCard=null,e.validMoves=[],e.currentTrick.length<4&&(e.currentPlayerIndex=(e.currentPlayerIndex+1)%4)},completeTrick:(e,t)=>{const n=e.currentTrick[0].card.suit,r={cards:[...e.currentTrick],leadSuit:n,winner:t.payload.winner,points:t.payload.points};e.completedTricks.push(r),e.currentTrick=[],e.animatingCards=[],t.payload.winner.teamId==="A"?(e.teams.A.roundScore+=t.payload.points,e.teams.A.wonTricks||(e.teams.A.wonTricks=[]),e.teams.A.wonTricks.push(r),e.teams.A.trickPilePosition||(e.teams.A.trickPilePosition=t.payload.winner.position)):(e.teams.B.roundScore+=t.payload.points,e.teams.B.wonTricks||(e.teams.B.wonTricks=[]),e.teams.B.wonTricks.push(r),e.teams.B.trickPilePosition||(e.teams.B.trickPilePosition=t.payload.winner.position));const i=e.players.findIndex(o=>o.id===t.payload.winner.id);e.currentPlayerIndex=i,e.completedTricks.length===8?e.phase=H.Scoring:e.trickNumber++},completeRound:(e,t)=>{e.teams.A.score+=t.payload.teamAScore,e.teams.B.score+=t.payload.teamBScore,e.scores.team1=e.teams.A.score,e.scores.team2=e.teams.B.score;const n={...t.payload.roundScore,contract:e.contract};e.lastRoundScore=n,e.roundHistory.push(n),e.teams.A.score>=e.targetScore||e.teams.B.score>=e.targetScore?e.phase=H.GameOver:(e.round++,e.dealerIndex=(e.dealerIndex+1)%4,e.phase=H.Dealing)},updatePlayerProfile:(e,t)=>{const n=e.players.find(r=>r.id===t.payload.playerId);n&&n.playerProfile&&Object.assign(n.playerProfile,t.payload.updates)},addAnimatingCard:(e,t)=>{e.animatingCards.push(t.payload)},removeAnimatingCard:(e,t)=>{e.animatingCards=e.animatingCards.filter(n=>n!==t.payload)},clearAnimatingCards:e=>{e.animatingCards=[]},updateSettings:(e,t)=>{e.settings||(e.settings={cardSize:"large",cardStyle:"classic",soundEnabled:!0,animationSpeed:"normal",advancedAI:!1,showTrickPilePoints:!1,rightClickZoom:!0}),Object.assign(e.settings,t.payload)},toggleCardZoom:(e,t)=>{var n;(n=e.settings)!=null&&n.rightClickZoom&&(e.zoomedCard=e.zoomedCard===t.payload?null:t.payload)},markPlayerDeclared:(e,t)=>{e.declarationTracking||(e.declarationTracking={}),e.declarationTracking[t.payload.playerId]||(e.declarationTracking[t.payload.playerId]={hasDeclared:!1,hasShown:!1,canShow:!1}),e.declarationTracking[t.payload.playerId].hasDeclared=!0,e.declarationTracking[t.payload.playerId].canShow=!0},markPlayerShown:(e,t)=>{e.declarationTracking&&e.declarationTracking[t.payload.playerId]&&(e.declarationTracking[t.payload.playerId].hasShown=!0,e.declarationTracking[t.payload.playerId].canShow=!1)},updateDeclarationRights:(e,t)=>{e.declarationTracking&&(Object.keys(e.declarationTracking).forEach(n=>{e.declarationTracking[n].canShow=!1}),e.players.forEach(n=>{if(n.teamId===t.payload.winningTeam){const r=e.declarationTracking[n.id];r&&r.hasDeclared&&!r.hasShown&&(r.canShow=!0)}}))},enableThirdTrickShowing:(e,t)=>{e.declarationTracking||(e.declarationTracking={}),t.payload.playerIds.forEach(n=>{e.declarationTracking[n]||(e.declarationTracking[n]={hasDeclared:!1,hasShown:!1,canShow:!1}),e.declarationTracking[n].canShow=!0})},setEarlyTermination:(e,t)=>{e.earlyTermination=t.payload},setPhase:(e,t)=>{e.phase=t.payload},updateRoundScores:(e,t)=>{e.teams.A.roundScore=t.payload.teamA,e.teams.B.roundScore=t.payload.teamB},clearNotification:(e,t)=>{e.notifications&&(e.notifications=e.notifications.filter(n=>n.timestamp!==t.payload.timestamp||n.type!==t.payload.type))}}}),{newGame:dw,updateSettings:yr,toggleCardZoom:qr,setTargetScore:fw,setAIPersonality:hw,dealCards:pw,startBidding:mw,makeBid:kf,doubleBid:ac,redoubleBid:lc,makeDeclaration:gw,startPlaying:Pf,selectCard:Df,setValidMoves:yw,playCard:Ef,completeTrick:vw,completeRound:xw,updatePlayerProfile:ww,clearNotification:bw,addAnimatingCard:dk,removeAnimatingCard:fk,clearAnimatingCards:hk,markPlayerDeclared:Eg,markPlayerShown:cc,updateDeclarationRights:Sw,enableThirdTrickShowing:$a,setEarlyTermination:jw,setPhase:Tw,updateRoundScores:Nw}=Dg.actions,Cw=Dg.reducer,_e=K1({reducer:{game:Cw},middleware:e=>e({serializableCheck:{ignoredActions:["game/addAnimatingCard","game/removeAnimatingCard"],ignoredPaths:["game.moveHistory","game.players"]}})}),Ig=b.createContext({dragDropManager:void 0});function dt(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var If=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Af=function(){return Math.random().toString(36).substring(7).split("").join(".")},Of={INIT:"@@redux/INIT"+Af(),REPLACE:"@@redux/REPLACE"+Af()};function kw(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Ag(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(dt(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(dt(1));return n(Ag)(e,t)}if(typeof e!="function")throw new Error(dt(2));var s=e,i=t,o=[],a=o,c=!1;function u(){a===o&&(a=o.slice())}function f(){if(c)throw new Error(dt(3));return i}function d(v){if(typeof v!="function")throw new Error(dt(4));if(c)throw new Error(dt(5));var S=!0;return u(),a.push(v),function(){if(S){if(c)throw new Error(dt(6));S=!1,u();var m=a.indexOf(v);a.splice(m,1),o=null}}}function h(v){if(!kw(v))throw new Error(dt(7));if(typeof v.type>"u")throw new Error(dt(8));if(c)throw new Error(dt(9));try{c=!0,i=s(i,v)}finally{c=!1}for(var S=o=a,x=0;x<S.length;x++){var m=S[x];m()}return v}function p(v){if(typeof v!="function")throw new Error(dt(10));s=v,h({type:Of.REPLACE})}function g(){var v,S=d;return v={subscribe:function(m){if(typeof m!="object"||m===null)throw new Error(dt(11));function y(){m.next&&m.next(f())}y();var w=S(y);return{unsubscribe:w}}},v[If]=function(){return this},v}return h({type:Of.INIT}),r={dispatch:h,subscribe:d,getState:f,replaceReducer:p},r[If]=g,r}function W(e,t,...n){if(Pw()&&t===void 0)throw new Error("invariant requires an error message argument");if(!e){let r;if(t===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let s=0;r=new Error(t.replace(/%s/g,function(){return n[s++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function Pw(){return typeof process<"u"&&!0}function Dw(e,t,n){return t.split(".").reduce((r,s)=>r&&r[s]?r[s]:n||null,e)}function Ew(e,t){return e.filter(n=>n!==t)}function Og(e){return typeof e=="object"}function Iw(e,t){const n=new Map,r=i=>{n.set(i,n.has(i)?n.get(i)+1:1)};e.forEach(r),t.forEach(r);const s=[];return n.forEach((i,o)=>{i===1&&s.push(o)}),s}function Aw(e,t){return e.filter(n=>t.indexOf(n)>-1)}const Du="dnd-core/INIT_COORDS",qo="dnd-core/BEGIN_DRAG",Eu="dnd-core/PUBLISH_DRAG_SOURCE",Zo="dnd-core/HOVER",Jo="dnd-core/DROP",ea="dnd-core/END_DRAG";function Mf(e,t){return{type:Du,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const Ow={type:Du,payload:{clientOffset:null,sourceClientOffset:null}};function Mw(e){return function(n=[],r={publishSource:!0}){const{publishSource:s=!0,clientOffset:i,getSourceClientOffset:o}=r,a=e.getMonitor(),c=e.getRegistry();e.dispatch(Mf(i)),Rw(n,a,c);const u=Bw(n,a);if(u==null){e.dispatch(Ow);return}let f=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");_w(o),f=o(u)}e.dispatch(Mf(i,f));const h=c.getSource(u).beginDrag(a,u);if(h==null)return;Lw(h),c.pinSource(u);const p=c.getSourceType(u);return{type:qo,payload:{itemType:p,item:h,sourceId:u,clientOffset:i||null,sourceClientOffset:f||null,isSourcePublic:!!s}}}}function Rw(e,t,n){W(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){W(n.getSource(r),"Expected sourceIds to be registered.")})}function _w(e){W(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Lw(e){W(Og(e),"Item must be an object.")}function Bw(e,t){let n=null;for(let r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Vw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Vw(e,s,n[s])})}return e}function zw(e){return function(n={}){const r=e.getMonitor(),s=e.getRegistry();$w(r),Ww(r).forEach((o,a)=>{const c=Hw(o,a,s,r),u={type:Jo,payload:{dropResult:Fw({},n,c)}};e.dispatch(u)})}}function $w(e){W(e.isDragging(),"Cannot call drop while not dragging."),W(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Hw(e,t,n,r){const s=n.getTarget(e);let i=s?s.drop(r,e):void 0;return Uw(i),typeof i>"u"&&(i=t===0?{}:r.getDropResult()),i}function Uw(e){W(typeof e>"u"||Og(e),"Drop result must either be an object or undefined.")}function Ww(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Gw(e){return function(){const n=e.getMonitor(),r=e.getRegistry();Kw(n);const s=n.getSourceId();return s!=null&&(r.getSource(s,!0).endDrag(n,s),r.unpinSource()),{type:ea}}}function Kw(e){W(e.isDragging(),"Cannot call endDrag while not dragging.")}function uc(e,t){return t===null?e===null:Array.isArray(e)?e.some(n=>n===t):e===t}function Qw(e){return function(n,{clientOffset:r}={}){Yw(n);const s=n.slice(0),i=e.getMonitor(),o=e.getRegistry(),a=i.getItemType();return qw(s,o,a),Xw(s,i,o),Zw(s,i,o),{type:Zo,payload:{targetIds:s,clientOffset:r||null}}}}function Yw(e){W(Array.isArray(e),"Expected targetIds to be an array.")}function Xw(e,t,n){W(t.isDragging(),"Cannot call hover while not dragging."),W(!t.didDrop(),"Cannot call hover after drop.");for(let r=0;r<e.length;r++){const s=e[r];W(e.lastIndexOf(s)===r,"Expected targetIds to be unique in the passed array.");const i=n.getTarget(s);W(i,"Expected targetIds to be registered.")}}function qw(e,t,n){for(let r=e.length-1;r>=0;r--){const s=e[r],i=t.getTargetType(s);uc(i,n)||e.splice(r,1)}}function Zw(e,t,n){e.forEach(function(r){n.getTarget(r).hover(t,r)})}function Jw(e){return function(){if(e.getMonitor().isDragging())return{type:Eu}}}function eb(e){return{beginDrag:Mw(e),publishDragSource:Jw(e),hover:Qw(e),drop:zw(e),endDrag:Gw(e)}}class tb{receiveBackend(t){this.backend=t}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const t=this,{dispatch:n}=this.store;function r(i){return(...o)=>{const a=i.apply(t,o);typeof a<"u"&&n(a)}}const s=eb(this);return Object.keys(s).reduce((i,o)=>{const a=s[o];return i[o]=r(a),i},{})}dispatch(t){this.store.dispatch(t)}constructor(t,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}}function nb(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Mg(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rb(e){const{clientOffset:t,initialClientOffset:n,initialSourceClientOffset:r}=e;return!t||!n||!r?null:Mg(nb(t,r),n)}function sb(e){const{clientOffset:t,initialClientOffset:n}=e;return!t||!n?null:Mg(t,n)}const gs=[],Iu=[];gs.__IS_NONE__=!0;Iu.__IS_ALL__=!0;function ib(e,t){return e===gs?!1:e===Iu||typeof t>"u"?!0:Aw(t,e).length>0}class ob{subscribeToStateChange(t,n={}){const{handlerIds:r}=n;W(typeof t=="function","listener must be a function."),W(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let s=this.store.getState().stateId;const i=()=>{const o=this.store.getState(),a=o.stateId;try{a===s||a===s+1&&!ib(o.dirtyHandlerIds,r)||t()}finally{s=a}};return this.store.subscribe(i)}subscribeToOffsetChange(t){W(typeof t=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const s=this.store.getState().dragOffset;s!==n&&(n=s,t())};return this.store.subscribe(r)}canDragSource(t){if(!t)return!1;const n=this.registry.getSource(t);return W(n,`Expected to find a valid source. sourceId=${t}`),this.isDragging()?!1:n.canDrag(this,t)}canDropOnTarget(t){if(!t)return!1;const n=this.registry.getTarget(t);if(W(n,`Expected to find a valid target. targetId=${t}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(t),s=this.getItemType();return uc(r,s)&&n.canDrop(this,t)}isDragging(){return!!this.getItemType()}isDraggingSource(t){if(!t)return!1;const n=this.registry.getSource(t,!0);if(W(n,`Expected to find a valid source. sourceId=${t}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(t),s=this.getItemType();return r!==s?!1:n.isDragging(this,t)}isOverTarget(t,n={shallow:!1}){if(!t)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const s=this.registry.getTargetType(t),i=this.getItemType();if(i&&!uc(s,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(t);return r?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return rb(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return sb(this.store.getState().dragOffset)}constructor(t,n){this.store=t,this.registry=n}}const Rf=typeof global<"u"?global:self,Rg=Rf.MutationObserver||Rf.WebKitMutationObserver;function _g(e){return function(){const n=setTimeout(s,0),r=setInterval(s,50);function s(){clearTimeout(n),clearInterval(r),e()}}}function ab(e){let t=1;const n=new Rg(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const lb=typeof Rg=="function"?ab:_g;class cb{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,s=t.length-this.index;r<s;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=lb(this.flush),this.requestErrorThrow=_g(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class ub{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class db{create(t){const n=this.freeTasks,r=n.length?n.pop():new ub(this.onError,s=>n[n.length]=s);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const Lg=new cb,fb=new db(Lg.registerPendingError);function hb(e){Lg.enqueueTask(fb.create(e))}const Au="dnd-core/ADD_SOURCE",Ou="dnd-core/ADD_TARGET",Mu="dnd-core/REMOVE_SOURCE",ta="dnd-core/REMOVE_TARGET";function pb(e){return{type:Au,payload:{sourceId:e}}}function mb(e){return{type:Ou,payload:{targetId:e}}}function gb(e){return{type:Mu,payload:{sourceId:e}}}function yb(e){return{type:ta,payload:{targetId:e}}}function vb(e){W(typeof e.canDrag=="function","Expected canDrag to be a function."),W(typeof e.beginDrag=="function","Expected beginDrag to be a function."),W(typeof e.endDrag=="function","Expected endDrag to be a function.")}function xb(e){W(typeof e.canDrop=="function","Expected canDrop to be a function."),W(typeof e.hover=="function","Expected hover to be a function."),W(typeof e.drop=="function","Expected beginDrag to be a function.")}function dc(e,t){if(t&&Array.isArray(e)){e.forEach(n=>dc(n,!1));return}W(typeof e=="string"||typeof e=="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var gt;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(gt||(gt={}));let wb=0;function bb(){return wb++}function Sb(e){const t=bb().toString();switch(e){case gt.SOURCE:return`S${t}`;case gt.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function _f(e){switch(e[0]){case"S":return gt.SOURCE;case"T":return gt.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function Lf(e,t){const n=e.entries();let r=!1;do{const{done:s,value:[,i]}=n.next();if(i===t)return!0;r=!!s}while(!r);return!1}class jb{addSource(t,n){dc(t),vb(n);const r=this.addHandler(gt.SOURCE,t,n);return this.store.dispatch(pb(r)),r}addTarget(t,n){dc(t,!0),xb(n);const r=this.addHandler(gt.TARGET,t,n);return this.store.dispatch(mb(r)),r}containsHandler(t){return Lf(this.dragSources,t)||Lf(this.dropTargets,t)}getSource(t,n=!1){return W(this.isSourceId(t),"Expected a valid source ID."),n&&t===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(t)}getTarget(t){return W(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}getSourceType(t){return W(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}getTargetType(t){return W(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}isSourceId(t){return _f(t)===gt.SOURCE}isTargetId(t){return _f(t)===gt.TARGET}removeSource(t){W(this.getSource(t),"Expected an existing source."),this.store.dispatch(gb(t)),hb(()=>{this.dragSources.delete(t),this.types.delete(t)})}removeTarget(t){W(this.getTarget(t),"Expected an existing target."),this.store.dispatch(yb(t)),this.dropTargets.delete(t),this.types.delete(t)}pinSource(t){const n=this.getSource(t);W(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}unpinSource(){W(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(t,n,r){const s=Sb(t);return this.types.set(s,n),t===gt.SOURCE?this.dragSources.set(s,r):t===gt.TARGET&&this.dropTargets.set(s,r),s}constructor(t){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}}const Tb=(e,t)=>e===t;function Nb(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function Cb(e,t,n=Tb){if(e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function kb(e=gs,t){switch(t.type){case Zo:break;case Au:case Ou:case ta:case Mu:return gs;case qo:case Eu:case ea:case Jo:default:return Iu}const{targetIds:n=[],prevTargetIds:r=[]}=t.payload,s=Iw(n,r);if(!(s.length>0||!Cb(n,r)))return gs;const o=r[r.length-1],a=n[n.length-1];return o!==a&&(o&&s.push(o),a&&s.push(a)),s}function Pb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Pb(e,s,n[s])})}return e}const Bf={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Eb(e=Bf,t){const{payload:n}=t;switch(t.type){case Du:case qo:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Zo:return Nb(e.clientOffset,n.clientOffset)?e:Db({},e,{clientOffset:n.clientOffset});case ea:case Jo:return Bf;default:return e}}function Ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){Ib(e,s,n[s])})}return e}const Ab={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ob(e=Ab,t){const{payload:n}=t;switch(t.type){case qo:return sr({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Eu:return sr({},e,{isSourcePublic:!0});case Zo:return sr({},e,{targetIds:n.targetIds});case ta:return e.targetIds.indexOf(n.targetId)===-1?e:sr({},e,{targetIds:Ew(e.targetIds,n.targetId)});case Jo:return sr({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case ea:return sr({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Mb(e=0,t){switch(t.type){case Au:case Ou:return e+1;case Mu:case ta:return e-1;default:return e}}function Rb(e=0){return e+1}function _b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){_b(e,s,n[s])})}return e}function Bb(e={},t){return{dirtyHandlerIds:kb(e.dirtyHandlerIds,{type:t.type,payload:Lb({},t.payload,{prevTargetIds:Dw(e,"dragOperation.targetIds",[])})}),dragOffset:Eb(e.dragOffset,t),refCount:Mb(e.refCount,t),dragOperation:Ob(e.dragOperation,t),stateId:Rb(e.stateId)}}function Vb(e,t=void 0,n={},r=!1){const s=Fb(r),i=new ob(s,new jb(s)),o=new tb(s,i),a=e(o,t,n);return o.receiveBackend(a),o}function Fb(e){const t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Ag(Bb,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}function zb(e,t){if(e==null)return{};var n=$b(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $b(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}let Vf=0;const $i=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var Hb=b.memo(function(t){var{children:n}=t,r=zb(t,["children"]);const[s,i]=Ub(r);return b.useEffect(()=>{if(i){const o=Bg();return++Vf,()=>{--Vf===0&&(o[$i]=null)}}},[]),l.jsx(Ig.Provider,{value:s,children:n})});function Ub(e){if("manager"in e)return[{dragDropManager:e.manager},!1];const t=Wb(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}function Wb(e,t=Bg(),n,r){const s=t;return s[$i]||(s[$i]={dragDropManager:Vb(e,t,n,r)}),s[$i]}function Bg(){return typeof global<"u"?global:window}var Gb=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,s,i;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(s=r;s--!==0;)if(!e(t[s],n[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(i=Object.keys(t),r=i.length,r!==Object.keys(n).length)return!1;for(s=r;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,i[s]))return!1;for(s=r;s--!==0;){var o=i[s];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n};const Kb=Dc(Gb),zs=typeof window<"u"?b.useLayoutEffect:b.useEffect;function Qb(e,t,n){const[r,s]=b.useState(()=>t(e)),i=b.useCallback(()=>{const o=t(e);Kb(r,o)||(s(o),n&&n())},[r,e,n]);return zs(i),[r,i]}function Yb(e,t,n){const[r,s]=Qb(e,t,n);return zs(function(){const o=e.getHandlerId();if(o!=null)return e.subscribeToStateChange(s,{handlerIds:[o]})},[e,s]),r}function Xb(e,t,n){return Yb(t,e||(()=>({})),()=>n.reconnect())}function qb(e,t){const n=[];return typeof e!="function"&&n.push(e),b.useMemo(()=>typeof e=="function"?e():e,n)}function Zb(e){return b.useMemo(()=>e.hooks.dragSource(),[e])}function Jb(e){return b.useMemo(()=>e.hooks.dragPreview(),[e])}let Ha=!1,Ua=!1;class eS{receiveHandlerId(t){this.sourceId=t}getHandlerId(){return this.sourceId}canDrag(){W(!Ha,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ha=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Ha=!1}}isDragging(){if(!this.sourceId)return!1;W(!Ua,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Ua=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Ua=!1}}subscribeToStateChange(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}isDraggingSource(t){return this.internalMonitor.isDraggingSource(t)}isOverTarget(t,n){return this.internalMonitor.isOverTarget(t,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(t){return this.internalMonitor.subscribeToOffsetChange(t)}canDragSource(t){return this.internalMonitor.canDragSource(t)}canDropOnTarget(t){return this.internalMonitor.canDropOnTarget(t)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(t){this.sourceId=null,this.internalMonitor=t.getMonitor()}}function tS(e,t,n){const r=n.getRegistry(),s=r.addSource(e,t);return[s,()=>r.removeSource(s)]}function Ff(e,t,n,r){let s;if(s!==void 0)return!!s;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;const i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<i.length;c++){const u=i[c];if(!a(u))return!1;const f=e[u],d=t[u];if(s=void 0,s===!1||s===void 0&&f!==d)return!1}return!0}function zf(e){return e!==null&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nS(e){if(typeof e.type=="string")return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}function rS(e){return(t=null,n=null)=>{if(!b.isValidElement(t)){const i=t;return e(i,n),i}const r=t;return nS(r),iS(r,n?i=>e(i,n):e)}}function sS(e){const t={};return Object.keys(e).forEach(n=>{const r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{const s=rS(r);t[n]=()=>s}}),t}function $f(e,t){typeof e=="function"?e(t):e.current=t}function iS(e,t){const n=e.ref;return W(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?b.cloneElement(e,{ref:r=>{$f(n,r),$f(t,r)}}):b.cloneElement(e,{ref:t})}class oS{receiveHandlerId(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(t){this.dragSourceOptionsInternal=t}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(t){this.dragPreviewOptionsInternal=t}reconnect(){const t=this.reconnectDragSource();this.reconnectDragPreview(t)}reconnectDragSource(){const t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?t?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions)),n):(this.lastConnectedDragSource=t,n):n}reconnectDragPreview(t=!1){const n=this.dragPreview,r=t||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!Ff(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!Ff(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(t){this.hooks=sS({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,zf(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,zf(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}}function Ru(){const{dragDropManager:e}=b.useContext(Ig);return W(e!=null,"Expected drag drop context"),e}function aS(e,t){const n=Ru(),r=b.useMemo(()=>new oS(n.getBackend()),[n]);return zs(()=>(r.dragSourceOptions=e||null,r.reconnect(),()=>r.disconnectDragSource()),[r,e]),zs(()=>(r.dragPreviewOptions=t||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,t]),r}function lS(){const e=Ru();return b.useMemo(()=>new eS(e),[e])}class cS{beginDrag(){const t=this.spec,n=this.monitor;let r=null;return typeof t.item=="object"?r=t.item:typeof t.item=="function"?r=t.item(n):r={},r??null}canDrag(){const t=this.spec,n=this.monitor;return typeof t.canDrag=="boolean"?t.canDrag:typeof t.canDrag=="function"?t.canDrag(n):!0}isDragging(t,n){const r=this.spec,s=this.monitor,{isDragging:i}=r;return i?i(s):n===t.getSourceId()}endDrag(){const t=this.spec,n=this.monitor,r=this.connector,{end:s}=t;s&&s(n.getItem(),n),r.reconnect()}constructor(t,n,r){this.spec=t,this.monitor=n,this.connector=r}}function uS(e,t,n){const r=b.useMemo(()=>new cS(e,t,n),[t,n]);return b.useEffect(()=>{r.spec=e},[e]),r}function dS(e){return b.useMemo(()=>{const t=e.type;return W(t!=null,"spec.type must be defined"),t},[e])}function fS(e,t,n){const r=Ru(),s=uS(e,t,n),i=dS(e);zs(function(){if(i!=null){const[a,c]=tS(i,s,r);return t.receiveHandlerId(a),n.receiveHandlerId(a),c}},[r,t,n,s,i])}function hS(e,t){const n=qb(e);W(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=lS(),s=aS(n.options,n.previewOptions);return fS(n,r,s),[Xb(n.collect,r,s),Zb(s),Jb(s)]}function Vg(e){let t=null;return()=>(t==null&&(t=e()),t)}function pS(e,t){return e.filter(n=>n!==t)}function mS(e,t){const n=new Set,r=i=>n.add(i);e.forEach(r),t.forEach(r);const s=[];return n.forEach(i=>s.push(i)),s}class gS{enter(t){const n=this.entered.length,r=s=>this.isNodeInDocument(s)&&(!s.contains||s.contains(t));return this.entered=mS(this.entered.filter(r),[t]),n===0&&this.entered.length>0}leave(t){const n=this.entered.length;return this.entered=pS(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(t){this.entered=[],this.isNodeInDocument=t}}class yS{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(t=>{Object.defineProperty(this.item,t,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${t}" until the drop event.`),null}})})}loadDataTransfer(t){if(t){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const s=this.config.exposeProperties[r];s!=null&&(n[r]={value:s(t,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(t,n){return n===t.getSourceId()}endDrag(){}constructor(t){this.config=t,this.item={},this.initializeExposedProperties()}}const Fg="__NATIVE_FILE__",zg="__NATIVE_URL__",$g="__NATIVE_TEXT__",Hg="__NATIVE_HTML__",Hf=Object.freeze(Object.defineProperty({__proto__:null,FILE:Fg,HTML:Hg,TEXT:$g,URL:zg},Symbol.toStringTag,{value:"Module"}));function Wa(e,t,n){const r=t.reduce((s,i)=>s||e.getData(i),"");return r??n}const fc={[Fg]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[Hg]:{exposeProperties:{html:(e,t)=>Wa(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[zg]:{exposeProperties:{urls:(e,t)=>Wa(e,t,"").split(`
`),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[$g]:{exposeProperties:{text:(e,t)=>Wa(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function vS(e,t){const n=fc[e];if(!n)throw new Error(`native type ${e} has no configuration`);const r=new yS(n);return r.loadDataTransfer(t),r}function Ga(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(fc).filter(n=>{const r=fc[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(s=>t.indexOf(s)>-1):!1})[0]||null}const xS=Vg(()=>/firefox/i.test(navigator.userAgent)),Ug=Vg(()=>!!window.safari);class Uf{interpolate(t){const{xs:n,ys:r,c1s:s,c2s:i,c3s:o}=this;let a=n.length-1;if(t===n[a])return r[a];let c=0,u=o.length-1,f;for(;c<=u;){f=Math.floor(.5*(c+u));const p=n[f];if(p<t)c=f+1;else if(p>t)u=f-1;else return r[f]}a=Math.max(0,u);const d=t-n[a],h=d*d;return r[a]+s[a]*d+i[a]*h+o[a]*d*h}constructor(t,n){const{length:r}=t,s=[];for(let p=0;p<r;p++)s.push(p);s.sort((p,g)=>t[p]<t[g]?-1:1);const i=[],o=[];let a,c;for(let p=0;p<r-1;p++)a=t[p+1]-t[p],c=n[p+1]-n[p],i.push(a),o.push(c/a);const u=[o[0]];for(let p=0;p<i.length-1;p++){const g=o[p],v=o[p+1];if(g*v<=0)u.push(0);else{a=i[p];const S=i[p+1],x=a+S;u.push(3*x/((x+S)/g+(x+a)/v))}}u.push(o[o.length-1]);const f=[],d=[];let h;for(let p=0;p<u.length-1;p++){h=o[p];const g=u[p],v=1/i[p],S=g+u[p+1]-h-h;f.push((h-g-S)*v),d.push(S*v*v)}this.xs=t,this.ys=n,this.c1s=u,this.c2s=f,this.c3s=d}}const wS=1;function Wg(e){const t=e.nodeType===wS?e:e.parentElement;if(!t)return null;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function Ti(e){return{x:e.clientX,y:e.clientY}}function bS(e){var t;return e.nodeName==="IMG"&&(xS()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function SS(e,t,n,r){let s=e?t.width:n,i=e?t.height:r;return Ug()&&e&&(i/=window.devicePixelRatio,s/=window.devicePixelRatio),{dragPreviewWidth:s,dragPreviewHeight:i}}function jS(e,t,n,r,s){const i=bS(t),a=Wg(i?e:t),c={x:n.x-a.x,y:n.y-a.y},{offsetWidth:u,offsetHeight:f}=e,{anchorX:d,anchorY:h}=r,{dragPreviewWidth:p,dragPreviewHeight:g}=SS(i,t,u,f),v=()=>{let N=new Uf([0,.5,1],[c.y,c.y/f*g,c.y+g-f]).interpolate(h);return Ug()&&i&&(N+=(window.devicePixelRatio-1)*g),N},S=()=>new Uf([0,.5,1],[c.x,c.x/u*p,c.x+p-u]).interpolate(d),{offsetX:x,offsetY:m}=s,y=x===0||x,w=m===0||m;return{x:y?x:S(),y:w?m:v()}}let TS=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var t;return!((t=this.globalContext)===null||t===void 0)&&t.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var t;return((t=this.optionsArgs)===null||t===void 0?void 0:t.rootElement)||this.window}constructor(t,n){this.ownerDocument=null,this.globalContext=t,this.optionsArgs=n}};function NS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable}))),r.forEach(function(s){NS(e,s,n[s])})}return e}class CS{profile(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const t=this.rootElement;if(t!==void 0){if(t.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");t.__isReactDndBackendSetUp=!0,this.addEventListeners(t)}}teardown(){const t=this.rootElement;if(t!==void 0&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDragSource(t,n,r){this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,r);const s=o=>this.handleDragStart(o,t),i=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",s),n.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(t),this.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",s),n.removeEventListener("selectstart",i),n.setAttribute("draggable","false")}}connectDropTarget(t,n){const r=o=>this.handleDragEnter(o,t),s=o=>this.handleDragOver(o,t),i=o=>this.handleDrop(o,t);return n.addEventListener("dragenter",r),n.addEventListener("dragover",s),n.addEventListener("drop",i),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",s),n.removeEventListener("drop",i)}}addEventListeners(t){t.addEventListener&&(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(t){t.removeEventListener&&(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return Wf({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return Wf({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const t=this.monitor.getItemType();return Object.keys(Hf).some(n=>Hf[n]===t)}beginDragNativeItem(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=vS(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(t){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var t;(t=this.window)===null||t===void 0||t.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(t,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(t,n){this.dropTargetIds.unshift(n)}constructor(t,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&Wg(i)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=s=>!!(s&&this.document&&this.document.body&&this.document.body.contains(s)),this.endDragIfSourceWasRemovedFromDOM=()=>{const s=this.currentDragSourceNode;s==null||this.isNodeInDocument(s)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=s=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(s||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=s=>{if(s.defaultPrevented)return;const{dragStartSourceIds:i}=this;this.dragStartSourceIds=null;const o=Ti(s);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=s,c=Ga(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const f=this.monitor.getSourceId(),d=this.sourceNodes.get(f),h=this.sourcePreviewNodes.get(f)||d;if(h){const{anchorX:p,anchorY:g,offsetX:v,offsetY:S}=this.getCurrentSourcePreviewNodeOptions(),y=jS(d,h,o,{anchorX:p,anchorY:g},{offsetX:v,offsetY:S});a.setDragImage(h,y.x,y.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(s.target);const{captureDraggingState:u}=this.getCurrentSourcePreviewNodeOptions();u?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(c)this.beginDragNativeItem(c);else{if(a&&!a.types&&(s.target&&!s.target.hasAttribute||!s.target.hasAttribute("draggable")))return;s.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=s=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}if(!this.enterLeaveCounter.enter(s.target)||this.monitor.isDragging())return;const{dataTransfer:a}=s,c=Ga(a);c&&this.beginDragNativeItem(c,a)},this.handleTopDragEnter=s=>{const{dragEnterTargetIds:i}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=s.altKey,i.length>0&&this.actions.hover(i,{clientOffset:Ti(s)}),i.some(a=>this.monitor.canDropOnTarget(a))&&(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=s=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var i;(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}},this.handleTopDragOver=s=>{const{dragOverTargetIds:i}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none");return}this.altKeyPressed=s.altKey,this.lastClientOffset=Ti(s),this.scheduleHover(i),(i||[]).some(a=>this.monitor.canDropOnTarget(a))?(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?s.preventDefault():(s.preventDefault(),s.dataTransfer&&(s.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=s=>{this.isDraggingNativeItem()&&s.preventDefault(),this.enterLeaveCounter.leave(s.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=s=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var i;s.preventDefault(),(i=this.currentNativeSource)===null||i===void 0||i.loadDataTransfer(s.dataTransfer)}else Ga(s.dataTransfer)&&s.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=s=>{const{dropTargetIds:i}=this;this.dropTargetIds=[],this.actions.hover(i,{clientOffset:Ti(s)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=s=>{const i=s.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(s.preventDefault(),i.dragDrop()))},this.options=new TS(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new gS(this.isNodeInDocument)}}const kS=function(t,n,r){return new CS(t,n,r)};var xn;(function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"})(xn||(xn={}));class PS{get delay(){var t;return(t=this.args.delay)!==null&&t!==void 0?t:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var t;return(t=this.args.ignoreContextMenu)!==null&&t!==void 0?t:!1}get enableHoverOutsideTarget(){var t;return(t=this.args.enableHoverOutsideTarget)!==null&&t!==void 0?t:!1}get enableKeyboardEvents(){var t;return(t=this.args.enableKeyboardEvents)!==null&&t!==void 0?t:!1}get enableMouseEvents(){var t;return(t=this.args.enableMouseEvents)!==null&&t!==void 0?t:!1}get enableTouchEvents(){var t;return(t=this.args.enableTouchEvents)!==null&&t!==void 0?t:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var t,n,r,s;return(s=(r=(t=this.args)===null||t===void 0?void 0:t.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&s!==void 0?s:0}get delayMouseStart(){var t,n,r,s;return(s=(r=(t=this.args)===null||t===void 0?void 0:t.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&s!==void 0?s:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var t;if(!((t=this.context)===null||t===void 0)&&t.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var t;return((t=this.args)===null||t===void 0?void 0:t.rootElement)||this.document}constructor(t,n){this.args=t,this.context=n}}function DS(e,t,n,r){return Math.sqrt(Math.pow(Math.abs(n-e),2)+Math.pow(Math.abs(r-t),2))}function ES(e,t,n,r,s){if(!s)return!1;const i=Math.atan2(r-t,n-e)*180/Math.PI+180;for(let o=0;o<s.length;++o){const a=s[o];if(a&&(a.start==null||i>=a.start)&&(a.end==null||i<=a.end))return!0}return!1}const IS={Left:1},AS={Left:0};function Ka(e){return e.button===void 0||e.button===AS.Left}function OS(e){return e.buttons===void 0||(e.buttons&IS.Left)===0}function Gg(e){return!!e.targetTouches}const MS=1;function RS(e){const t=e.nodeType===MS?e:e.parentElement;if(!t)return;const{top:n,left:r}=t.getBoundingClientRect();return{x:r,y:n}}function _S(e,t){if(e.targetTouches.length===1)return bo(e.targetTouches[0]);if(t&&e.touches.length===1&&e.touches[0].target===t.target)return bo(e.touches[0])}function bo(e,t){return Gg(e)?_S(e,t):{x:e.clientX,y:e.clientY}}const Gf=(()=>{let e=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return e=!0,!0}}))}catch{}return e})(),Zr={[xn.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[xn.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[xn.keyboard]:{keydown:"keydown"}};class ys{profile(){var t;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((t=this.dragOverTargetIds)===null||t===void 0?void 0:t.length)||0}}get document(){return this.options.document}setup(){const t=this.options.rootElement;t&&(W(!ys.isSetUp,"Cannot have two Touch backends at the same time."),ys.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}teardown(){const t=this.options.rootElement;t&&(ys.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(t,n,r,s=!1){const i=Gf?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zr[o][n];a&&t.addEventListener(a,r,i)})}removeEventListener(t,n,r,s=!1){const i=Gf?{capture:s,passive:!1}:s;this.listenerTypes.forEach(function(o){const a=Zr[o][n];a&&t.removeEventListener(a,r,i)})}connectDragSource(t,n){const r=this.handleMoveStart.bind(this,t);return this.sourceNodes.set(t,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(t),this.removeEventListener(n,"start",r)}}connectDragPreview(t,n,r){return this.sourcePreviewNodeOptions.set(t,r),this.sourcePreviewNodes.set(t,n),()=>{this.sourcePreviewNodes.delete(t),this.sourcePreviewNodeOptions.delete(t)}}connectDropTarget(t,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const s=i=>{if(!this.document||!r||!this.monitor.isDragging())return;let o;switch(i.type){case Zr.mouse.move:o={x:i.clientX,y:i.clientY};break;case Zr.touch.move:var a,c;o={x:((a=i.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((c=i.touches[0])===null||c===void 0?void 0:c.clientY)||0};break}const u=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,f=u&&n.contains(u);if(u===n||f)return this.handleMove(i,t)};return this.addEventListener(this.document.body,"move",s),this.targetNodes.set(t,n),()=>{this.document&&(this.targetNodes.delete(t),this.removeEventListener(this.document.body,"move",s))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(t){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=t,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{t&&!t.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!t||!t.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(t.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(t,n,r){this.getSourceClientOffset=s=>{const i=this.sourceNodes.get(s);return i&&RS(i)},this.handleTopMoveStartCapture=s=>{Ka(s)&&(this.moveStartSourceIds=[])},this.handleMoveStart=s=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(s)},this.handleTopMoveStart=s=>{if(!Ka(s))return;const i=bo(s);i&&(Gg(s)&&(this.lastTargetTouchFallback=s.targetTouches[0]),this._mouseClientOffset=i),this.waitingForDelay=!1},this.handleTopMoveStartDelay=s=>{if(!Ka(s))return;const i=s.type===Zr.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,s),i),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(s,i)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(i)},this.handleTopMove=s=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:i,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,c=bo(s,this.lastTargetTouchFallback);if(!c)return;if(this._isScrolling||!this.monitor.isDragging()&&ES(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&i&&DS(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,c.x,c.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(i,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const u=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(u),this.actions.publishDragSource(),s.cancelable&&s.preventDefault();const f=(o||[]).map(g=>this.targetNodes.get(g)).filter(g=>!!g),d=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(c.x,c.y,f):this.document.elementsFromPoint(c.x,c.y),h=[];for(const g in d){if(!d.hasOwnProperty(g))continue;let v=d[g];for(v!=null&&h.push(v);v;)v=v.parentElement,v&&h.indexOf(v)===-1&&h.push(v)}const p=h.filter(g=>f.indexOf(g)>-1).map(g=>this._getDropTargetId(g)).filter(g=>!!g).filter((g,v,S)=>S.indexOf(g)===v);if(a)for(const g in this.targetNodes){const v=this.targetNodes.get(g);if(u&&v&&v.contains(u)&&p.indexOf(g)===-1){p.unshift(g);break}}p.reverse(),this.actions.hover(p,{clientOffset:c})},this._getDropTargetId=s=>{const i=this.targetNodes.keys();let o=i.next();for(;o.done===!1;){const a=o.value;if(s===this.targetNodes.get(a))return a;o=i.next()}},this.handleTopMoveEndCapture=s=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!OS(s)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}s.cancelable&&s.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=s=>{s.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new PS(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(xn.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(xn.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(xn.keyboard)}}const LS=function(t,n={},r={}){return new ys(t,n,r)},Zs=()=>yg(),O=Nu,BS={cardDeal:"https://www.soundjay.com/misc/sounds/playing-card-1.wav",cardPlay:"https://www.soundjay.com/misc/sounds/playing-card-2.wav",cardShuffle:"https://www.soundjay.com/misc/sounds/playing-cards-shuffling-1.wav",bidMade:"https://www.soundjay.com/misc/sounds/bell-ringing-01.wav",trickWon:"https://www.soundjay.com/misc/sounds/coins-1.wav",gameWon:"https://www.soundjay.com/misc/sounds/fanfare-1.wav",gameLost:"https://www.soundjay.com/misc/sounds/fail-buzzer-1.wav",belote:"https://www.soundjay.com/misc/sounds/magic-chime-01.wav",declaration:"https://www.soundjay.com/misc/sounds/magic-chime-02.wav",buttonClick:"https://www.soundjay.com/misc/sounds/button-3.wav"},Ln=class Ln{constructor(){Oe(this,"sounds",new Map);Oe(this,"enabled",!1);Oe(this,"volume",.5);Oe(this,"audioContext");Object.entries(BS).forEach(([t,n])=>{const r=new Audio(n);r.volume=this.volume,r.preload="auto",this.sounds.set(t,r)})}static getInstance(){return Ln.instance||(Ln.instance=new Ln),Ln.instance}play(t,n){if(!this.enabled)return;const r=this.sounds.get(t);if(r){const s=r.cloneNode();s.volume=n??this.volume,s.play().catch(i=>{})}}playWithPanning(t,n,r){if(!this.enabled)return;if(!this.audioContext)try{this.audioContext=new(window.AudioContext||window.webkitAudioContext)}catch{console.warn("Web Audio API not supported");return}const s=new Audio(t);s.volume=n*this.volume;try{const i=this.audioContext.createMediaElementSource(s),o=this.audioContext.createStereoPanner();o.pan.value=Math.max(-1,Math.min(1,r)),i.connect(o),o.connect(this.audioContext.destination),s.play().catch(a=>{console.warn("Failed to play spatial audio:",a)})}catch{s.play().catch(()=>{})}}setEnabled(t){this.enabled=t}setVolume(t){this.volume=Math.max(0,Math.min(1,t)),this.sounds.forEach(n=>{n.volume=this.volume})}getEnabled(){return this.enabled}getVolume(){return this.volume}};Oe(Ln,"instance");let hc=Ln;const $e=hc.getInstance();function VS(){const[e,t]=b.useState($e.getEnabled()),[n,r]=b.useState($e.getVolume());return b.useEffect(()=>{$e.setEnabled(e)},[e]),b.useEffect(()=>{$e.setVolume(n)},[n]),{enabled:e,setEnabled:t,volume:n,setVolume:r}}function FS(e,t){return{suit:e,rank:t,id:Bt()}}function zS(){const e=[],t=Object.values(M),n=Object.values(A);for(const r of t)for(const s of n)e.push(FS(r,s));return e}function Kg(e){const t=[...e];for(let n=t.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t}function Qg(e,t){return(t?Nf.trump:Nf.nonTrump)[e.rank]}function Fe(e,t){return t?[A.Seven,A.Eight,A.Queen,A.King,A.Ten,A.Ace,A.Nine,A.Jack].indexOf(e.rank):[A.Seven,A.Eight,A.Nine,A.Jack,A.Queen,A.King,A.Ten,A.Ace].indexOf(e.rank)}function pc(e,t,n,r){if(n){const s=e.suit===n,i=t.suit===n;if(s&&!i)return 1;if(!s&&i)return-1;if(s&&i)return Fe(e,!0)-Fe(t,!0)}return e.suit===r&&t.suit!==r?1:e.suit!==r&&t.suit===r?-1:e.suit===r&&t.suit===r?Fe(e,!1)-Fe(t,!1):0}function vr(e,t=null){const n=[...e],r=t?[t,...Object.values(M).filter(s=>s!==t)]:Object.values(M);return n.sort((s,i)=>{const o=r.indexOf(s.suit)-r.indexOf(i.suit);if(o!==0)return o;const a=s.suit===t,c=i.suit===t;return Fe(i,a)-Fe(s,c)}),n}function qt(e,t){return e.filter(n=>n.suit===t)}function So(e,t){return e.some(n=>n.suit===t)}function $S(e,t){return e.reduce((n,r)=>{const s=r.suit===t;return n+Qg(r,s)},0)}function HS(e,t=4){const n=Array(t).fill(null).map(()=>[]),r=[3,2,3];let s=0;for(const i of r)for(let o=0;o<t;o++)for(let a=0;a<i;a++)n[o].push(e[s++]);return n}function US(e,t,n,r){if(n.length===0)return!0;const s=n[0].card.suit,i=So(t,s),o=r?So(t,r):!1;if(i)return e.suit===s;if(o&&r){if(e.suit!==r)return!1;const a=n.filter(c=>c.card.suit===r).map(c=>c.card);if(a.length>0){const c=a.reduce((d,h)=>Fe(h,!0)>Fe(d,!0)?h:d);if(qt(t,r).some(d=>Fe(d,!0)>Fe(c,!0)))return e.suit===r&&Fe(e,!0)>Fe(c,!0)}return e.suit===r}return!0}function $s(e,t,n){if(t.length>0&&n){const r=t[0].card.suit;if(!So(e,r)&&So(e,n)){const o=t.filter(a=>a.card.suit===n).map(a=>a.card);if(o.length>0){const a=o.reduce((f,d)=>Fe(d,!0)>Fe(f,!0)?d:f),c=qt(e,n),u=c.filter(f=>Fe(f,!0)>Fe(a,!0));return u.length>0?u:c}return qt(e,n)}}return e.filter(r=>US(r,e,t,n))}function Yg(e,t){if(e.length!==4)throw new Error("Trick must have exactly 4 cards");const n=e[0].card.suit;let r=0;for(let s=1;s<e.length;s++){const i=e[r].card,o=e[s].card;pc(o,i,t,n)>0&&(r=s)}return e[r].player}function Xg(e,t){return $S(e.map(n=>n.card),t)}function WS(e){const t=[],n=Object.values(M),r=[A.Seven,A.Eight,A.Nine,A.Ten,A.Jack,A.Queen,A.King,A.Ace];for(const s of n){const i=qt(e,s);if(i.length<3)continue;const o=i.sort((c,u)=>r.indexOf(c.rank)-r.indexOf(u.rank));let a=0;for(let c=1;c<=o.length;c++)if(!(c<o.length&&r.indexOf(o[c].rank)===r.indexOf(o[c-1].rank)+1)||c===o.length){const f=c-a;if(f>=3){const d=o.slice(a,c);let h,p;f===3?(h=Ve.Tierce,p=zi[Ve.Tierce]):f===4?(h=Ve.Quarte,p=zi[Ve.Quarte]):(h=Ve.Quinte,p=zi[Ve.Quinte]),t.push({type:h,cards:d,points:p,player:null})}a=c}}return t}function GS(e){const t=[],n=new Map;for(const r of e)n.has(r.rank)||n.set(r.rank,[]),n.get(r.rank).push(r);for(const[r,s]of n)if(s.length===4){const i=zi.carre[r];i&&t.push({type:Ve.Carre,cards:s,points:i,player:null})}return t}function KS(e,t){if(!t)return!1;const n=qt(e,t),r=n.some(i=>i.rank===A.King),s=n.some(i=>i.rank===A.Queen);return r&&s}function qg(e,t){const n=[],r=WS(e);for(const i of r)i.player=t,n.push(i);const s=GS(e);for(const i of s)i.player=t,n.push(i);return n}function Qa(e,t,n){if(e.type===Ve.Carre&&t.type!==Ve.Carre)return 1;if(e.type!==Ve.Carre&&t.type===Ve.Carre)return-1;if(e.type===Ve.Carre&&t.type===Ve.Carre)return e.points-t.points;if(e.cards.length!==t.cards.length)return e.cards.length-t.cards.length;const r=[A.Seven,A.Eight,A.Nine,A.Ten,A.Jack,A.Queen,A.King,A.Ace],s=Math.max(...e.cards.map(c=>r.indexOf(c.rank))),i=Math.max(...t.cards.map(c=>r.indexOf(c.rank)));if(s!==i)return s-i;const o=n&&e.cards[0].suit===n,a=n&&t.cards[0].suit===n;return o&&!a?1:!o&&a?-1:0}function Ya(e,t,n){if(e.length===0&&t.length===0)return null;if(e.length===0)return"B";if(t.length===0)return"A";const r=e.reduce((o,a)=>Qa(a,o,n)>0?a:o),s=t.reduce((o,a)=>Qa(a,o,n)>0?a:o),i=Qa(r,s,n);return i>0?"A":i<0?"B":null}function QS(e,t,n,r,s){const i=e.contract,o=i.team,a=o==="A"?"B":"A";t[s]+=uw;const c={A:t.A+n.A+r.A,B:t.B+n.B+r.B},u=c[o]>=i.value;if(!u){const d=c.A+c.B;c[o]=0,c[a]=d}if({...c},i.doubled){const d=i.redoubled?4:2;c.A*=d,c.B*=d}const f={A:Math.ceil(c.A/10),B:Math.ceil(c.B/10)};return{A:f.A,B:f.B,contractMade:u,rawPoints:c}}function YS(e,t,n){const r=new Map;let s=0;for(const d of Object.values(M)){let h=0;const p=qt(e,d);for(const g of p)h+=Qg(g,!0),g.rank===A.Jack&&(h+=10),g.rank===A.Nine&&(h+=5);p.length>=4&&(h+=(p.length-3)*5),p.length>=6&&(h+=10),KS(p,d)&&(h+=20),r.set(d,h)}for(const d of Object.values(M)){const h=qt(e,d);for(const p of h)p.rank===A.Ace&&(s+=11),p.rank===A.Ten&&(s+=10)}let i=M.Hearts,o=0;for(const[d,h]of r)h>o&&(i=d,o=h);const c=qg(e,null).reduce((d,h)=>d+h.points,0);let u=Math.floor((o+s/2+c)/10)*10,f=o/60;switch(t){case ne.Conservative:u=Math.max(80,u-20),f*=.8;break;case ne.Aggressive:u=Math.min(160,u+20),f*=1.2;break;case ne.Adaptive:break}return u=Math.max(80,Math.min(160,Math.round(u/10)*10)),o>80&&c>100&&(u=250,f=.9),{suitStrengths:r,bestSuit:i,bestSuitScore:o,totalHighCards:s,declarationBonus:c,suggestedBid:u,confidence:Math.min(1,f)}}function XS(e,t,n,r,s){const i=YS(e,n);let o=i.confidence;if(s){const u=s.teamScore-s.opponentScore,f=s.teamScore>s.targetScore*.8;u<-50&&!f?o*=1.2:(u>50||f)&&(o*=.8)}const a=n===ne.Aggressive?.4:.6;if(o<a)return null;if(!t)return i.suggestedBid>=80?{bid:i.suggestedBid,trump:i.bestSuit}:null;const c=t.value+10;if(i.suggestedBid>=c)return{bid:c,trump:i.bestSuit};if(n===ne.Aggressive&&o>.7){for(const[u,f]of i.suitStrengths)if(u!==i.bestSuit&&f>40)return{bid:c,trump:u}}return null}function qS(e,t,n,r,s,i,o,a){const c=$s(e,t,r);return c.length===1?{card:c[0],reasoning:"Only legal play",confidence:1}:t.length===0?ZS(c,e,r,s,i):JS(c,e,t,r,s,i)}function ZS(e,t,n,r,s,i,o){if(n&&r&&s.teamId===r.team){const p=qt(e,n).filter(g=>g.rank===A.Jack||g.rank===A.Nine||g.rank===A.Ace);if(p.length>0)return{card:p[0],reasoning:"Leading high trump to control",confidence:.9}}const a=e.filter(h=>h.rank===A.Ace&&h.suit!==n);if(a.length>0)return{card:a[0],reasoning:"Leading sure winner",confidence:.85};const c=new Map;for(const h of t)c.set(h.suit,(c.get(h.suit)||0)+1);let u=null,f=0;for(const[h,p]of c)p>f&&h!==n&&(u=h,f=p);if(u){const h=qt(e,u);if(h.length>0){const p=vr(h,n);return{card:p[p.length-1],reasoning:"Leading from long suit",confidence:.7}}}const d=vr(e,n);return{card:d[d.length-1],reasoning:"Leading low card",confidence:.5}}function JS(e,t,n,r,s,i,o,a){if(n.length===0)return{card:vr(e,r)[0],reasoning:"Error: No lead card, playing highest",confidence:.5};const c=n[0].card.suit,u=[...n];let f=0;for(let g=1;g<u.length;g++)pc(u[g].card,u[f].card,r,c)>0&&(f=g);const h=u[f].player.teamId===i.teamId;if(h&&n.length===3){const g=vr(e,r);return{card:g[g.length-1],reasoning:"Partner winning, playing low",confidence:.9}}if(!h){const g=e.filter(v=>pc(v,u[f].card,r,c)>0);if(g.length>0){const v=vr(g,r);return{card:v[v.length-1],reasoning:"Taking trick from opponents",confidence:.85}}}const p=vr(e,r);return e[0].suit===r&&c!==r?{card:p[p.length-1],reasoning:"Forced to trump, playing low",confidence:.7}:{card:p[p.length-1],reasoning:"Cannot win, playing low",confidence:.6}}class ej{constructor(){}makeBid(t,n,r,s,i,o,a){const c={teamScore:s,opponentScore:i,targetScore:151},u=n?{value:n.value,trump:n.trump}:null,f=XS(t,u,o,void 0,c);return f?{bid:f.bid,trump:f.trump}:{bid:"pass"}}selectCard(t,n,r,s,i,o,a,c,u){const f={teamId:a};return qS(n,r,s.map(h=>h.cards),i,o,f,(u==null?void 0:u.playStyle)==="aggressive"?ne.Aggressive:(u==null?void 0:u.playStyle)==="conservative"?ne.Conservative:ne.Balanced).card}}const tj={explorationConstant:1.414,simulationDepth:8,timeLimit:2e3,deterministicSamples:10};class nj{constructor(t={}){Oe(this,"config");Oe(this,"startTime",0);this.config={...tj,...t}}search(t){this.startTime=Date.now();const n=this.createDeterminizations(t),r=[];for(const s of n){const i=this.createNode(s,null,null,t.players[t.currentPlayerIndex].id);for(r.push(i);Date.now()-this.startTime<this.config.timeLimit/n.length;)this.iterate(i)}return this.selectBestMove(r,t)}iterate(t){let n=this.select(t);n.untriedMoves.length>0&&!this.isTerminal(n.state)&&(n=this.expand(n));const r=this.simulate(n.state);this.backpropagate(n,r)}select(t){for(;t.children.length>0&&t.untriedMoves.length===0;)t=this.selectChild(t);return t}selectChild(t){let n=null,r=-1/0;const s=this.config.explorationConstant,i=Math.log(t.visits);for(const o of t.children){const a=o.totalScore/o.visits,c=s*Math.sqrt(i/o.visits),u=a+c;u>r&&(r=u,n=o)}return n}expand(t){const n=Math.floor(Math.random()*t.untriedMoves.length),r=t.untriedMoves[n];t.untriedMoves.splice(n,1);const s=this.applyMove(t.state,r),i=this.createNode(s,t,r,t.state.players[t.state.currentPlayerIndex].id);return t.children.push(i),i}simulate(t){let n=this.cloneState(t);for(;!this.isTerminal(n);){const r=this.getLegalMovesForState(n);if(r.length===0)break;const s=r[Math.floor(Math.random()*r.length)];n=this.applyMove(n,s)}return this.evaluateTerminalState(n)}backpropagate(t,n){for(;t!==null;)t.visits++,t.totalScore+=n,t=t.parent}createDeterminizations(t){const n=[],r=this.getUnknownCards(t);for(let s=0;s<this.config.deterministicSamples;s++){const i=Kg(r),o=new Map;o.set(t.players[t.currentPlayerIndex].id,[...t.myHand]);let a=0;for(let c=0;c<t.players.length;c++)if(c!==t.currentPlayerIndex){const u=t.players[c].id,f=8-t.trickNumber,d=[];for(let h=0;h<f&&a<i.length;h++)d.push(i[a++]);o.set(u,d)}n.push({currentTrick:[...t.currentTrick],hands:o,trumpSuit:t.trumpSuit,contract:t.contract,trickNumber:t.trickNumber,teamScores:{...t.teamScores},currentPlayerIndex:t.currentPlayerIndex,players:t.players.map(c=>({...c}))})}return n}getUnknownCards(t){const n=this.createAllCards(),r=new Set;for(const s of t.myHand)r.add(`${s.suit}-${s.rank}`);for(const s of t.playedCards)r.add(`${s.suit}-${s.rank}`);for(const s of t.currentTrick)r.add(`${s.card.suit}-${s.card.rank}`);return n.filter(s=>!r.has(`${s.suit}-${s.rank}`))}createAllCards(){const t=[],n=["hearts","diamonds","clubs","spades"],r=["7","8","9","10","J","Q","K","A"];for(const s of n)for(const i of r)t.push({suit:s,rank:i,id:`${s}-${i}`});return t}applyMove(t,n){const r=this.cloneState(t),s=t.players[t.currentPlayerIndex].id,i=r.hands.get(s);if(r.hands.set(s,i.filter(o=>o.id!==n.id)),r.currentTrick.push({player:{id:s,teamId:t.players[t.currentPlayerIndex].teamId},card:n,order:r.currentTrick.length}),r.currentTrick.length===4){const o=Yg(r.currentTrick,r.trumpSuit),a=Xg(r.currentTrick,r.trumpSuit);r.teamScores[o.teamId]+=a,r.trickWinner=o.id,r.currentTrick=[],r.trickNumber++,r.currentPlayerIndex=r.players.findIndex(c=>c.id===o.id)}else r.currentPlayerIndex=(r.currentPlayerIndex+1)%4;return r}cloneState(t){return{currentTrick:t.currentTrick.map(n=>({...n})),hands:new Map(Array.from(t.hands.entries()).map(([n,r])=>[n,[...r]])),trumpSuit:t.trumpSuit,contract:t.contract?{...t.contract}:null,trickNumber:t.trickNumber,teamScores:{...t.teamScores},currentPlayerIndex:t.currentPlayerIndex,players:t.players.map(n=>({...n})),trickWinner:t.trickWinner}}createNode(t,n,r,s){const i=this.getLegalMovesForState(t);return{state:t,parent:n,children:[],move:r,player:s,visits:0,totalScore:0,availableMoves:i,untriedMoves:[...i]}}getLegalMovesForState(t){const n=t.players[t.currentPlayerIndex].id,r=t.hands.get(n)||[];return $s(r,t.currentTrick,t.trumpSuit)}isTerminal(t){return t.trickNumber>=8}evaluateTerminalState(t){const n=t.players[0].teamId,r=n==="A"?"B":"A",s=t.teamScores[n]-t.teamScores[r];return 1/(1+Math.exp(-s/50))}selectBestMove(t,n){const r=new Map;for(const o of t)for(const a of o.children){const c=`${a.move.suit}-${a.move.rank}`;r.has(c)||r.set(c,{visits:0,score:0});const u=r.get(c);u.visits+=a.visits,u.score+=a.totalScore}let s=null,i=-1;for(const[o,a]of r)if(a.visits>i){i=a.visits;const[c,u]=o.split("-");s=n.myHand.find(f=>f.suit===c&&f.rank===u)||null}return s||(s=$s(n.myHand,n.currentTrick,n.trumpSuit)[0]),s}}function rj(e,t){return new nj(t).search(e)}class sj{constructor(t=2e3,n=Math.sqrt(2)){Oe(this,"config");this.config={timeLimit:t,explorationConstant:n,simulationDepth:8,deterministicSamples:10}}selectCard(t,n){const r={myHand:n,playedCards:this.getPlayedCards(t),trumpSuit:t.trumpSuit,contract:t.contract,currentTrick:t.currentTrick,trickNumber:t.completedTricks.length+1,teamScores:t.scores,players:t.players.map(s=>({id:s.id,teamId:s.teamId})),currentPlayerIndex:t.currentPlayerIndex};return rj(r,this.config)}getPlayedCards(t){const n=[];for(const r of t.completedTricks)for(const s of r.cards)n.push(s.card);for(const r of t.currentTrick)n.push(r.card);return n}}class ij{constructor(t,n){Oe(this,"dispatch");Oe(this,"getState");Oe(this,"aiStrategy");Oe(this,"mctsPlayer",null);Oe(this,"animationDelay",600);this.dispatch=t,this.getState=n,this.aiStrategy=new ej}initializeMCTS(t=2e3,n=Math.sqrt(2)){this.mctsPlayer=new sj(t,n)}async runGameFlow(){switch(this.getState().game.phase){case H.Dealing:await this.handleDealing();break;case H.Bidding:await this.handleBidding();break;case H.Declaring:await this.handleDeclarations();break;case H.Playing:await this.handlePlaying();break;case H.Scoring:await this.handleScoring();break}}async handleDealing(){const t=Kg(zS()),n=HS(t),r=this.getState().game,s={};r.players.forEach((i,o)=>{s[i.id]=n[o]}),this.dispatch(pw({playerHands:s})),$e.play("cardShuffle"),await this.delay(1e3),this.dispatch(mw()),await this.runGameFlow()}async handleBidding(){const t=this.getState().game,n=t.players[t.currentPlayerIndex];if(!n.isAI)return;await this.delay(this.animationDelay);const r=this.makeAIBid(n);if(this.dispatch(kf(r)),r.bid!=="pass"&&$e.play("bidMade"),n.playerProfile&&r.bid!=="pass"){const s=this.calculateBidAggressiveness(r.bid,n);this.updateAIProfile(n.id,{bidAggressiveness:s})}await this.runGameFlow()}async handleDeclarations(){const t=this.getState().game,n=new Map;for(const r of t.players){const s=qg(r.hand,r);if(s.length>0){n.set(r.id,s);for(const i of s)this.dispatch(gw({type:i.type,cards:i.cards,points:i.points,player:r}))}}if(n.size===0){this.dispatch(Pf()),await this.runGameFlow();return}this.dispatch(Pf()),await this.runGameFlow()}async handlePlaying(){var i,o,a,c;const t=this.getState().game,n=t.players[t.currentPlayerIndex];if(t.currentTrick.length===4){await this.processTrickCompletion();return}if(t.trickNumber===2&&t.currentTrick.length===0){const u=t.declarations.filter(p=>p.player.teamId==="A"),f=t.declarations.filter(p=>p.player.teamId==="B"),d=t.players.filter(p=>p.teamId==="A").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasDeclared}),h=t.players.filter(p=>p.teamId==="B").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasDeclared});if(d&&h){const p=Ya(u,f,t.trumpSuit);p&&this.dispatch(Sw({winningTeam:p}))}}if(t.trickNumber===3&&t.currentTrick.length===0){const u=t.players.filter(p=>p.teamId==="A").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasDeclared}),f=t.players.filter(p=>p.teamId==="B").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasDeclared}),d=t.players.filter(p=>p.teamId==="A").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasShown}),h=t.players.filter(p=>p.teamId==="B").some(p=>{var g,v;return(v=(g=t.declarationTracking)==null?void 0:g[p.id])==null?void 0:v.hasShown});if((u||f)&&!d&&!h){const p=t.declarations.filter(v=>v.player.teamId==="A"),g=t.declarations.filter(v=>v.player.teamId==="B");if(u&&f){const S=Ya(p,g,t.trumpSuit)==="A"?"B":"A",x=t.players.filter(m=>{var y,w;return m.teamId===S&&((w=(y=t.declarationTracking)==null?void 0:y[m.id])==null?void 0:w.hasDeclared)}).map(m=>m.id);this.dispatch($a({playerIds:x}))}else if(u&&!f){const v=t.players.filter(S=>S.teamId==="B"&&t.declarations.some(x=>x.player.id===S.id)).map(S=>S.id);v.length>0&&this.dispatch($a({playerIds:v}))}else if(f&&!u){const v=t.players.filter(S=>S.teamId==="A"&&t.declarations.some(x=>x.player.id===S.id)).map(S=>S.id);v.length>0&&this.dispatch($a({playerIds:v}))}}}const r=$s(n.hand,t.currentTrick,t.trumpSuit);if(this.dispatch(yw(r)),!n.isAI)return;if(t.trickNumber===1&&n.isAI){const u=t.declarations.filter(f=>f.player.id===n.id);u.length>0&&!((o=(i=t.declarationTracking)==null?void 0:i[n.id])!=null&&o.hasDeclared)&&this.shouldAIDeclare(n,u)&&(this.dispatch(Eg({playerId:n.id})),await this.delay(500))}if(t.trickNumber===2&&n.isAI){const u=(a=t.declarationTracking)==null?void 0:a[n.id];u!=null&&u.hasDeclared&&!u.hasShown&&u.canShow&&(this.dispatch(cc({playerId:n.id})),t.declarations.filter(d=>d.player.id===n.id).some(d=>d.type===Ve.Belote)?$e.play("belote"):$e.play("declaration"),await this.delay(1e3))}if(t.trickNumber===3&&n.isAI){const u=(c=t.declarationTracking)==null?void 0:c[n.id];u!=null&&u.canShow&&!u.hasShown&&(this.dispatch(cc({playerId:n.id})),t.declarations.filter(d=>d.player.id===n.id).some(d=>d.type===Ve.Belote)?$e.play("belote"):$e.play("declaration"),await this.delay(1e3))}await this.delay(this.animationDelay);const s=await this.makeAIPlay(n,r);this.dispatch(Ef({playerId:n.id,card:s})),$e.play("cardPlay"),await this.runGameFlow()}async handleScoring(){const t=this.getState().game,n={A:0,B:0},r=t.declarations.filter(d=>{var p;const h=(p=t.declarationTracking)==null?void 0:p[d.player.id];return(h==null?void 0:h.hasDeclared)&&(h==null?void 0:h.hasShown)}),s=r.filter(d=>d.player.teamId==="A"),i=r.filter(d=>d.player.teamId==="B");if(s.length>0||i.length>0){const d=Ya(s,i,t.trumpSuit);d==="A"?n.A=s.reduce((h,p)=>h+p.points,0):d==="B"&&(n.B=i.reduce((h,p)=>h+p.points,0))}const o={A:0,B:0};t.beloteAnnounced&&t.beloteAnnounced.kingPlayed&&(o[t.beloteAnnounced.team]=20);const c=t.completedTricks[t.completedTricks.length-1].winner.teamId,u=QS(t,{A:t.teams.A.roundScore,B:t.teams.B.roundScore},n,o,c),f={team1Score:u.A,team2Score:u.B,team1Tricks:t.completedTricks.filter(d=>d.winner.teamId==="A").length,team2Tricks:t.completedTricks.filter(d=>d.winner.teamId==="B").length,team1BasePoints:t.teams.A.roundScore,team2BasePoints:t.teams.B.roundScore,team1Declarations:s,team2Declarations:i,team1Bonuses:n.A+o.A,team2Bonuses:n.B+o.B,team1AllTricks:t.completedTricks.filter(d=>d.winner.teamId==="A").length===8,team2AllTricks:t.completedTricks.filter(d=>d.winner.teamId==="B").length===8,contractSuccess:u.contractMade,rawPointsA:u.rawPoints.A,rawPointsB:u.rawPoints.B};this.dispatch(xw({teamAScore:u.A,teamBScore:u.B,contractMade:u.contractMade,roundScore:f})),this.updateAIProfilesAfterRound(),await this.delay(2e3),this.getState().game.phase===H.Dealing&&await this.runGameFlow()}makeAIBid(t){const n=this.getState().game,r=n.contract;if(r&&!r.doubled&&t.teamId!==r.team&&this.shouldAIDouble(t,r))return this.dispatch(ac({playerId:t.id})),{playerId:t.id,bid:"pass"};if(r&&r.doubled&&!r.redoubled&&t.teamId===r.team&&this.shouldAIRedouble(t,r))return this.dispatch(lc({playerId:t.id})),{playerId:t.id,bid:"pass"};if(r!=null&&r.doubled)return{playerId:t.id,bid:"pass"};t.aiPersonality===ne.Adaptive&&this.mctsPlayer;const s=this.aiStrategy.makeBid(t.hand,r,t.teamId,n.teams[t.teamId].score,n.teams[t.teamId==="A"?"B":"A"].score,t.aiPersonality||ne.Balanced,t.position);return{playerId:t.id,...s}}async makeAIPlay(t,n){const r=this.getState().game;if(t.aiPersonality===ne.Adaptive&&this.mctsPlayer){const s=this.convertToMCTSState(r);return this.mctsPlayer.selectCard(s,n)}return this.aiStrategy.selectCard(n,t.hand,r.currentTrick,r.completedTricks,r.trumpSuit,r.contract,t.teamId,t.position,t.playerProfile)}shouldAIDeclare(t,n){return t.aiPersonality===ne.Conservative?n.reduce((s,i)=>s+i.points,0)>=50:!0}async processTrickCompletion(){const t=this.getState().game,n=Yg(t.currentTrick,t.trumpSuit),r=Xg(t.currentTrick,t.trumpSuit);await this.delay(1e3),$e.play("trickWon"),this.dispatch(vw({winner:n,points:r})),await this.runGameFlow()}calculateBidAggressiveness(t,n){const s=(t-100)/150;return n.playerProfile?.3*s+(1-.3)*n.playerProfile.bidAggressiveness:Math.max(0,Math.min(1,s))}updateAIProfile(t,n){this.dispatch(ww({playerId:t,updates:n}))}updateAIProfilesAfterRound(){const t=this.getState().game;t.players.forEach(n=>{if(n.isAI&&n.playerProfile){const r=n.playerProfile,s=r.gamesPlayed+1,i=t.moveHistory.filter(u=>u.player.id===n.id),o=i.filter(u=>u.action==="play"&&this.isAggressivePlay(u.details.card,u.gameContext)).length,a=o>i.length*.6?"aggressive":o<i.length*.3?"conservative":"balanced",c={...r.trumpPreferences};if(t.contract&&t.contract.bidder.id===n.id){const u=t.contract.trump;c[u]=(c[u]*s+1)/(s+1);const f=Object.values(c).reduce((d,h)=>d+h,0);Object.keys(c).forEach(d=>{c[d]/=f})}this.updateAIProfile(n.id,{gamesPlayed:s,playStyle:a,trumpPreferences:c})}})}shouldAIDouble(t,n){const r=this.evaluateDefensiveStrength(t.hand,n.trump);switch(t.aiPersonality){case ne.Aggressive:return r>.6&&n.value>=100;case ne.Conservative:return r>.8&&n.value>=120;default:return r>.7&&n.value>=110}}shouldAIRedouble(t,n){const r=this.evaluateOffensiveStrength(t.hand,n.trump);switch(t.aiPersonality){case ne.Aggressive:return r>.7;case ne.Conservative:return r>.9;default:return r>.8}}evaluateDefensiveStrength(t,n){let r=0,s=0,i=0;return t.forEach(o=>{o.suit===n?(s++,(o.rank===A.Jack||o.rank===A.Nine)&&(r+=.2)):(o.rank===A.Ace||o.rank===A.Ten)&&(i++,r+=.1)}),s<=2&&(r+=.2),r+=i*.1,Math.min(1,r)}evaluateOffensiveStrength(t,n){let r=0,s=0,i=0;return t.forEach(o=>{o.suit===n&&(s++,o.rank===A.Jack?i+=.3:o.rank===A.Nine?i+=.2:o.rank===A.Ace&&(i+=.15))}),s>=4&&(r+=.3),s>=5&&(r+=.2),r+=i,Math.min(1,r)}isAggressivePlay(t,n){return t.rank===A.Ace||t.rank===A.Jack||n.trickNumber<=4&&(t.rank===A.Ten||t.rank===A.King)}convertToMCTSState(t){return{currentPlayer:t.currentPlayerIndex,hands:t.players.map(n=>n.hand),currentTrick:t.currentTrick,completedTricks:t.completedTricks,trumpSuit:t.trumpSuit,contract:t.contract,scores:{A:t.teams.A.roundScore,B:t.teams.B.roundScore}}}checkEarlyTermination(t){if(t.completedTricks.length<4)return!1;const n=8-t.completedTricks.length;if(n===0)return!1;const r=t.teams.A.roundScore,s=t.teams.B.roundScore,a=n*33+10;if(t.contract){const u=t.contract.team,f=t.contract.value;if(u==="A"){if(r+a<f)return!0}else if(s+a<f)return!0}const c=r+s;return r===c||s===c}async handleEarlyTermination(){const t=this.getState().game;$e.play("roundOver");const n=t.teams.A.roundScore,r=t.teams.B.roundScore,i=152-(n+r)+10;let o=n,a=r;t.contract&&(t.contract.team==="A"?a+=i:o+=i),this.dispatch(jw(!0)),await this.delay(3e3),this.dispatch(Nw({teamA:o,teamB:a})),this.dispatch(Tw(H.Scoring)),await this.runGameFlow()}delay(t){return new Promise(n=>setTimeout(n,t))}async handleHumanBid(t,n){const r=this.getState().game,s=r.players[r.currentPlayerIndex];!s.isAI&&r.phase===H.Bidding&&(this.dispatch(kf({playerId:s.id,bid:t,trump:n})),await this.runGameFlow())}async handleHumanDouble(){const t=this.getState().game,n=t.players[t.currentPlayerIndex];!n.isAI&&t.phase===H.Bidding&&(this.dispatch(ac({playerId:n.id})),await this.runGameFlow())}async handleHumanRedouble(){const t=this.getState().game,n=t.players[t.currentPlayerIndex];!n.isAI&&t.phase===H.Bidding&&(this.dispatch(lc({playerId:n.id})),await this.runGameFlow())}async handleHumanCardPlay(t){const n=this.getState().game,r=n.players[n.currentPlayerIndex];!r.isAI&&n.phase===H.Playing&&$s(r.hand,n.currentTrick,n.trumpSuit).some(i=>i.id===t.id)&&(this.dispatch(Ef({playerId:r.id,card:t})),$e.play("cardPlay"),await this.runGameFlow())}setAnimationDelay(t){this.animationDelay=t}enableMCTS(t=!0){t&&!this.mctsPlayer?this.initializeMCTS():t||(this.mctsPlayer=null)}}const Bn=class Bn{constructor(){Oe(this,"flowController");this.flowController=new ij(_e.dispatch,_e.getState)}static getInstance(){return Bn.instance||(Bn.instance=new Bn),Bn.instance}startNewGame(t=151){_e.dispatch(dw()),_e.dispatch(fw(t)),this.flowController.runGameFlow()}setAIPersonality(t,n){_e.dispatch(hw({playerId:t,personality:n}))}enableAdvancedAI(t=!0){this.flowController.enableMCTS(t)}setAnimationSpeed(t){const n={fast:300,normal:600,slow:1e3};this.flowController.setAnimationDelay(n[t]),_e.dispatch(yr({animationSpeed:t}))}setCardSize(t){let n;t<.7?n="small":t<.9?n="medium":t<1.1?n="large":n="xlarge",_e.dispatch(yr({cardSize:n}))}async makeBid(t,n){await this.flowController.handleHumanBid(t,n)}async doubleBid(){await this.flowController.handleHumanDouble()}async redoubleBid(){await this.flowController.handleHumanRedouble()}async playCard(t){await this.flowController.handleHumanCardPlay(t)}getGameState(){return _e.getState().game}getCurrentPlayer(){const t=_e.getState().game;return t.players[t.currentPlayerIndex]}getHumanPlayer(){return _e.getState().game.players.find(n=>!n.isAI)}isHumanTurn(){const t=_e.getState().game;return!t.players[t.currentPlayerIndex].isAI}getValidMoves(){return _e.getState().game.validMoves}getMinimumBid(){const t=_e.getState().game;return t.contract?Math.min(t.contract.value+10,490):80}canDouble(){const t=_e.getState().game,n=this.getHumanPlayer();return t.contract&&!t.contract.doubled&&(n==null?void 0:n.teamId)!==t.contract.team}canRedouble(){const t=_e.getState().game,n=this.getHumanPlayer();return t.contract&&t.contract.doubled&&!t.contract.redoubled&&(n==null?void 0:n.teamId)===t.contract.team}};Oe(Bn,"instance");let mc=Bn;const Ee=mc.getInstance(),Zg=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),na=b.createContext({}),ra=b.createContext(null),sa=typeof document<"u",_u=sa?b.useLayoutEffect:b.useEffect,Jg=b.createContext({strict:!1}),Lu=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),oj="framerAppearId",e0="data-"+Lu(oj);function aj(e,t,n,r){const{visualElement:s}=b.useContext(na),i=b.useContext(Jg),o=b.useContext(ra),a=b.useContext(Zg).reducedMotion,c=b.useRef();r=r||i.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const u=c.current;b.useInsertionEffect(()=>{u&&u.update(n,o)});const f=b.useRef(!!(n[e0]&&!window.HandoffComplete));return _u(()=>{u&&(u.render(),f.current&&u.animationState&&u.animationState.animateChanges())}),b.useEffect(()=>{u&&(u.updateFeatures(),!f.current&&u.animationState&&u.animationState.animateChanges(),f.current&&(f.current=!1,window.HandoffComplete=!0))}),u}function xr(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function lj(e,t,n){return b.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xr(n)&&(n.current=r))},[t])}function Hs(e){return typeof e=="string"||Array.isArray(e)}function ia(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Bu=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vu=["initial",...Bu];function oa(e){return ia(e.animate)||Vu.some(t=>Hs(e[t]))}function t0(e){return!!(oa(e)||e.variants)}function cj(e,t){if(oa(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Hs(n)?n:void 0,animate:Hs(r)?r:void 0}}return e.inherit!==!1?t:{}}function uj(e){const{initial:t,animate:n}=cj(e,b.useContext(na));return b.useMemo(()=>({initial:t,animate:n}),[Kf(t),Kf(n)])}function Kf(e){return Array.isArray(e)?e.join(" "):e}const Qf={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Us={};for(const e in Qf)Us[e]={isEnabled:t=>Qf[e].some(n=>!!t[n])};function dj(e){for(const t in e)Us[t]={...Us[t],...e[t]}}const Fu=b.createContext({}),n0=b.createContext({}),fj=Symbol.for("motionComponentSymbol");function hj({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:s}){e&&dj(e);function i(a,c){let u;const f={...b.useContext(Zg),...a,layoutId:pj(a)},{isStatic:d}=f,h=uj(a),p=r(a,d);if(!d&&sa){h.visualElement=aj(s,p,f,t);const g=b.useContext(n0),v=b.useContext(Jg).strict;h.visualElement&&(u=h.visualElement.loadFeatures(f,v,e,g))}return b.createElement(na.Provider,{value:h},u&&h.visualElement?b.createElement(u,{visualElement:h.visualElement,...f}):null,n(s,a,lj(p,h.visualElement,c),p,d,h.visualElement))}const o=b.forwardRef(i);return o[fj]=s,o}function pj({layoutId:e}){const t=b.useContext(Fu).id;return t&&e!==void 0?t+"-"+e:e}function mj(e){function t(r,s={}){return hj(e(r,s))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,s)=>(n.has(s)||n.set(s,t(s)),n.get(s))})}const gj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function zu(e){return typeof e!="string"||e.includes("-")?!1:!!(gj.indexOf(e)>-1||/[A-Z]/.test(e))}const jo={};function yj(e){Object.assign(jo,e)}const Js=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],tr=new Set(Js);function r0(e,{layout:t,layoutId:n}){return tr.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!jo[e]||e==="opacity")}const Je=e=>!!(e&&e.getVelocity),vj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xj=Js.length;function wj(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<xj;o++){const a=Js[o];if(e[a]!==void 0){const c=vj[a]||a;i+=`${c}(${e[a]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,r?"":i):n&&r&&(i="none"),i}const s0=e=>t=>typeof t=="string"&&t.startsWith(e),i0=s0("--"),gc=s0("var(--"),bj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Sj=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Tn=(e,t,n)=>Math.min(Math.max(n,e),t),nr={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},vs={...nr,transform:e=>Tn(0,1,e)},Ni={...nr,default:1},xs=e=>Math.round(e*1e5)/1e5,aa=/(-)?([\d]*\.?[\d])+/g,o0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ei(e){return typeof e=="string"}const ti=e=>({test:t=>ei(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),nn=ti("deg"),Rt=ti("%"),$=ti("px"),Tj=ti("vh"),Nj=ti("vw"),Yf={...Rt,parse:e=>Rt.parse(e)/100,transform:e=>Rt.transform(e*100)},Xf={...nr,transform:Math.round},a0={borderWidth:$,borderTopWidth:$,borderRightWidth:$,borderBottomWidth:$,borderLeftWidth:$,borderRadius:$,radius:$,borderTopLeftRadius:$,borderTopRightRadius:$,borderBottomRightRadius:$,borderBottomLeftRadius:$,width:$,maxWidth:$,height:$,maxHeight:$,size:$,top:$,right:$,bottom:$,left:$,padding:$,paddingTop:$,paddingRight:$,paddingBottom:$,paddingLeft:$,margin:$,marginTop:$,marginRight:$,marginBottom:$,marginLeft:$,rotate:nn,rotateX:nn,rotateY:nn,rotateZ:nn,scale:Ni,scaleX:Ni,scaleY:Ni,scaleZ:Ni,skew:nn,skewX:nn,skewY:nn,distance:$,translateX:$,translateY:$,translateZ:$,x:$,y:$,z:$,perspective:$,transformPerspective:$,opacity:vs,originX:Yf,originY:Yf,originZ:$,zIndex:Xf,fillOpacity:vs,strokeOpacity:vs,numOctaves:Xf};function $u(e,t,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=e;let c=!1,u=!1,f=!0;for(const d in t){const h=t[d];if(i0(d)){i[d]=h;continue}const p=a0[d],g=Sj(h,p);if(tr.has(d)){if(c=!0,o[d]=g,!f)continue;h!==(p.default||0)&&(f=!1)}else d.startsWith("origin")?(u=!0,a[d]=g):s[d]=g}if(t.transform||(c||r?s.transform=wj(e.transform,n,f,r):s.transform&&(s.transform="none")),u){const{originX:d="50%",originY:h="50%",originZ:p=0}=a;s.transformOrigin=`${d} ${h} ${p}`}}const Hu=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l0(e,t,n){for(const r in t)!Je(t[r])&&!r0(r,n)&&(e[r]=t[r])}function Cj({transformTemplate:e},t,n){return b.useMemo(()=>{const r=Hu();return $u(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function kj(e,t,n){const r=e.style||{},s={};return l0(s,r,e),Object.assign(s,Cj(e,t,n)),e.transformValues?e.transformValues(s):s}function Pj(e,t,n){const r={},s=kj(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=s,r}const Dj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function To(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Dj.has(e)}let c0=e=>!To(e);function Ej(e){e&&(c0=t=>t.startsWith("on")?!To(t):e(t))}try{Ej(require("@emotion/is-prop-valid").default)}catch{}function Ij(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(c0(s)||n===!0&&To(s)||!t&&!To(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}function qf(e,t,n){return typeof e=="string"?e:$.transform(t+n*e)}function Aj(e,t,n){const r=qf(t,e.x,e.width),s=qf(n,e.y,e.height);return`${r} ${s}`}const Oj={offset:"stroke-dashoffset",array:"stroke-dasharray"},Mj={offset:"strokeDashoffset",array:"strokeDasharray"};function Rj(e,t,n=1,r=0,s=!0){e.pathLength=1;const i=s?Oj:Mj;e[i.offset]=$.transform(-r);const o=$.transform(t),a=$.transform(n);e[i.array]=`${o} ${a}`}function Uu(e,{attrX:t,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},f,d,h){if($u(e,u,f,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:g,dimensions:v}=e;p.transform&&(v&&(g.transform=p.transform),delete p.transform),v&&(s!==void 0||i!==void 0||g.transform)&&(g.transformOrigin=Aj(v,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(p.x=t),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Rj(p,o,a,c,!1)}const u0=()=>({...Hu(),attrs:{}}),Wu=e=>typeof e=="string"&&e.toLowerCase()==="svg";function _j(e,t,n,r){const s=b.useMemo(()=>{const i=u0();return Uu(i,t,{enableHardwareAcceleration:!1},Wu(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};l0(i,e.style,e),s.style={...i,...s.style}}return s}function Lj(e=!1){return(n,r,s,{latestValues:i},o)=>{const c=(zu(n)?_j:Pj)(r,i,o,n),f={...Ij(r,typeof n=="string",e),...c,ref:s},{children:d}=r,h=b.useMemo(()=>Je(d)?d.get():d,[d]);return b.createElement(n,{...f,children:h})}}function d0(e,{style:t,vars:n},r,s){Object.assign(e.style,t,s&&s.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const f0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h0(e,t,n,r){d0(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(f0.has(s)?s:Lu(s),t.attrs[s])}function Gu(e,t){const{style:n}=e,r={};for(const s in n)(Je(n[s])||t.style&&Je(t.style[s])||r0(s,e))&&(r[s]=n[s]);return r}function p0(e,t){const n=Gu(e,t);for(const r in e)if(Je(e[r])||Je(t[r])){const s=Js.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=e[r]}return n}function Ku(e,t,n,r={},s={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,s)),t}function m0(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const No=e=>Array.isArray(e),Bj=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Vj=e=>No(e)?e[e.length-1]||0:e;function Hi(e){const t=Je(e)?e.get():e;return Bj(t)?t.toValue():t}function Fj({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,s,i){const o={latestValues:zj(r,s,i,e),renderState:t()};return n&&(o.mount=a=>n(r,a,o)),o}const g0=e=>(t,n)=>{const r=b.useContext(na),s=b.useContext(ra),i=()=>Fj(e,t,r,s);return n?i():m0(i)};function zj(e,t,n,r){const s={},i=r(e,{});for(const h in i)s[h]=Hi(i[h]);let{initial:o,animate:a}=e;const c=oa(e),u=t0(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),a===void 0&&(a=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;return d&&typeof d!="boolean"&&!ia(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const g=Ku(e,p);if(!g)return;const{transitionEnd:v,transition:S,...x}=g;for(const m in x){let y=x[m];if(Array.isArray(y)){const w=f?y.length-1:0;y=y[w]}y!==null&&(s[m]=y)}for(const m in v)s[m]=v[m]}),s}const ye=e=>e;class Zf{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function $j(e){let t=new Zf,n=new Zf,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(c,u=!1,f=!1)=>{const d=f&&s,h=d?t:n;return u&&o.add(c),h.add(c)&&d&&s&&(r=t.order.length),c},cancel:c=>{n.remove(c),o.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const f=t.order[u];f(c),o.has(f)&&(a.schedule(f),e())}s=!1,i&&(i=!1,a.process(c))}};return a}const Ci=["prepare","read","update","preRender","render","postRender"],Hj=40;function Uj(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Ci.reduce((d,h)=>(d[h]=$j(()=>n=!0),d),{}),o=d=>i[d].process(s),a=()=>{const d=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(d-s.timestamp,Hj),1),s.timestamp=d,s.isProcessing=!0,Ci.forEach(o),s.isProcessing=!1,n&&t&&(r=!1,e(a))},c=()=>{n=!0,r=!0,s.isProcessing||e(a)};return{schedule:Ci.reduce((d,h)=>{const p=i[h];return d[h]=(g,v=!1,S=!1)=>(n||c(),p.schedule(g,v,S)),d},{}),cancel:d=>Ci.forEach(h=>i[h].cancel(d)),state:s,steps:i}}const{schedule:ae,cancel:Zt,state:Le,steps:Xa}=Uj(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0),Wj={useVisualState:g0({scrapeMotionValuesFromProps:p0,createRenderState:u0,onMount:(e,t,{renderState:n,latestValues:r})=>{ae.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ae.render(()=>{Uu(n,r,{enableHardwareAcceleration:!1},Wu(t.tagName),e.transformTemplate),h0(t,n)})}})},Gj={useVisualState:g0({scrapeMotionValuesFromProps:Gu,createRenderState:Hu})};function Kj(e,{forwardMotionProps:t=!1},n,r){return{...zu(e)?Wj:Gj,preloadedFeatures:n,useRender:Lj(t),createVisualElement:r,Component:e}}function zt(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const y0=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function la(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Qj=e=>t=>y0(t)&&e(t,la(t));function Ut(e,t,n,r){return zt(e,t,Qj(n),r)}const Yj=(e,t)=>n=>t(e(n)),wn=(...e)=>e.reduce(Yj);function v0(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Jf=v0("dragHorizontal"),eh=v0("dragVertical");function x0(e){let t=!1;if(e==="y")t=eh();else if(e==="x")t=Jf();else{const n=Jf(),r=eh();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function w0(){const e=x0(!0);return e?(e(),!1):!0}class Dn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function th(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||w0())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&ae.update(()=>a[r](i,o))};return Ut(e.current,n,s,{passive:!e.getProps()[r]})}class Xj extends Dn{mount(){this.unmount=wn(th(this.node,!0),th(this.node,!1))}unmount(){}}class qj extends Dn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wn(zt(this.node.current,"focus",()=>this.onFocus()),zt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const b0=(e,t)=>t?e===t?!0:b0(e,t.parentElement):!1;function qa(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,la(n))}class Zj extends Dn{constructor(){super(...arguments),this.removeStartListeners=ye,this.removeEndListeners=ye,this.removeAccessibleListeners=ye,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ut(window,"pointerup",(a,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:f,globalTapTarget:d}=this.node.getProps();ae.update(()=>{!d&&!b0(this.node.current,a.target)?f&&f(a,c):u&&u(a,c)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ut(window,"pointercancel",(a,c)=>this.cancelPress(a,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wn(i,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||qa("up",(c,u)=>{const{onTap:f}=this.node.getProps();f&&ae.update(()=>f(c,u))})};this.removeEndListeners(),this.removeEndListeners=zt(this.node.current,"keyup",o),qa("down",(a,c)=>{this.startPress(a,c)})},n=zt(this.node.current,"keydown",t),r=()=>{this.isPressing&&qa("cancel",(i,o)=>this.cancelPress(i,o))},s=zt(this.node.current,"blur",r);this.removeAccessibleListeners=wn(n,s)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ae.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!w0()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ae.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Ut(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=zt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const yc=new WeakMap,Za=new WeakMap,Jj=e=>{const t=yc.get(e.target);t&&t(e)},eT=e=>{e.forEach(Jj)};function tT({root:e,...t}){const n=e||document;Za.has(n)||Za.set(n,{});const r=Za.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(eT,{root:e,...t})),r[s]}function nT(e,t,n){const r=tT(t);return yc.set(e,n),r.observe(e),()=>{yc.delete(e),r.unobserve(e)}}const rT={some:0,all:1};class sT extends Dn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:rT[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),h=u?f:d;h&&h(c)};return nT(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(iT(t,n))&&this.startObserver()}unmount(){}}function iT({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const oT={inView:{Feature:sT},tap:{Feature:Zj},focus:{Feature:qj},hover:{Feature:Xj}};function S0(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function aT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function lT(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function ca(e,t,n){const r=e.getProps();return Ku(r,t,n!==void 0?n:r.custom,aT(e),lT(e))}let Qu=ye;const Wn=e=>e*1e3,Wt=e=>e/1e3,cT={current:!1},j0=e=>Array.isArray(e)&&typeof e[0]=="number";function T0(e){return!!(!e||typeof e=="string"&&N0[e]||j0(e)||Array.isArray(e)&&e.every(T0))}const os=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,N0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:os([0,.65,.55,1]),circOut:os([.55,0,1,.45]),backIn:os([.31,.01,.66,-.59]),backOut:os([.33,1.53,.69,.99])};function C0(e){if(e)return j0(e)?os(e):Array.isArray(e)?e.map(C0):N0[e]}function uT(e,t,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:c}={}){const u={[t]:n};c&&(u.offset=c);const f=C0(a);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function dT(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const k0=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,fT=1e-7,hT=12;function pT(e,t,n,r,s){let i,o,a=0;do o=t+(n-t)/2,i=k0(o,r,s)-e,i>0?n=o:t=o;while(Math.abs(i)>fT&&++a<hT);return o}function ni(e,t,n,r){if(e===t&&n===r)return ye;const s=i=>pT(i,0,1,e,n);return i=>i===0||i===1?i:k0(s(i),t,r)}const mT=ni(.42,0,1,1),gT=ni(0,0,.58,1),P0=ni(.42,0,.58,1),yT=e=>Array.isArray(e)&&typeof e[0]!="number",D0=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,E0=e=>t=>1-e(1-t),Yu=e=>1-Math.sin(Math.acos(e)),I0=E0(Yu),vT=D0(Yu),A0=ni(.33,1.53,.69,.99),Xu=E0(A0),xT=D0(Xu),wT=e=>(e*=2)<1?.5*Xu(e):.5*(2-Math.pow(2,-10*(e-1))),bT={linear:ye,easeIn:mT,easeInOut:P0,easeOut:gT,circIn:Yu,circInOut:vT,circOut:I0,backIn:Xu,backInOut:xT,backOut:A0,anticipate:wT},nh=e=>{if(Array.isArray(e)){Qu(e.length===4);const[t,n,r,s]=e;return ni(t,n,r,s)}else if(typeof e=="string")return bT[e];return e},qu=(e,t)=>n=>!!(ei(n)&&jj.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),O0=(e,t,n)=>r=>{if(!ei(r))return r;const[s,i,o,a]=r.match(aa);return{[e]:parseFloat(s),[t]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},ST=e=>Tn(0,255,e),Ja={...nr,transform:e=>Math.round(ST(e))},$n={test:qu("rgb","red"),parse:O0("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Ja.transform(e)+", "+Ja.transform(t)+", "+Ja.transform(n)+", "+xs(vs.transform(r))+")"};function jT(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const vc={test:qu("#"),parse:jT,transform:$n.transform},wr={test:qu("hsl","hue"),parse:O0("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Rt.transform(xs(t))+", "+Rt.transform(xs(n))+", "+xs(vs.transform(r))+")"},He={test:e=>$n.test(e)||vc.test(e)||wr.test(e),parse:e=>$n.test(e)?$n.parse(e):wr.test(e)?wr.parse(e):vc.parse(e),transform:e=>ei(e)?e:e.hasOwnProperty("red")?$n.transform(e):wr.transform(e)},fe=(e,t,n)=>-n*e+n*t+e;function el(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function TT({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,i=0,o=0;if(!t)s=i=o=n;else{const a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;s=el(c,a,e+1/3),i=el(c,a,e),o=el(c,a,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const tl=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},NT=[vc,$n,wr],CT=e=>NT.find(t=>t.test(e));function rh(e){const t=CT(e);let n=t.parse(e);return t===wr&&(n=TT(n)),n}const M0=(e,t)=>{const n=rh(e),r=rh(t),s={...n};return i=>(s.red=tl(n.red,r.red,i),s.green=tl(n.green,r.green,i),s.blue=tl(n.blue,r.blue,i),s.alpha=fe(n.alpha,r.alpha,i),$n.transform(s))};function kT(e){var t,n;return isNaN(e)&&ei(e)&&(((t=e.match(aa))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(o0))===null||n===void 0?void 0:n.length)||0)>0}const R0={regex:bj,countKey:"Vars",token:"${v}",parse:ye},_0={regex:o0,countKey:"Colors",token:"${c}",parse:He.parse},L0={regex:aa,countKey:"Numbers",token:"${n}",parse:nr.parse};function nl(e,{regex:t,countKey:n,token:r,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(s)))}function Co(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&nl(n,R0),nl(n,_0),nl(n,L0),n}function B0(e){return Co(e).values}function V0(e){const{values:t,numColors:n,numVars:r,tokenised:s}=Co(e),i=t.length;return o=>{let a=s;for(let c=0;c<i;c++)c<r?a=a.replace(R0.token,o[c]):c<r+n?a=a.replace(_0.token,He.transform(o[c])):a=a.replace(L0.token,xs(o[c]));return a}}const PT=e=>typeof e=="number"?0:e;function DT(e){const t=B0(e);return V0(e)(t.map(PT))}const Nn={test:kT,parse:B0,createTransformer:V0,getAnimatableNone:DT},F0=(e,t)=>n=>`${n>0?t:e}`;function z0(e,t){return typeof e=="number"?n=>fe(e,t,n):He.test(e)?M0(e,t):e.startsWith("var(")?F0(e,t):H0(e,t)}const $0=(e,t)=>{const n=[...e],r=n.length,s=e.map((i,o)=>z0(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},ET=(e,t)=>{const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=z0(e[s],t[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},H0=(e,t)=>{const n=Nn.createTransformer(t),r=Co(e),s=Co(t);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?wn($0(r.values,s.values),n):F0(e,t)},Ws=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},sh=(e,t)=>n=>fe(e,t,n);function IT(e){return typeof e=="number"?sh:typeof e=="string"?He.test(e)?M0:H0:Array.isArray(e)?$0:typeof e=="object"?ET:sh}function AT(e,t,n){const r=[],s=n||IT(e[0]),i=e.length-1;for(let o=0;o<i;o++){let a=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ye:t;a=wn(c,a)}r.push(a)}return r}function U0(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const i=e.length;if(Qu(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=AT(t,r,s),a=o.length,c=u=>{let f=0;if(a>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const d=Ws(e[f],e[f+1],u);return o[f](d)};return n?u=>c(Tn(e[0],e[i-1],u)):c}function OT(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Ws(0,t,r);e.push(fe(n,1,s))}}function MT(e){const t=[0];return OT(t,e.length-1),t}function RT(e,t){return e.map(n=>n*t)}function _T(e,t){return e.map(()=>t||P0).splice(0,e.length-1)}function ko({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=yT(r)?r.map(nh):nh(r),i={done:!1,value:t[0]},o=RT(n&&n.length===t.length?n:MT(t),e),a=U0(o,t,{ease:Array.isArray(s)?s:_T(t,s)});return{calculatedDuration:e,next:c=>(i.value=a(c),i.done=c>=e,i)}}function W0(e,t){return t?e*(1e3/t):0}const LT=5;function G0(e,t,n){const r=Math.max(t-LT,0);return W0(n-e(r),t-r)}const ih=.001,BT=.01,VT=10,FT=.05,zT=1;function $T({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let s,i,o=1-t;o=Tn(FT,zT,o),e=Tn(BT,VT,Wt(e)),o<1?(s=u=>{const f=u*o,d=f*e,h=f-n,p=xc(u,o),g=Math.exp(-d);return ih-h/p*g},i=u=>{const d=u*o*e,h=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,g=Math.exp(-d),v=xc(Math.pow(u,2),o);return(-s(u)+ih>0?-1:1)*((h-p)*g)/v}):(s=u=>{const f=Math.exp(-u*e),d=(u-n)*e+1;return-.001+f*d},i=u=>{const f=Math.exp(-u*e),d=(n-u)*(e*e);return f*d});const a=5/e,c=UT(s,i,a);if(e=Wn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const HT=12;function UT(e,t,n){let r=n;for(let s=1;s<HT;s++)r=r-e(r)/t(r);return r}function xc(e,t){return e*Math.sqrt(1-t*t)}const WT=["duration","bounce"],GT=["stiffness","damping","mass"];function oh(e,t){return t.some(n=>e[n]!==void 0)}function KT(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!oh(e,GT)&&oh(e,WT)){const n=$T(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function K0({keyframes:e,restDelta:t,restSpeed:n,...r}){const s=e[0],i=e[e.length-1],o={done:!1,value:s},{stiffness:a,damping:c,mass:u,duration:f,velocity:d,isResolvedFromDuration:h}=KT({...r,velocity:-Wt(r.velocity||0)}),p=d||0,g=c/(2*Math.sqrt(a*u)),v=i-s,S=Wt(Math.sqrt(a/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let m;if(g<1){const y=xc(S,g);m=w=>{const T=Math.exp(-g*S*w);return i-T*((p+g*S*v)/y*Math.sin(y*w)+v*Math.cos(y*w))}}else if(g===1)m=y=>i-Math.exp(-S*y)*(v+(p+S*v)*y);else{const y=S*Math.sqrt(g*g-1);m=w=>{const T=Math.exp(-g*S*w),N=Math.min(y*w,300);return i-T*((p+g*S*v)*Math.sinh(N)+y*v*Math.cosh(N))/y}}return{calculatedDuration:h&&f||null,next:y=>{const w=m(y);if(h)o.done=y>=f;else{let T=p;y!==0&&(g<1?T=G0(m,y,w):T=0);const N=Math.abs(T)<=n,j=Math.abs(i-w)<=t;o.done=N&&j}return o.value=o.done?i:w,o}}}function ah({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:f}){const d=e[0],h={done:!1,value:d},p=C=>a!==void 0&&C<a||c!==void 0&&C>c,g=C=>a===void 0?c:c===void 0||Math.abs(a-C)<Math.abs(c-C)?a:c;let v=n*t;const S=d+v,x=o===void 0?S:o(S);x!==S&&(v=x-d);const m=C=>-v*Math.exp(-C/r),y=C=>x+m(C),w=C=>{const E=m(C),_=y(C);h.done=Math.abs(E)<=u,h.value=h.done?x:_};let T,N;const j=C=>{p(h.value)&&(T=C,N=K0({keyframes:[h.value,g(h.value)],velocity:G0(y,C,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:f}))};return j(0),{calculatedDuration:null,next:C=>{let E=!1;return!N&&T===void 0&&(E=!0,w(C),j(C)),T!==void 0&&C>T?N.next(C-T):(!E&&w(C),h)}}}const QT=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ae.update(t,!0),stop:()=>Zt(t),now:()=>Le.isProcessing?Le.timestamp:performance.now()}},lh=2e4;function ch(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<lh;)t+=n,r=e.next(t);return t>=lh?1/0:t}const YT={decay:ah,inertia:ah,tween:ko,keyframes:ko,spring:K0};function Po({autoplay:e=!0,delay:t=0,driver:n=QT,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:c,onStop:u,onComplete:f,onUpdate:d,...h}){let p=1,g=!1,v,S;const x=()=>{S=new Promise(V=>{v=V})};x();let m;const y=YT[s]||ko;let w;y!==ko&&typeof r[0]!="number"&&(w=U0([0,100],r,{clamp:!1}),r=[0,100]);const T=y({...h,keyframes:r});let N;a==="mirror"&&(N=y({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let j="idle",C=null,E=null,_=null;T.calculatedDuration===null&&i&&(T.calculatedDuration=ch(T));const{calculatedDuration:q}=T;let Q=1/0,U=1/0;q!==null&&(Q=q+o,U=Q*(i+1)-o);let se=0;const we=V=>{if(E===null)return;p>0&&(E=Math.min(E,V)),p<0&&(E=Math.min(V-U/p,E)),C!==null?se=C:se=Math.round(V-E)*p;const L=se-t*(p>=0?1:-1),Z=p>=0?L<0:L>U;se=Math.max(L,0),j==="finished"&&C===null&&(se=U);let F=se,J=T;if(i){const G=Math.min(se,U)/Q;let ie=Math.floor(G),ee=G%1;!ee&&G>=1&&(ee=1),ee===1&&ie--,ie=Math.min(ie,i+1),!!(ie%2)&&(a==="reverse"?(ee=1-ee,o&&(ee-=o/Q)):a==="mirror"&&(J=N)),F=Tn(0,1,ee)*Q}const te=Z?{done:!1,value:r[0]}:J.next(F);w&&(te.value=w(te.value));let{done:et}=te;!Z&&q!==null&&(et=p>=0?se>=U:se<=0);const k=C===null&&(j==="finished"||j==="running"&&et);return d&&d(te.value),k&&I(),te},X=()=>{m&&m.stop(),m=void 0},be=()=>{j="idle",X(),v(),x(),E=_=null},I=()=>{j="finished",f&&f(),X(),v()},B=()=>{if(g)return;m||(m=n(we));const V=m.now();c&&c(),C!==null?E=V-C:(!E||j==="finished")&&(E=V),j==="finished"&&x(),_=E,C=null,j="running",m.start()};e&&B();const z={then(V,L){return S.then(V,L)},get time(){return Wt(se)},set time(V){V=Wn(V),se=V,C!==null||!m||p===0?C=V:E=m.now()-V/p},get duration(){const V=T.calculatedDuration===null?ch(T):T.calculatedDuration;return Wt(V)},get speed(){return p},set speed(V){V===p||!m||(p=V,z.time=Wt(se))},get state(){return j},play:B,pause:()=>{j="paused",C=se},stop:()=>{g=!0,j!=="idle"&&(j="idle",u&&u(),be())},cancel:()=>{_!==null&&we(_),be()},complete:()=>{j="finished"},sample:V=>(E=0,we(V))};return z}function XT(e){let t;return()=>(t===void 0&&(t=e()),t)}const qT=XT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),ZT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ki=10,JT=2e4,eN=(e,t)=>t.type==="spring"||e==="backgroundColor"||!T0(t.ease);function tN(e,t,{onUpdate:n,onComplete:r,...s}){if(!(qT()&&ZT.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,c,u=!1;const f=()=>{c=new Promise(y=>{a=y})};f();let{keyframes:d,duration:h=300,ease:p,times:g}=s;if(eN(t,s)){const y=Po({...s,repeat:0,delay:0});let w={done:!1,value:d[0]};const T=[];let N=0;for(;!w.done&&N<JT;)w=y.sample(N),T.push(w.value),N+=ki;g=void 0,d=T,h=N-ki,p="linear"}const v=uT(e.owner.current,t,d,{...s,duration:h,ease:p,times:g}),S=()=>{u=!1,v.cancel()},x=()=>{u=!0,ae.update(S),a(),f()};return v.onfinish=()=>{u||(e.set(dT(d,s)),r&&r(),x())},{then(y,w){return c.then(y,w)},attachTimeline(y){return v.timeline=y,v.onfinish=null,ye},get time(){return Wt(v.currentTime||0)},set time(y){v.currentTime=Wn(y)},get speed(){return v.playbackRate},set speed(y){v.playbackRate=y},get duration(){return Wt(h)},play:()=>{o||(v.play(),Zt(S))},pause:()=>v.pause(),stop:()=>{if(o=!0,v.playState==="idle")return;const{currentTime:y}=v;if(y){const w=Po({...s,autoplay:!1});e.setWithVelocity(w.sample(y-ki).value,w.sample(y).value,ki)}x()},complete:()=>{u||v.finish()},cancel:x}}function nN({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const s=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ye,pause:ye,stop:ye,then:i=>(i(),Promise.resolve()),cancel:ye,complete:ye});return t?Po({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const rN={type:"spring",stiffness:500,damping:25,restSpeed:10},sN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iN={type:"keyframes",duration:.8},oN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},aN=(e,{keyframes:t})=>t.length>2?iN:tr.has(e)?e.startsWith("scale")?sN(t[1]):rN:oN,wc=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nn.test(t)||t==="0")&&!t.startsWith("url(")),lN=new Set(["brightness","contrast","saturate","opacity"]);function cN(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(aa)||[];if(!r)return e;const s=n.replace(r,"");let i=lN.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+s+")"}const uN=/([a-z-]*)\(.*?\)/g,bc={...Nn,getAnimatableNone:e=>{const t=e.match(uN);return t?t.map(cN).join(" "):e}},dN={...a0,color:He,backgroundColor:He,outlineColor:He,fill:He,stroke:He,borderColor:He,borderTopColor:He,borderRightColor:He,borderBottomColor:He,borderLeftColor:He,filter:bc,WebkitFilter:bc},Zu=e=>dN[e];function Q0(e,t){let n=Zu(e);return n!==bc&&(n=Nn),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Y0=e=>/^0[^.\s]+$/.test(e);function fN(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Y0(e)}function hN(e,t,n,r){const s=wc(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let a;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),fN(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(a=i[u]);if(s&&c.length&&a)for(let u=0;u<c.length;u++){const f=c[u];i[f]=Q0(t,a)}return i}function pN({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...f}){return!!Object.keys(f).length}function Ju(e,t){return e[t]||e.default||e}const mN={skipAnimations:!1},ed=(e,t,n,r={})=>s=>{const i=Ju(r,e)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wn(o);const c=hN(t,e,n,i),u=c[0],f=c[c.length-1],d=wc(e,u),h=wc(e,f);let p={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:g=>{t.set(g),i.onUpdate&&i.onUpdate(g)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(pN(i)||(p={...p,...aN(e,p)}),p.duration&&(p.duration=Wn(p.duration)),p.repeatDelay&&(p.repeatDelay=Wn(p.repeatDelay)),!d||!h||cT.current||i.type===!1||mN.skipAnimations)return nN(p);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const g=tN(t,e,p);if(g)return g}return Po(p)};function Do(e){return!!(Je(e)&&e.add)}const X0=e=>/^\-?\d*\.?\d+$/.test(e);function td(e,t){e.indexOf(t)===-1&&e.push(t)}function nd(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class rd{constructor(){this.subscriptions=[]}add(t){return td(this.subscriptions,t),()=>nd(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const gN=e=>!isNaN(parseFloat(e));class yN{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Le;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ae.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ae.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=gN(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new rd);const r=this.events[t].add(n);return t==="change"?()=>{r(),ae.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?W0(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lr(e,t){return new yN(e,t)}const q0=e=>t=>t.test(e),vN={test:e=>e==="auto",parse:e=>e},Z0=[nr,$,Rt,nn,Nj,Tj,vN],Jr=e=>Z0.find(q0(e)),xN=[...Z0,He,Nn],wN=e=>xN.find(q0(e));function bN(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Lr(n))}function SN(e,t){const n=ca(e,t);let{transitionEnd:r={},transition:s={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=Vj(i[o]);bN(e,o,a)}}function jN(e,t,n){var r,s;const i=Object.keys(t).filter(a=>!e.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const c=i[a],u=t[c];let f=null;Array.isArray(u)&&(f=u[0]),f===null&&(f=(s=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&s!==void 0?s:t[c]),f!=null&&(typeof f=="string"&&(X0(f)||Y0(f))?f=parseFloat(f):!wN(f)&&Nn.test(u)&&(f=Q0(c,u)),e.addValue(c,Lr(f,{owner:e})),n[c]===void 0&&(n[c]=f),f!==null&&e.setBaseTarget(c,f))}}function TN(e,t){return t?(t[e]||t.default||t).from:void 0}function NN(e,t,n){const r={};for(const s in e){const i=TN(s,t);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function CN({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kN(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function J0(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...a}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(i=r);const u=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const d in a){const h=e.getValue(d),p=a[d];if(!h||p===void 0||f&&CN(f,d))continue;const g={delay:n,elapsed:0,...Ju(i||{},d)};if(window.HandoffAppearAnimations){const x=e.getProps()[e0];if(x){const m=window.HandoffAppearAnimations(x,d,h,ae);m!==null&&(g.elapsed=m,g.isHandoff=!0)}}let v=!g.isHandoff&&!kN(h,p);if(g.type==="spring"&&(h.getVelocity()||g.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(ed(d,h,p,e.shouldReduceMotion&&tr.has(d)?{type:!1}:g));const S=h.animation;Do(c)&&(c.add(d),S.then(()=>c.remove(d))),u.push(S)}return o&&Promise.all(u).then(()=>{o&&SN(e,o)}),u}function Sc(e,t,n={}){const r=ca(e,t,n.custom);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(J0(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:d}=s;return PN(e,t,u+c,f,d,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,u]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function PN(e,t,n=0,r=0,s=1,i){const o=[],a=(e.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(DN).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(Sc(u,t,{...i,delay:n+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function DN(e,t){return e.sortNodePosition(t)}function EN(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(i=>Sc(e,i,n));r=Promise.all(s)}else if(typeof t=="string")r=Sc(e,t,n);else{const s=typeof t=="function"?ca(e,t,n.custom):t;r=Promise.all(J0(e,s,n))}return r.then(()=>e.notify("AnimationComplete",t))}const IN=[...Bu].reverse(),AN=Bu.length;function ON(e){return t=>Promise.all(t.map(({animation:n,options:r})=>EN(e,n,r)))}function MN(e){let t=ON(e);const n=_N();let r=!0;const s=(c,u)=>{const f=ca(e,u);if(f){const{transition:d,transitionEnd:h,...p}=f;c={...c,...p,...h}}return c};function i(c){t=c(e)}function o(c,u){const f=e.getProps(),d=e.getVariantContext(!0)||{},h=[],p=new Set;let g={},v=1/0;for(let x=0;x<AN;x++){const m=IN[x],y=n[m],w=f[m]!==void 0?f[m]:d[m],T=Hs(w),N=m===u?y.isActive:null;N===!1&&(v=x);let j=w===d[m]&&w!==f[m]&&T;if(j&&r&&e.manuallyAnimateOnMount&&(j=!1),y.protectedKeys={...g},!y.isActive&&N===null||!w&&!y.prevProp||ia(w)||typeof w=="boolean")continue;let E=RN(y.prevProp,w)||m===u&&y.isActive&&!j&&T||x>v&&T,_=!1;const q=Array.isArray(w)?w:[w];let Q=q.reduce(s,{});N===!1&&(Q={});const{prevResolvedValues:U={}}=y,se={...U,...Q},we=X=>{E=!0,p.has(X)&&(_=!0,p.delete(X)),y.needsAnimating[X]=!0};for(const X in se){const be=Q[X],I=U[X];if(g.hasOwnProperty(X))continue;let B=!1;No(be)&&No(I)?B=!S0(be,I):B=be!==I,B?be!==void 0?we(X):p.add(X):be!==void 0&&p.has(X)?we(X):y.protectedKeys[X]=!0}y.prevProp=w,y.prevResolvedValues=Q,y.isActive&&(g={...g,...Q}),r&&e.blockInitialAnimation&&(E=!1),E&&(!j||_)&&h.push(...q.map(X=>({animation:X,options:{type:m,...c}})))}if(p.size){const x={};p.forEach(m=>{const y=e.getBaseTarget(m);y!==void 0&&(x[m]=y)}),h.push({animation:x})}let S=!!h.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(S=!1),r=!1,S?t(h):Promise.resolve()}function a(c,u,f){var d;if(n[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var g;return(g=p.animationState)===null||g===void 0?void 0:g.setActive(c,u)}),n[c].isActive=u;const h=o(f,c);for(const p in n)n[p].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function RN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S0(t,e):!1}function En(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function _N(){return{animate:En(!0),whileInView:En(),whileHover:En(),whileTap:En(),whileDrag:En(),whileFocus:En(),exit:En()}}class LN extends Dn{constructor(t){super(t),t.animationState||(t.animationState=MN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),ia(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let BN=0;class VN extends Dn{constructor(){super(...arguments),this.id=BN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const FN={animation:{Feature:LN},exit:{Feature:VN}},uh=(e,t)=>Math.abs(e-t);function zN(e,t){const n=uh(e.x,t.x),r=uh(e.y,t.y);return Math.sqrt(n**2+r**2)}class ey{constructor(t,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=sl(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=zN(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:g}=d,{timestamp:v}=Le;this.history.push({...g,timestamp:v});const{onStart:S,onMove:x}=this.handlers;h||(S&&S(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=rl(h,this.transformPagePoint),ae.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sl(d.type==="pointercancel"?this.lastMoveEventInfo:rl(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,S),g&&g(d,S)},!y0(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=la(t),a=rl(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=Le;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=n;f&&f(t,sl(a,this.history)),this.removeListeners=wn(Ut(this.contextWindow,"pointermove",this.handlePointerMove),Ut(this.contextWindow,"pointerup",this.handlePointerUp),Ut(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zt(this.updatePoint)}}function rl(e,t){return t?{point:t(e.point)}:e}function dh(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sl({point:e},t){return{point:e,delta:dh(e,ty(t)),offset:dh(e,$N(t)),velocity:HN(t,.1)}}function $N(e){return e[0]}function ty(e){return e[e.length-1]}function HN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=ty(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Wn(t)));)n--;if(!r)return{x:0,y:0};const i=Wt(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function at(e){return e.max-e.min}function jc(e,t=0,n=.01){return Math.abs(e-t)<=n}function fh(e,t,n,r=.5){e.origin=r,e.originPoint=fe(t.min,t.max,e.origin),e.scale=at(n)/at(t),(jc(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=fe(n.min,n.max,e.origin)-e.originPoint,(jc(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ws(e,t,n,r){fh(e.x,t.x,n.x,r?r.originX:void 0),fh(e.y,t.y,n.y,r?r.originY:void 0)}function hh(e,t,n){e.min=n.min+t.min,e.max=e.min+at(t)}function UN(e,t,n){hh(e.x,t.x,n.x),hh(e.y,t.y,n.y)}function ph(e,t,n){e.min=t.min-n.min,e.max=e.min+at(t)}function bs(e,t,n){ph(e.x,t.x,n.x),ph(e.y,t.y,n.y)}function WN(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?fe(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?fe(n,e,r.max):Math.min(e,n)),e}function mh(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GN(e,{top:t,left:n,bottom:r,right:s}){return{x:mh(e.x,n,s),y:mh(e.y,t,r)}}function gh(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KN(e,t){return{x:gh(e.x,t.x),y:gh(e.y,t.y)}}function QN(e,t){let n=.5;const r=at(e),s=at(t);return s>r?n=Ws(t.min,t.max-r,e.min):r>s&&(n=Ws(e.min,e.max-s,t.min)),Tn(0,1,n)}function YN(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tc=.35;function XN(e=Tc){return e===!1?e=0:e===!0&&(e=Tc),{x:yh(e,"left","right"),y:yh(e,"top","bottom")}}function yh(e,t,n){return{min:vh(e,t),max:vh(e,n)}}function vh(e,t){return typeof e=="number"?e:e[t]||0}const xh=()=>({translate:0,scale:1,origin:0,originPoint:0}),br=()=>({x:xh(),y:xh()}),wh=()=>({min:0,max:0}),ve=()=>({x:wh(),y:wh()});function ht(e){return[e("x"),e("y")]}function ny({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function ZN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function il(e){return e===void 0||e===1}function Nc({scale:e,scaleX:t,scaleY:n}){return!il(e)||!il(t)||!il(n)}function Mn(e){return Nc(e)||ry(e)||e.z||e.rotate||e.rotateX||e.rotateY}function ry(e){return bh(e.x)||bh(e.y)}function bh(e){return e&&e!=="0%"}function Eo(e,t,n){const r=e-n,s=t*r;return n+s}function Sh(e,t,n,r,s){return s!==void 0&&(e=Eo(e,s,r)),Eo(e,n,r)+t}function Cc(e,t=0,n=1,r,s){e.min=Sh(e.min,t,n,r,s),e.max=Sh(e.max,t,n,r,s)}function sy(e,{x:t,y:n}){Cc(e.x,t.translate,t.scale,t.originPoint),Cc(e.y,n.translate,n.scale,n.originPoint)}function JN(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Sr(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,sy(e,o)),r&&Mn(i.latestValues)&&Sr(e,i.latestValues))}t.x=jh(t.x),t.y=jh(t.y)}function jh(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function on(e,t){e.min=e.min+t,e.max=e.max+t}function Th(e,t,[n,r,s]){const i=t[s]!==void 0?t[s]:.5,o=fe(e.min,e.max,i);Cc(e,t[n],t[r],o,t.scale)}const e2=["x","scaleX","originX"],t2=["y","scaleY","originY"];function Sr(e,t){Th(e.x,t,e2),Th(e.y,t,t2)}function iy(e,t){return ny(ZN(e.getBoundingClientRect(),t))}function n2(e,t,n){const r=iy(e,n),{scroll:s}=t;return s&&(on(r.x,s.offset.x),on(r.y,s.offset.y)),r}const oy=({current:e})=>e?e.ownerDocument.defaultView:null,r2=new WeakMap;class s2{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ve(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(la(f,"page").point)},i=(f,d)=>{const{drag:h,dragPropagation:p,onDragStart:g}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=x0(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ht(S=>{let x=this.getAxisMotionValue(S).get()||0;if(Rt.test(x)){const{projection:m}=this.visualElement;if(m&&m.layout){const y=m.layout.layoutBox[S];y&&(x=at(y)*(parseFloat(x)/100))}}this.originPoint[S]=x}),g&&ae.update(()=>g(f,d),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:S}=d;if(p&&this.currentDirection===null){this.currentDirection=i2(S),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",d.point,S),this.updateAxis("y",d.point,S),this.visualElement.render(),v&&v(f,d)},a=(f,d)=>this.stop(f,d),c=()=>ht(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ey(t,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:oy(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&ae.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!Pi(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=WN(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&xr(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=GN(s.layoutBox,n):this.constraints=!1,this.elastic=XN(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&ht(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=YN(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xr(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=n2(r,s.root,this.visualElement.getTransformPagePoint());let o=KN(s.layout.layoutBox,i);if(n){const a=n(qN(o));this.hasMutatedConstraints=!!a,a&&(o=ny(a))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=ht(f=>{if(!Pi(f,n,this.currentDirection))return;let d=c&&c[f]||{};o&&(d={min:0,max:0});const h=s?200:1e6,p=s?40:1e7,g={type:"inertia",velocity:r?t[f]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(f,g)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(ed(t,r,0,n))}stopAnimation(){ht(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ht(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ht(n=>{const{drag:r}=this.getProps();if(!Pi(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(t[n]-fe(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xr(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ht(o=>{const a=this.getAxisMotionValue(o);if(a){const c=a.get();s[o]=QN({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ht(o=>{if(!Pi(o,t,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(fe(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;r2.set(this.visualElement,this);const t=this.visualElement.current,n=Ut(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();xr(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=zt(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ht(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=c[f].translate,d.set(d.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Tc,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function Pi(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function i2(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class o2 extends Dn{constructor(t){super(t),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new s2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const Nh=e=>(t,n)=>{e&&ae.update(()=>e(t,n))};class a2 extends Dn{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(t){this.session=new ey(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:oy(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Nh(t),onStart:Nh(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&ae.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ut(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function l2(){const e=b.useContext(ra);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,s=b.useId();return b.useEffect(()=>r(s),[]),!t&&n?[!1,()=>n&&n(s)]:[!0]}const Ui={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ch(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const es={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if($.test(e))e=parseFloat(e);else return e;const n=Ch(e,t.target.x),r=Ch(e,t.target.y);return`${n}% ${r}%`}},c2={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Nn.parse(e);if(s.length>5)return r;const i=Nn.createTransformer(e),o=typeof s[0]!="number"?1:0,a=n.x.scale*t.x,c=n.y.scale*t.y;s[0+o]/=a,s[1+o]/=c;const u=fe(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class u2 extends At.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=t;yj(d2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ui.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ae.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function ay(e){const[t,n]=l2(),r=b.useContext(Fu);return At.createElement(u2,{...e,layoutGroup:r,switchLayoutGroup:b.useContext(n0),isPresent:t,safeToRemove:n})}const d2={borderRadius:{...es,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:es,borderTopRightRadius:es,borderBottomLeftRadius:es,borderBottomRightRadius:es,boxShadow:c2},ly=["TopLeft","TopRight","BottomLeft","BottomRight"],f2=ly.length,kh=e=>typeof e=="string"?parseFloat(e):e,Ph=e=>typeof e=="number"||$.test(e);function h2(e,t,n,r,s,i){s?(e.opacity=fe(0,n.opacity!==void 0?n.opacity:1,p2(r)),e.opacityExit=fe(t.opacity!==void 0?t.opacity:1,0,m2(r))):i&&(e.opacity=fe(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<f2;o++){const a=`border${ly[o]}Radius`;let c=Dh(t,a),u=Dh(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Ph(c)===Ph(u)?(e[a]=Math.max(fe(kh(c),kh(u),r),0),(Rt.test(u)||Rt.test(c))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=fe(t.rotate||0,n.rotate||0,r))}function Dh(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const p2=cy(0,.5,I0),m2=cy(.5,.95,ye);function cy(e,t,n){return r=>r<e?0:r>t?1:n(Ws(e,t,r))}function Eh(e,t){e.min=t.min,e.max=t.max}function ft(e,t){Eh(e.x,t.x),Eh(e.y,t.y)}function Ih(e,t,n,r,s){return e-=t,e=Eo(e,1/n,r),s!==void 0&&(e=Eo(e,1/s,r)),e}function g2(e,t=0,n=1,r=.5,s,i=e,o=e){if(Rt.test(t)&&(t=parseFloat(t),t=fe(o.min,o.max,t/100)-o.min),typeof t!="number")return;let a=fe(i.min,i.max,r);e===i&&(a-=t),e.min=Ih(e.min,t,n,a,s),e.max=Ih(e.max,t,n,a,s)}function Ah(e,t,[n,r,s],i,o){g2(e,t[n],t[r],t[s],t.scale,i,o)}const y2=["x","scaleX","originX"],v2=["y","scaleY","originY"];function Oh(e,t,n,r){Ah(e.x,t,y2,n?n.x:void 0,r?r.x:void 0),Ah(e.y,t,v2,n?n.y:void 0,r?r.y:void 0)}function Mh(e){return e.translate===0&&e.scale===1}function uy(e){return Mh(e.x)&&Mh(e.y)}function x2(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function dy(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Rh(e){return at(e.x)/at(e.y)}class w2{constructor(){this.members=[]}add(t){td(this.members,t),t.scheduleRender()}remove(t){if(nd(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function _h(e,t,n){let r="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:f}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `)}const o=e.x.scale*t.x,a=e.y.scale*t.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const b2=(e,t)=>e.depth-t.depth;class S2{constructor(){this.children=[],this.isDirty=!1}add(t){td(this.children,t),this.isDirty=!0}remove(t){nd(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(b2),this.isDirty=!1,this.children.forEach(t)}}function j2(e,t){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=t&&(Zt(r),e(i-t))};return ae.read(r,!0),()=>Zt(r)}function T2(e){window.MotionDebug&&window.MotionDebug.record(e)}function N2(e){return e instanceof SVGElement&&e.tagName!=="svg"}function C2(e,t,n){const r=Je(e)?e:Lr(e);return r.start(ed("",r,t,n)),r.animation}const Lh=["","X","Y","Z"],k2={visibility:"hidden"},Bh=1e3;let P2=0;const Rn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function fy({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=t==null?void 0:t()){this.id=P2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rn.totalNodes=Rn.resolvedTargetDeltas=Rn.recalculatedProjection=0,this.nodes.forEach(I2),this.nodes.forEach(_2),this.nodes.forEach(L2),this.nodes.forEach(A2),T2(Rn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new S2)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new rd),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=N2(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=j2(h,250),Ui.hasAnimatedSinceResize&&(Ui.hasAnimatedSinceResize=!1,this.nodes.forEach(Fh))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||f.getDefaultTransition()||$2,{onLayoutAnimationStart:S,onLayoutAnimationComplete:x}=f.getProps(),m=!this.targetLayout||!dy(this.targetLayout,g)||p,y=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(m||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const w={...Ju(v,"layout"),onPlay:S,onComplete:x};(f.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Fh(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(B2),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vh);return}this.isUpdating||this.nodes.forEach(M2),this.isUpdating=!1,this.nodes.forEach(R2),this.nodes.forEach(D2),this.nodes.forEach(E2),this.clearAllSnapshots();const a=performance.now();Le.delta=Tn(0,1e3/60,a-Le.timestamp),Le.timestamp=a,Le.isProcessing=!0,Xa.update.process(Le),Xa.preRender.process(Le),Xa.render.process(Le),Le.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(O2),this.sharedNodes.forEach(V2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ae.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ae.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ve(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!uy(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(a||Mn(this.latestValues)||f)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),H2(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return ve();const a=o.measureViewportBox(),{scroll:c}=this.root;return c&&(on(a.x,c.offset.x),on(a.y,c.offset.y)),a}removeElementScroll(o){const a=ve();ft(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:d}=u;if(u!==this.root&&f&&d.layoutScroll){if(f.isRoot){ft(a,o);const{scroll:h}=this.root;h&&(on(a.x,-h.offset.x),on(a.y,-h.offset.y))}on(a.x,f.offset.x),on(a.y,f.offset.y)}}return a}applyTransform(o,a=!1){const c=ve();ft(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Sr(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Mn(f.latestValues)&&Sr(c,f.latestValues)}return Mn(this.latestValues)&&Sr(c,this.latestValues),c}removeTransform(o){const a=ve();ft(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Mn(u.latestValues))continue;Nc(u.latestValues)&&u.updateSnapshot();const f=ve(),d=u.measurePageBox();ft(f,d),Oh(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Mn(this.latestValues)&&Oh(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Le.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Le.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),bs(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ve(),this.targetWithTransforms=ve()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ft(this.target,this.layout.layoutBox),sy(this.target,this.targetDelta)):ft(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ve(),this.relativeTargetOrigin=ve(),bs(this.relativeTargetOrigin,this.target,p.target),ft(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Nc(this.parent.latestValues)||ry(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Le.timestamp&&(u=!1),u)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;ft(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;JN(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=br(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=br(),this.projectionDeltaWithTransform=br());const v=this.projectionTransform;ws(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=_h(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Rn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},d=br();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ve(),p=c?c.source:void 0,g=this.layout?this.layout.source:void 0,v=p!==g,S=this.getStack(),x=!S||S.members.length<=1,m=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(z2));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const T=w/1e3;zh(d.x,o.x,T),zh(d.y,o.y,T),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(bs(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),F2(this.relativeTarget,this.relativeTargetOrigin,h,T),y&&x2(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ve()),ft(y,this.relativeTarget)),v&&(this.animationValues=f,h2(f,u,this.latestValues,T,m,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ae.update(()=>{Ui.hasAnimatedSinceResize=!0,this.currentAnimation=C2(0,Bh,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Bh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:f}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&hy(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||ve();const d=at(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const h=at(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}ft(a,c),Sr(a,f),ws(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new w2),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(a=!0),!a)return;const u={};for(let f=0;f<Lh.length;f++){const d="rotate"+Lh[f];c[d]&&(u[d]=c[d],o.setStaticValue(d,0))}o.render();for(const f in u)o.setStaticValue(f,u[f]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return k2;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Hi(o==null?void 0:o.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Hi(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Mn(this.latestValues)&&(v.transform=f?f({},""):"none",this.hasProjected=!1),v}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=_h(this.projectionDeltaWithTransform,this.treeScale,h),f&&(u.transform=f(h,u.transform));const{x:p,y:g}=this.projectionDelta;u.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in jo){if(h[v]===void 0)continue;const{correct:S,applyTo:x}=jo[v],m=u.transform==="none"?h[v]:S(h[v],d);if(x){const y=x.length;for(let w=0;w<y;w++)u[x[w]]=m}else u[v]=m}return this.options.layoutId&&(u.pointerEvents=d===this?Hi(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Vh),this.root.sharedNodes.clear()}}}function D2(e){e.updateLayout()}function E2(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?ht(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=at(h);h.min=r[d].min,h.max=h.min+p}):hy(i,n.layoutBox,r)&&ht(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],p=at(r[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const a=br();ws(a,r,n.layoutBox);const c=br();o?ws(c,e.applyTransform(s,!0),n.measuredBox):ws(c,r,n.layoutBox);const u=!uy(a);let f=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const g=ve();bs(g,n.layoutBox,h.layoutBox);const v=ve();bs(v,r,p.layoutBox),dy(g,v)||(f=!0),d.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=g,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function I2(e){Rn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function A2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function O2(e){e.clearSnapshot()}function Vh(e){e.clearMeasurements()}function M2(e){e.isLayoutDirty=!1}function R2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fh(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function _2(e){e.resolveTargetDelta()}function L2(e){e.calcProjection()}function B2(e){e.resetRotation()}function V2(e){e.removeLeadSnapshot()}function zh(e,t,n){e.translate=fe(t.translate,0,n),e.scale=fe(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function $h(e,t,n,r){e.min=fe(t.min,n.min,r),e.max=fe(t.max,n.max,r)}function F2(e,t,n,r){$h(e.x,t.x,n.x,r),$h(e.y,t.y,n.y,r)}function z2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const $2={duration:.45,ease:[.4,0,.1,1]},Hh=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Uh=Hh("applewebkit/")&&!Hh("chrome/")?Math.round:ye;function Wh(e){e.min=Uh(e.min),e.max=Uh(e.max)}function H2(e){Wh(e.x),Wh(e.y)}function hy(e,t,n){return e==="position"||e==="preserve-aspect"&&!jc(Rh(t),Rh(n),.2)}const U2=fy({attachResizeListener:(e,t)=>zt(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ol={current:void 0},py=fy({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ol.current){const e=new U2({});e.mount(window),e.setOptions({layoutScroll:!0}),ol.current=e}return ol.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),W2={pan:{Feature:a2},drag:{Feature:o2,ProjectionNode:py,MeasureLayout:ay}},G2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function K2(e){const t=G2.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function kc(e,t,n=1){const[r,s]=K2(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return X0(o)?parseFloat(o):o}else return gc(s)?kc(s,t,n+1):s}function Q2(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(s=>{const i=s.get();if(!gc(i))return;const o=kc(i,r);o&&s.set(o)});for(const s in t){const i=t[s];if(!gc(i))continue;const o=kc(i,r);o&&(t[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:t,transitionEnd:n}}const Y2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),my=e=>Y2.has(e),X2=e=>Object.keys(e).some(my),Gh=e=>e===nr||e===$,Kh=(e,t)=>parseFloat(e.split(", ")[t]),Qh=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return Kh(s[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?Kh(i[1],e):0}},q2=new Set(["x","y","z"]),Z2=Js.filter(e=>!q2.has(e));function J2(e){const t=[];return Z2.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Br={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qh(4,13),y:Qh(5,14)};Br.translateX=Br.x;Br.translateY=Br.y;const eC=(e,t,n)=>{const r=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Br[u](r,i)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const f=t.getValue(u);f&&f.jump(a[u]),e[u]=Br[u](c,i)}),e},tC=(e,t,n={},r={})=>{t={...t},r={...r};const s=Object.keys(t).filter(my);let i=[],o=!1;const a=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let f=n[c],d=Jr(f);const h=t[c];let p;if(No(h)){const g=h.length,v=h[0]===null?1:0;f=h[v],d=Jr(f);for(let S=v;S<g&&h[S]!==null;S++)p?Qu(Jr(h[S])===p):p=Jr(h[S])}else p=Jr(h);if(d!==p)if(Gh(d)&&Gh(p)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&p===$&&(t[c]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(f===0||h===0)?f===0?u.set(p.transform(f)):t[c]=d.transform(h):(o||(i=J2(e),o=!0),a.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),a.length){const c=a.indexOf("height")>=0?window.pageYOffset:null,u=eC(t,e,a);return i.length&&i.forEach(([f,d])=>{e.getValue(f).set(d)}),e.render(),sa&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function nC(e,t,n,r){return X2(t)?tC(e,t,n,r):{target:t,transitionEnd:r}}const rC=(e,t,n,r)=>{const s=Q2(e,t,r);return t=s.target,r=s.transitionEnd,nC(e,t,n,r)},Pc={current:null},gy={current:!1};function sC(){if(gy.current=!0,!!sa)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pc.current=e.matches;e.addListener(t),t()}else Pc.current=!1}function iC(e,t,n){const{willChange:r}=t;for(const s in t){const i=t[s],o=n[s];if(Je(i))e.addValue(s,i),Do(r)&&r.add(s);else if(Je(o))e.addValue(s,Lr(i,{owner:e})),Do(r)&&r.remove(s);else if(o!==i)if(e.hasValue(s)){const a=e.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=e.getStaticValue(s);e.addValue(s,Lr(a!==void 0?a:i,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const Yh=new WeakMap,yy=Object.keys(Us),oC=yy.length,Xh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],aC=Vu.length;class lC{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ae.render(this.render,!1,!0);const{latestValues:a,renderState:c}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=oa(n),this.isVariantNode=t0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{});for(const d in f){const h=f[d];a[d]!==void 0&&Je(h)&&(h.set(a[d],!1),Do(u)&&u.add(d))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,Yh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gy.current||sC(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pc.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Yh.delete(this.current),this.projection&&this.projection.unmount(),Zt(this.notifyUpdate),Zt(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=tr.has(t),s=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ae.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,s,i){let o,a;for(let c=0;c<oC;c++){const u=yy[c],{isEnabled:f,Feature:d,ProjectionNode:h,MeasureLayout:p}=Us[u];h&&(o=h),f(n)&&(!this.features[u]&&d&&(this.features[u]=new d(this)),p&&(a=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:f,dragConstraints:d,layoutScroll:h,layoutRoot:p}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!f||d&&xr(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:p})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ve()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Xh.length;r++){const s=Xh[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=iC(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<aC;r++){const s=Vu[r],i=this.props[s];(Hs(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Lr(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Ku(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Je(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new rd),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class vy extends lC{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:s},i){let o=NN(r,t||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){jN(this,r,o);const a=rC(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function cC(e){return window.getComputedStyle(e)}class uC extends vy{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(tr.has(n)){const r=Zu(n);return r&&r.default||0}else{const r=cC(t),s=(i0(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iy(t,n)}build(t,n,r,s){$u(t,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Gu(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Je(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,s){d0(t,n,r,s)}}class dC extends vy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(tr.has(n)){const r=Zu(n);return r&&r.default||0}return n=f0.has(n)?n:Lu(n),t.getAttribute(n)}measureInstanceViewportBox(){return ve()}scrapeMotionValuesFromProps(t,n){return p0(t,n)}build(t,n,r,s){Uu(t,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(t,n,r,s){h0(t,n,r,s)}mount(t){this.isSVGTag=Wu(t.tagName),super.mount(t)}}const fC=(e,t)=>zu(e)?new dC(t,{enableHardwareAcceleration:!1}):new uC(t,{enableHardwareAcceleration:!0}),hC={layout:{ProjectionNode:py,MeasureLayout:ay}},pC={...FN,...oT,...W2,...hC},P=mj((e,t)=>Kj(e,t,pC,fC));function xy(){const e=b.useRef(!1);return _u(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function mC(){const e=xy(),[t,n]=b.useState(0),r=b.useCallback(()=>{e.current&&n(t+1)},[t]);return[b.useCallback(()=>ae.postRender(r),[r]),t]}class gC extends b.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function yC({children:e,isPresent:t}){const n=b.useId(),r=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:i,height:o,top:a,left:c}=s.current;if(t||!r.current||!i||!o)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),b.createElement(gC,{isPresent:t,childRef:r,sizeRef:s},b.cloneElement(e,{ref:r}))}const al=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o})=>{const a=m0(vC),c=b.useId(),u=b.useMemo(()=>({id:c,initial:t,isPresent:n,custom:s,onExitComplete:f=>{a.set(f,!0);for(const d of a.values())if(!d)return;r&&r()},register:f=>(a.set(f,!1),()=>a.delete(f))}),i?void 0:[n]);return b.useMemo(()=>{a.forEach((f,d)=>a.set(d,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(e=b.createElement(yC,{isPresent:n},e)),b.createElement(ra.Provider,{value:u},e)};function vC(){return new Map}function xC(e){return b.useEffect(()=>()=>e(),[])}const _n=e=>e.key||"";function wC(e,t){e.forEach(n=>{const r=_n(n);t.set(r,n)})}function bC(e){const t=[];return b.Children.forEach(e,n=>{b.isValidElement(n)&&t.push(n)}),t}const Ce=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:o="sync"})=>{const a=b.useContext(Fu).forceRender||mC()[0],c=xy(),u=bC(e);let f=u;const d=b.useRef(new Map).current,h=b.useRef(f),p=b.useRef(new Map).current,g=b.useRef(!0);if(_u(()=>{g.current=!1,wC(u,p),h.current=f}),xC(()=>{g.current=!0,p.clear(),d.clear()}),g.current)return b.createElement(b.Fragment,null,f.map(m=>b.createElement(al,{key:_n(m),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:o},m)));f=[...f];const v=h.current.map(_n),S=u.map(_n),x=v.length;for(let m=0;m<x;m++){const y=v[m];S.indexOf(y)===-1&&!d.has(y)&&d.set(y,void 0)}return o==="wait"&&d.size&&(f=[]),d.forEach((m,y)=>{if(S.indexOf(y)!==-1)return;const w=p.get(y);if(!w)return;const T=v.indexOf(y);let N=m;if(!N){const j=()=>{d.delete(y);const C=Array.from(p.keys()).filter(E=>!S.includes(E));if(C.forEach(E=>p.delete(E)),h.current=u.filter(E=>{const _=_n(E);return _===y||C.includes(_)}),!d.size){if(c.current===!1)return;a(),r&&r()}};N=b.createElement(al,{key:_n(w),isPresent:!1,onExitComplete:j,custom:t,presenceAffectsLayout:i,mode:o},w),d.set(y,N)}f.splice(T,0,N)}),f=f.map(m=>{const y=m.key;return d.has(y)?m:b.createElement(al,{key:_n(m),isPresent:!0,presenceAffectsLayout:i,mode:o},m)}),b.createElement(b.Fragment,null,d.size?f:f.map(m=>b.cloneElement(m)))},SC=({northPlayer:e,eastPlayer:t,southPlayer:n,westPlayer:r,centerContent:s,overlays:i})=>l.jsxs("div",{className:"game-table-grid",id:"game-table",children:[l.jsx(P.div,{className:"player-area-north",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.1},children:e}),l.jsx(P.div,{className:"player-area-east",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:t}),l.jsx(P.div,{className:"player-area-south",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:n}),l.jsx(P.div,{className:"player-area-west",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},children:r}),l.jsx("div",{className:"game-center",children:s}),i&&l.jsx("div",{className:"game-overlays",children:i})]}),jC={badges:20},TC=({player:e,position:t,children:n})=>l.jsxs("div",{className:`player-zone player-zone-${t}`,style:{position:"relative",width:"100%",height:"100%"},"data-player-id":e.id,"data-position":t,children:[l.jsx("div",{className:`player-name-label player-name-${t}`,style:{zIndex:jC.badges},children:e.name}),n]});var wy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(i=s(i,r(a)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var o="";for(var a in i)t.call(i,a)&&i[a]&&(o=s(o,a));return o}function s(i,o){return o?i?i+" "+o:i+o:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(wy);var NC=wy.exports;const CC=Dc(NC),ri=({card:e,isValid:t=!1,isSelected:n=!1,isTrump:r=!1,onClick:s,isDraggable:i=!1,size:o="medium",faceDown:a=!1,className:c,isHovered:u=!1,otherCardsHovered:f=!1,teamId:d,width:h,height:p})=>{const g=Zs(),v=b.useRef(null),S=O(F=>{var J;return((J=F.game.settings)==null?void 0:J.cardStyle)||"classic"}),x=O(F=>{var J;return((J=F.game.settings)==null?void 0:J.rightClickZoom)??!0}),y=O(F=>F.game.zoomedCard)===e.id,w=!!a,[{isDragging:T},N]=hS({type:"card",item:{card:e},canDrag:i&&t,collect:F=>({isDragging:F.isDragging()})}),j=F=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[F],C=F=>({[A.Jack]:"J",[A.Queen]:"Q",[A.King]:"K",[A.Ace]:"A"})[F]||F,E=F=>S==="modern"||S==="minimalist"?F===M.Hearts||F===M.Diamonds?"text-rose-500 font-black":"text-slate-800 font-black":F===M.Hearts||F===M.Diamonds?"text-red-600 font-black":"text-gray-900 font-black",_=()=>{if(h&&p)return{width:h,height:p};if(o==="responsive")return{width:"var(--card-width-base)",height:"var(--card-height-base)"};const F=window.innerWidth,J=F<768,te=F<480,et={small:{width:te?80:J?90:100,height:te?112:J?126:140},medium:{width:te?100:J?110:120,height:te?140:J?154:168},large:{width:te?120:J?130:140,height:te?168:J?182:196},xlarge:{width:te?140:J?150:160,height:te?196:J?210:224}};return et[o]||et.medium},q=1,Q=1,U=_(),se={width:typeof U.width=="string"?U.width:`${Math.round(((U==null?void 0:U.width)||120)*q)}px`,height:typeof U.height=="string"?U.height:`${Math.round(((U==null?void 0:U.height)||168)*q)}px`,display:"flex",flexDirection:"column"},we=typeof U.width=="string"?120:Math.round(((U==null?void 0:U.width)||120)*q),X=typeof U.height=="string"?168:Math.round(((U==null?void 0:U.height)||168)*q),be=()=>{s&&!w&&s(e)},I=F=>{F.preventDefault(),!w&&x&&g(qr(e.id))},B=CC("playing-card rounded-lg shadow-xl select-none","card-interactive game-card overflow-hidden",{"bg-white":!w,"bg-gradient-to-br from-blue-900 to-blue-800":w,"opacity-50":T,"ring-4 ring-green-400":t&&!n,"ring-4 ring-blue-400 scale-105":n,"ring-4 ring-yellow-400":r&&!n&&!t,"hover:shadow-2xl":!w,"cursor-pointer":t||s},c);b.useEffect(()=>{i&&v.current&&N(v.current)},[i,N]);const z=X*.3,V=X*.33,L=X*.18,Z=X*.18;return l.jsxs(l.Fragment,{children:[l.jsx("div",{ref:v,className:B,style:se,onClick:be,onContextMenu:I,"data-card-value":e.value,"data-card-suit":e.suit,"data-card-rank":e.rank,"data-face-down":w?"true":"false",children:w?l.jsx(l.Fragment,{children:l.jsxs("div",{className:"absolute inset-0 rounded-lg overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-800 via-blue-900 to-indigo-900"}),l.jsx("div",{className:"absolute inset-2 border border-blue-700 rounded-md"}),l.jsx("div",{className:"absolute inset-3 border border-blue-600 rounded-sm"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-30",children:l.jsx("div",{className:"grid grid-cols-2 gap-1",children:[...Array(4)].map((F,J)=>l.jsx("div",{className:"w-3 h-3 md:w-4 md:h-4 bg-blue-500 rounded-full"},J))})})]})}):l.jsx(l.Fragment,{children:l.jsxs("div",{className:`h-full w-full flex flex-col ${S==="minimalist"?"bg-gray-50":"bg-white"} relative`,children:[l.jsxs("div",{className:"absolute top-3 left-3 text-center",children:[l.jsx("div",{className:`font-bold leading-none ${E(e.suit)}`,style:{fontSize:`${L*Q}px`,fontWeight:"900",fontFamily:S==="modern"?"system-ui, -apple-system, sans-serif":"inherit"},children:C(e.rank)}),l.jsx("div",{className:`leading-none ${E(e.suit)}`,style:{fontSize:`${Z*Q}px`,fontWeight:"900",marginTop:"0px"},children:j(e.suit)}),S==="accessible"&&l.jsx("div",{className:`leading-none ${E(e.suit)} mt-1`,style:{fontSize:`${Z*.7*Q}px`,fontWeight:"700"},children:j(e.suit)})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center p-4",style:{paddingLeft:"15%",paddingTop:"15%"},children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`font-black ${E(e.suit)} leading-none`,style:{fontSize:`${z*Q}px`,textShadow:S==="minimalist"?"none":"2px 2px 3px rgba(0,0,0,0.3)",fontWeight:"900",fontFamily:S==="modern"?"system-ui, -apple-system, sans-serif":"inherit"},children:C(e.rank)}),l.jsx("div",{className:`${E(e.suit)} leading-none`,style:{fontSize:`${V*Q}px`,textShadow:S==="minimalist"?"none":"2px 2px 3px rgba(0,0,0,0.3)",fontWeight:"900",marginTop:"-2px"},children:j(e.suit)})]})}),r&&l.jsx("div",{className:"absolute top-1 right-1 w-3 h-3 bg-yellow-400 rounded-full animate-pulse shadow-lg"})]})})}),l.jsx(Ce,{children:y&&!w&&l.jsxs(P.div,{initial:{opacity:0,scale:1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:.15,ease:"easeOut"},className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",style:{zIndex:9999},children:[l.jsx(P.div,{className:"absolute inset-0 bg-black/60 pointer-events-auto",onClick:F=>{F.preventDefault(),g(qr(null))},onContextMenu:F=>{F.preventDefault(),g(qr(null))}}),l.jsx(P.div,{initial:{scale:1},animate:{scale:2},exit:{scale:1},transition:{duration:.2,ease:[.16,1,.3,1]},className:"relative pointer-events-auto",style:{width:`${we}px`,height:`${X}px`,zIndex:1e4},children:l.jsx("div",{className:B+" shadow-2xl",style:se,onClick:F=>{F.stopPropagation(),s&&!w&&(s(e),g(qr(null)))},onContextMenu:F=>{F.preventDefault(),F.stopPropagation(),g(qr(null))},children:l.jsxs("div",{className:`h-full w-full flex flex-col ${S==="minimalist"?"bg-gray-50":"bg-white"} relative`,children:[l.jsxs("div",{className:"absolute top-3 left-3 text-center",children:[l.jsx("div",{className:`font-bold leading-none ${E(e.suit)}`,style:{fontSize:`${L*Q}px`,fontWeight:"900",fontFamily:S==="modern"?"system-ui, -apple-system, sans-serif":"inherit"},children:C(e.rank)}),l.jsx("div",{className:`leading-none ${E(e.suit)}`,style:{fontSize:`${Z*Q}px`,fontWeight:"900",marginTop:"0px"},children:j(e.suit)}),S==="accessible"&&l.jsx("div",{className:`leading-none ${E(e.suit)} mt-1`,style:{fontSize:`${Z*.7*Q}px`,fontWeight:"700"},children:j(e.suit)})]}),l.jsx("div",{className:"flex-1 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`font-bold ${E(e.suit)}`,style:{fontSize:`${z*Q}px`,lineHeight:"1",fontWeight:"900",fontFamily:S==="modern"?"system-ui, -apple-system, sans-serif":"inherit",marginLeft:`${we*.07}px`,marginTop:`${X*.05}px`},children:C(e.rank)}),l.jsx("div",{className:`${E(e.suit)}`,style:{fontSize:`${V*Q}px`,marginTop:"-5px",fontWeight:"900",marginLeft:`${we*.07}px`},children:j(e.suit)})]})})]})})})]})})]})},qh={[A.Seven]:1,[A.Eight]:2,[A.Nine]:3,[A.Ten]:4,[A.Jack]:5,[A.Queen]:6,[A.King]:7,[A.Ace]:8},kC=e=>e===M.Hearts||e===M.Diamonds,PC=e=>{const t=new Map;return e.forEach(n=>{t.has(n.suit)||t.set(n.suit,[]),t.get(n.suit).push(n)}),t},DC=e=>e.sort((t,n)=>qh[t.rank]-qh[n.rank]),EC=(e,t)=>{const n=[],r=[];Array.from(e.keys()).forEach(c=>{c!==t&&(kC(c)?n.push(c):r.push(c))});const i=[],o=Math.max(n.length,r.length),a=n.length>=r.length;for(let c=0;c<o;c++)a?(c<n.length&&i.push(n[c]),c<r.length&&i.push(r[c])):(c<r.length&&i.push(r[c]),c<n.length&&i.push(n[c]));return t&&e.has(t)&&i.push(t),i},IC=(e,t)=>{if(e.length===0)return e;const n=PC(e);n.forEach((i,o)=>{n.set(o,DC(i))});const r=EC(n,t),s=[];return r.forEach(i=>{const o=n.get(i);o&&s.push(...o)}),s},Zh={[M.Hearts]:0,[M.Diamonds]:1,[M.Clubs]:2,[M.Spades]:3},Jh={[A.Seven]:0,[A.Eight]:1,[A.Nine]:2,[A.Ten]:3,[A.Jack]:4,[A.Queen]:5,[A.King]:6,[A.Ace]:7};function AC(e,t){return[...e].sort((n,r)=>{if(t){const i=n.suit===t,o=r.suit===t;if(i&&!o)return-1;if(!i&&o)return 1}const s=Zh[n.suit]-Zh[r.suit];return s!==0?s:Jh[n.rank]-Jh[r.rank]})}const OC=({player:e,position:t,isCurrentPlayer:n,showCards:r,onCardClick:s,onCardPlay:i,selectedCard:o,validMoves:a=[],trumpSuit:c})=>{const[u,f]=b.useState(null),[d,h]=b.useState(null),p=b.useRef(null),g=b.useMemo(()=>r?e.isAI?AC(e.hand,c):IC(e.hand,c):e.hand,[e.hand,e.isAI,c,r]);return l.jsxs("div",{className:"ph-wrapper","data-position":t,"data-hovering":d!==null,ref:p,children:[l.jsx("div",{className:"ph-container",children:g.map((v,S)=>{const x=a.some(N=>N.id===v.id),m=(o==null?void 0:o.id)===v.id,y=c===v.suit,w=u===v.id,T={"--card-index":S};return l.jsx("div",{className:`ph-card-slot ${m?"ph-selected":""} ${w?"ph-hovered":""}`,style:T,onMouseEnter:()=>{r&&(f(v.id),h(S))},onMouseLeave:()=>{r&&(f(null),h(null))},children:l.jsx(ri,{card:v,isValid:r&&x,isSelected:m,isTrump:y,teamId:e.teamId,onClick:r?()=>{s&&s(v),x&&i&&i(v)}:void 0,isDraggable:r&&x,size:"responsive",faceDown:!r,className:`${!r&&t!=="south"?"back-design":""} card-position-${t}`})},v.id)})}),!r&&e.hand.length>0&&l.jsx("div",{className:"absolute top-2 right-2 bg-slate-800/90 text-white px-2 py-1 rounded-full text-sm font-bold",children:e.hand.length})]})},MC=b.memo(OC,(e,t)=>{var s,i,o,a;const n=e.player.hand.length===t.player.hand.length&&e.player.hand.every((c,u)=>{var f;return c.id===((f=t.player.hand[u])==null?void 0:f.id)}),r=((s=e.validMoves)==null?void 0:s.length)===((i=t.validMoves)==null?void 0:i.length)&&(e.validMoves||[]).every((c,u)=>{var f,d;return(c==null?void 0:c.id)===((d=(f=t.validMoves)==null?void 0:f[u])==null?void 0:d.id)});return e.player.id===t.player.id&&e.player.name===t.player.name&&e.player.isAI===t.player.isAI&&e.player.teamId===t.player.teamId&&n&&e.position===t.position&&e.isCurrentPlayer===t.isCurrentPlayer&&e.showCards===t.showCards&&((o=e.selectedCard)==null?void 0:o.id)===((a=t.selectedCard)==null?void 0:a.id)&&r&&e.trumpSuit===t.trumpSuit}),RC=({currentTrick:e,isDropActive:t,trickWinner:n})=>{const r=O(a=>{var c;return((c=a.game.settings)==null?void 0:c.cardSize)||"medium"}),s=a=>{switch(a){case"north":return{x:0,y:-200};case"south":return{x:0,y:200};case"east":return{x:200,y:0};case"west":return{x:-200,y:0};default:return{x:0,y:0}}},i=()=>{switch(n){case"north":return{x:0,y:-300,rotate:180};case"south":return{x:0,y:300,rotate:0};case"east":return{x:300,y:0,rotate:-90};case"west":return{x:-300,y:0,rotate:90};default:return{x:0,y:0,rotate:0}}},o=a=>{const c=[{x:0,y:-60},{x:60,y:0},{x:0,y:60},{x:-60,y:0}],u={south:2,west:3,north:0,east:1},f=e[a];if(f){const d=u[f.player.position];return c[d]}return c[a]||{x:0,y:0}};return l.jsxs("div",{className:"relative w-48 h-48 flex items-center justify-center",children:[l.jsx(P.div,{className:`
          absolute inset-0 rounded-full border-4 border-dashed transition-all
          ${t?"border-green-400 bg-green-400/10 scale-110":"border-slate-600/30 scale-100"}
        `,animate:{scale:t?[1,1.1,1]:1},transition:{duration:.5,repeat:t?1/0:0}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-24 h-24 rounded-full bg-slate-700/20 backdrop-blur-sm"})}),l.jsx(Ce,{mode:"sync",children:e.map((a,c)=>{const u=o(c);return l.jsxs(P.div,{className:"absolute",initial:{scale:.8,rotate:0,...s(a.player.position),opacity:0},animate:{scale:1,rotate:0,x:u.x,y:u.y,opacity:1},exit:{scale:.5,...i(),opacity:0,transition:{duration:.8,ease:"easeInOut",delay:c*.05}},transition:{type:"spring",stiffness:200,damping:20,delay:c*.1,duration:.4},children:[l.jsx(ri,{card:a.card,size:r,className:"shadow-2xl"}),l.jsx("div",{className:"absolute -bottom-6 left-1/2 transform -translate-x-1/2",children:l.jsx("div",{className:"bg-slate-800/80 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:a.player.name})})]},`${a.card.id}-${c}`)})}),e.length===0&&t&&l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsx("p",{className:"text-green-400 font-medium",children:"Drop card here"})})]})},_C=({playerId:e,position:t})=>{const n=O(a=>a.game.players.find(c=>c.id===e)),r=O(a=>a.game.contract);if(!(n!=null&&n.hasBelote)||!r)return null;const s=a=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[a],i=a=>a===M.Hearts||a===M.Diamonds?"text-red-500":"text-gray-900",o={top:"top-0 left-1/2 transform -translate-x-1/2 -translate-y-full -mt-2",right:"right-0 top-1/2 transform translate-x-full -translate-y-1/2 ml-2",bottom:"bottom-0 left-1/2 transform -translate-x-1/2 translate-y-full mt-2",left:"left-0 top-1/2 transform -translate-x-full -translate-y-1/2 -ml-2"};return l.jsx(Ce,{children:l.jsx(P.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},className:`absolute ${o[t]} z-30`,children:l.jsx(P.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"bg-gradient-to-br from-yellow-400 to-yellow-600 rounded-full px-3 py-1 shadow-lg border-2 border-yellow-300",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("span",{className:"text-sm font-bold text-white",children:"Belote!"}),l.jsx("span",{className:`text-lg ${i(r.trump)}`,children:s(r.trump)})]})})})})},by={fixed:30,notification:80},LC=({children:e,position:t,offset:n={},responsive:r={},zIndex:s=by.fixed,className:i=""})=>{const o=()=>{const c={"top-left":"top-4 left-4","top-right":"top-4 right-4","bottom-left":"bottom-4 left-4","bottom-right":"bottom-4 right-4","top-center":"top-4 left-1/2 -translate-x-1/2","bottom-center":"bottom-4 left-1/2 -translate-x-1/2",center:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",custom:""};let u=`fixed ${c[t]}`;return Object.entries(r).forEach(([f,d])=>{d&&d.position&&(u+=` ${f}:${c[d.position]}`)}),u},a={zIndex:s,...n.x&&{marginLeft:n.x},...n.y&&{marginTop:n.y}};return l.jsx("div",{className:`${o()} ${i}`,style:a,children:e})},BC=({children:e,playerPosition:t,isHuman:n=!1,buttonType:r,show:s})=>{const o=n&&t==="south"?{declare:{position:"bottom-left",offset:{x:"10%",y:"-2rem"}},bid:{position:"bottom-center",offset:{y:"-2rem"}},action:{position:"bottom-right",offset:{x:"-10%",y:"-2rem"}}}[r]:{north:{position:"top-center",offset:{y:"8rem"}},east:{position:"custom",offset:{x:"-12rem"}},south:{position:"bottom-center",offset:{y:"-8rem"}},west:{position:"custom",offset:{x:"12rem"}}}[t]||{position:"center"};return l.jsx(Ce,{children:s&&l.jsx(LC,{position:o.position,offset:o.offset,responsive:{sm:n?{offset:{x:"5%"}}:void 0,lg:n?{offset:{x:"15%"}}:void 0},children:l.jsx(P.div,{initial:{opacity:0,scale:.8,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.8,y:20},transition:{type:"spring",damping:20,stiffness:300},children:e})})})},VC=({children:e,playerPosition:t,index:n=0})=>{const r=()=>{const i={north:{x:"50%",y:"25%"},east:{x:"75%",y:"50%"},south:{x:"50%",y:"75%"},west:{x:"25%",y:"50%"}}[t];return{position:"fixed",left:i.x,top:i.y,transform:"translate(-50%, -50%)",zIndex:by.notification+n}};return l.jsx("div",{style:r(),children:e})},FC=({playerId:e,position:t})=>{var T;const n=Zs(),r=O(N=>N.game.phase),s=O(N=>N.game.trickNumber),i=O(N=>N.game.currentPlayerIndex),o=O(N=>N.game.players),a=O(N=>N.game.declarations),c=O(N=>N.game.declarationTracking),u=o.find(N=>N.id===e),f=((T=o[i])==null?void 0:T.id)===e,d=!(u!=null&&u.isAI),h=a.filter(N=>N.player.id===e),p=(c==null?void 0:c[e])||{hasDeclared:!1,hasShown:!1,canShow:!1},[g,v]=b.useState(!1),[S,x]=b.useState(!1),m=h.length>0;b.useEffect(()=>{r===H.Playing&&f&&(s===1&&m&&!p.hasDeclared||s===2&&p.hasDeclared&&!p.hasShown&&p.canShow||s===3&&!p.hasShown&&p.canShow&&m)?v(!0):v(!1)},[r,s,f,m,p]);const y=()=>{n(Eg({playerId:e})),v(!1)},w=()=>{n(cc({playerId:e})),x(!0),v(!1),setTimeout(()=>{x(!1)},4e3)};return l.jsxs(l.Fragment,{children:[l.jsx(BC,{playerPosition:t,isHuman:d,buttonType:"declare",show:g,children:l.jsx("button",{className:`
            ${d?"px-8 py-4 text-lg":"px-4 py-2 text-base"}
            bg-gradient-to-r from-amber-600 to-amber-700 
            hover:from-amber-700 hover:to-amber-800 
            text-white font-bold rounded-xl shadow-2xl 
            transition-all transform hover:scale-105 active:scale-95
            touch-target
          `,onClick:s===1?y:w,children:s===1?"Declare!":s===3?"Show (Fallback)!":"Show!"})}),l.jsx(Ce,{children:S&&l.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 pointer-events-none",children:[l.jsx(P.div,{initial:{opacity:0},animate:{opacity:.7},exit:{opacity:0},className:"absolute inset-0 bg-black pointer-events-auto",onClick:()=>x(!1)}),l.jsx(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20,stiffness:300},className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsxs("div",{className:"bg-gradient-to-br from-slate-900 to-slate-800 rounded-2xl p-8 shadow-2xl pointer-events-auto max-w-2xl border border-amber-600/30",children:[l.jsxs("h3",{className:"text-2xl font-bold text-amber-300 mb-6 text-center",children:[u==null?void 0:u.name,"'s Declarations"]}),l.jsx("div",{className:"space-y-6",children:h.map((N,j)=>l.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:j*.1},className:"bg-slate-800/50 rounded-lg p-6 border border-slate-700/50",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("p",{className:"text-amber-300 font-bold text-lg",children:N.type}),l.jsxs("p",{className:"text-white font-bold text-xl bg-amber-600/20 px-4 py-1 rounded-full",children:[N.points," points"]})]}),l.jsx("div",{className:"flex justify-center space-x-3",children:N.cards.map((C,E)=>l.jsx(P.div,{initial:{rotateY:180,opacity:0},animate:{rotateY:0,opacity:1},transition:{delay:j*.1+E*.05},style:{transformStyle:"preserve-3d"},children:l.jsx(ri,{card:C,size:"medium",className:"shadow-xl"})},C.id))})]},j))}),l.jsx(P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center text-gray-400 mt-6 text-sm",children:"Cards will hide automatically in a few seconds"})]})})]})})]})},zC=({declarations:e,position:t,show:n,isHumanPlayer:r=!1})=>{const[s,i]=b.useState(!1);b.useEffect(()=>{if(n&&e.length>0){if(i(!0),!r){const a=setTimeout(()=>{i(!1)},3e3);return()=>clearTimeout(a)}}else n||i(!1)},[n,r,e.length]);const o=()=>{const a={position:"absolute",zIndex:25,pointerEvents:"none"};switch(t){case"south":return{...a,bottom:"calc(var(--card-height-responsive) * 2.5)",left:"45%",transform:"translateX(-50%)"};case"north":return{...a,top:"calc(var(--edge-gap) + var(--card-height-responsive) * 0.7)",left:"45%",transform:"translateX(-50%)"};case"east":return{...a,right:"calc(var(--card-width-responsive) * 1.8)",top:"50%",transform:"translateY(-50%)"};case"west":return{...a,left:"calc(var(--card-width-responsive) * 1.8)",top:"50%",transform:"translateY(-50%)"}}};return l.jsx(Ce,{mode:"wait",children:s&&e.length>0&&l.jsx(P.div,{initial:{opacity:0,scale:.6,filter:"blur(10px)"},animate:{opacity:1,scale:1,filter:"blur(0px)"},exit:{opacity:0,scale:.6,filter:"blur(10px)"},transition:{duration:.5,ease:[.23,1,.32,1]},style:o(),children:l.jsx("div",{className:"flex gap-2 items-center justify-center",children:e.map((a,c)=>l.jsxs(P.div,{className:"relative",initial:{opacity:0,rotateY:-90},animate:{opacity:1,rotateY:0},transition:{delay:c*.15,duration:.6,ease:[.4,0,.2,1]},children:[l.jsx("div",{className:"relative flex -space-x-10",children:a.cards.map((u,f)=>{const d=(f-(a.cards.length-1)/2)*5;return l.jsxs(P.div,{className:"relative",initial:{opacity:0,y:-30,rotateY:-180,scale:0},animate:{opacity:1,y:0,rotateY:0,scale:1,rotate:d},transition:{delay:c*.15+f*.08,duration:.5,ease:[.4,0,.2,1],scale:{type:"spring",stiffness:300,damping:20}},style:{zIndex:f,transformOrigin:"bottom center"},children:[l.jsx(P.div,{className:"absolute inset-0 rounded-lg",style:{background:"radial-gradient(circle at center, rgba(251, 191, 36, 0.3), transparent 70%)",filter:"blur(20px)"},animate:{opacity:[.3,.6,.3],scale:[1,1.2,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),l.jsx(ri,{card:u,size:"medium",style:"modern",onClick:()=>{},disabled:!0,className:"shadow-xl",style:{border:"2px solid rgba(251, 191, 36, 0.4)",borderRadius:"12px"}})]},`${c}-${f}`)})}),l.jsx(P.div,{className:"absolute -bottom-3 left-1/2 transform -translate-x-1/2",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:c*.15+.3,type:"spring",stiffness:400,damping:15},children:l.jsx("div",{className:"bg-slate-900/90 backdrop-blur-sm text-amber-400 font-bold px-3 py-1 rounded-full text-sm shadow-lg border border-amber-400/30",children:a.points})})]},c))})})})},$C=({announcements:e,isBiddingActive:t=!1})=>{const[n,r]=b.useState([]),[s,i]=b.useState({}),o=b.useRef(new Set);b.useEffect(()=>{e.forEach(d=>{if(o.current.has(d.id))return;o.current.add(d.id),r(p=>{const g=p.filter(S=>S.position!==d.position);return p.filter(S=>S.position===d.position).forEach(S=>{s[S.id]&&(clearTimeout(s[S.id]),delete s[S.id])}),[...g,d]});const h=setTimeout(()=>{r(p=>p.filter(g=>g.id!==d.id)),i(p=>{const g={...p};return delete g[d.id],g})},3500);i(p=>({...p,[d.id]:h}))})},[e]),b.useEffect(()=>()=>{Object.values(s).forEach(d=>clearTimeout(d))},[]);const a=d=>`announcement-position-${d}${t&&d==="south"?" bidding-active":""}`,c=(d,h)=>{const p={belote:{bg:"from-blue-500 via-blue-600 to-indigo-700",border:"border-blue-400",shadow:"0 0 30px rgba(59, 130, 246, 0.6)",scale:1.1},rebelote:{bg:"from-purple-500 via-purple-600 to-pink-600",border:"border-purple-400",shadow:"0 0 30px rgba(147, 51, 234, 0.6)",scale:1.1},declaration:{bg:h&&h>=150?"from-orange-500 via-red-500 to-pink-600":h&&h>=100?"from-amber-500 via-orange-500 to-red-500":h&&h>=50?"from-yellow-500 via-amber-500 to-orange-500":"from-emerald-500 via-green-500 to-teal-600",border:h&&h>=100?"border-orange-400":"border-emerald-400",shadow:h&&h>=100?"0 0 40px rgba(251, 146, 60, 0.7)":"0 0 25px rgba(16, 185, 129, 0.5)",scale:h&&h>=100?1.2:1},bid:{bg:"from-slate-600 via-slate-700 to-slate-800",border:"border-slate-500",shadow:"0 0 20px rgba(100, 116, 139, 0.5)",scale:1},pass:{bg:"from-gray-600 via-gray-700 to-gray-800",border:"border-gray-500",shadow:"0 0 15px rgba(107, 114, 128, 0.4)",scale:.9},double:{bg:"from-red-600 via-red-700 to-rose-800",border:"border-red-500",shadow:"0 0 35px rgba(239, 68, 68, 0.7)",scale:1.15},redouble:{bg:"from-purple-600 via-pink-600 to-rose-700",border:"border-purple-500",shadow:"0 0 40px rgba(168, 85, 247, 0.8)",scale:1.2}};return p[d]||p.bid},u=d=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[d],f=d=>d===M.Hearts||d===M.Diamonds?"text-red-400":"text-slate-900";return l.jsx("div",{className:`announcement-system pointer-events-none ${t?"bidding-active":""}`,children:l.jsx(Ce,{mode:"popLayout",children:n.map(d=>{const h=c(d.type,d.declarationValue),p=a(d.position),g=d.declarationValue&&d.declarationValue>=100||d.type==="belote"||d.type==="rebelote"||d.type==="double"||d.type==="redouble",S={north:{x:0,y:-30},south:{x:0,y:30},east:{x:30,y:0},west:{x:-30,y:0}}[d.position];return l.jsx(P.div,{className:`announcement-container ${p}`,style:{zIndex:100},initial:{opacity:0,scale:0,x:S.x,y:S.y,filter:"blur(10px)"},animate:{opacity:1,scale:h.scale,x:0,y:0,filter:"blur(0px)",rotate:g?[0,-3,3,-1,1,0]:0},exit:{opacity:0,scale:.3,x:S.x,y:S.y,rotate:d.position==="north"||d.position==="south"?15:-15,filter:"blur(10px)"},transition:{type:"spring",stiffness:500,damping:25,mass:.5,rotate:{duration:.6,ease:[.23,1,.32,1]}},children:l.jsxs("div",{className:`
                  announcement-card rounded-3xl
                  bg-gradient-to-br ${h.bg}
                  border-2 ${h.border}
                  backdrop-blur-xl
                `,style:{boxShadow:`${h.shadow}, inset 0 1px 1px rgba(255,255,255,0.1)`,minWidth:"var(--announcement-min-width)",padding:"var(--announcement-padding-y) var(--announcement-padding-x)",background:`linear-gradient(135deg, rgba(255,255,255,0.1) 0%, transparent 50%), ${h.bg}`},children:[l.jsx(P.div,{className:"absolute inset-0 rounded-3xl",style:{background:`radial-gradient(circle at center, ${d.type==="declaration"&&d.declarationValue&&d.declarationValue>=150?"rgba(251, 146, 60, 0.3)":d.type==="belote"?"rgba(59, 130, 246, 0.3)":d.type==="rebelote"?"rgba(147, 51, 234, 0.3)":"transparent"}, transparent 70%)`,filter:"blur(20px)"},animate:g?{opacity:[.5,1,.5]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),l.jsx(P.div,{className:"text-center relative z-10",animate:g?{scale:[1,1.08,1],y:[0,-2,0]}:{scale:[1,1.02,1]},transition:{duration:g?1.2:2,repeat:1/0,ease:[.4,0,.6,1]},children:l.jsxs("div",{className:"font-bold text-white drop-shadow-lg",style:{fontSize:d.type==="declaration"?"calc(var(--announcement-font-size) * 1.5)":"var(--announcement-font-size)",textShadow:g?"0 0 20px rgba(255,255,255,0.5)":"0 2px 4px rgba(0,0,0,0.3)"},children:[d.message,d.trumpSuit&&d.type==="bid"&&l.jsx(P.span,{className:`ml-3 ${f(d.trumpSuit)}`,style:{fontSize:"var(--announcement-suit-size)",display:"inline-block"},animate:{rotate:[0,360]},transition:{duration:20,repeat:1/0,ease:"linear"},children:u(d.trumpSuit)})]})}),g&&l.jsxs("div",{className:"absolute inset-0 pointer-events-none overflow-hidden rounded-3xl",children:[[...Array(8)].map((x,m)=>l.jsx(P.div,{className:"absolute",style:{left:`${10+m*10}%`,top:"50%",width:"3px",height:"3px",borderRadius:"50%",background:"radial-gradient(circle, white 0%, transparent 70%)"},animate:{y:[0,-40,40,0],x:[0,m%2===0?10:-10,m%2===0?-10:10,0],opacity:[0,1,1,0],scale:[0,1.5,1.5,0]},transition:{duration:2.5,delay:m*.15,repeat:1/0,ease:[.4,0,.2,1]}},m)),l.jsx(P.div,{className:"absolute inset-0",style:{background:"linear-gradient(105deg, transparent 40%, rgba(255,255,255,0.3) 50%, transparent 60%)",transform:"skewX(-25deg)"},animate:{x:["-200%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear",repeatDelay:1}}),l.jsx(P.div,{className:"absolute inset-0 rounded-3xl",style:{border:"1px solid",borderColor:d.type==="belote"?"rgba(59, 130, 246, 0.5)":d.type==="rebelote"?"rgba(147, 51, 234, 0.5)":"rgba(251, 146, 60, 0.5)"},animate:{opacity:[.3,1,.3]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"}})]}),!g&&l.jsx(P.div,{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(135deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%)",transform:"scale(1.1)"},animate:{opacity:[0,.5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"}})]})},`${d.position}-${d.id}`)})})})},HC=e=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[e],UC=({tricks:e,teamId:t,onClose:n,currentTrickNumber:r,isLastTrickPile:s=!1})=>{var f;const i=e.length>0?e[e.length-1]:null;if(At.useEffect(()=>{i||n()},[i,n]),!i)return null;const o=e.reduce((d,h)=>d+h.points,0);(f=i.cards[0])==null||f.player;const a=i.cards.find(d=>!d.player.isAI),c=a==null?void 0:a.player,u=d=>{var p;if(d.player.id===(c==null?void 0:c.id))return"bottom";if(c){const g=c.teamId;if(d.player.teamId===g)return"top";const S=c.position,x=d.player.position;return((p={south:{north:"top",east:"right",west:"left"},north:{south:"top",west:"right",east:"left"},east:{west:"top",south:"right",north:"left"},west:{east:"top",north:"right",south:"left"}}[S])==null?void 0:p[x])||"top"}const h=d.player.position;return h==="south"?"bottom":h==="north"?"top":h==="east"?"right":"left"};return l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"tpv-overlay",onClick:n,children:l.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},className:"tpv-modal",onClick:d=>d.stopPropagation(),children:[l.jsxs("div",{className:"tpv-header",children:[l.jsxs("div",{className:"tpv-title",children:[l.jsxs("span",{className:`tpv-team-indicator ${t==="A"?"team-a":"team-b"}`,children:["Team ",t]}),l.jsxs("span",{className:"tpv-points",children:[i.points," pts"]}),l.jsxs("span",{className:"tpv-total",children:["Total: ",o]})]}),l.jsx("button",{onClick:n,className:"tpv-close","aria-label":"Close",children:l.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",stroke:"currentColor",strokeWidth:"2",children:l.jsx("path",{d:"M15 5L5 15M5 5l10 10"})})})]}),l.jsx("div",{className:"tpv-body",children:l.jsxs("div",{className:"tpv-cross-container",children:[l.jsxs("div",{className:"tpv-table-center",children:[l.jsx("div",{className:"tpv-table-circle"}),l.jsx("div",{className:"tpv-center-info",children:l.jsx("span",{className:`tpv-suit ${i.leadSuit===M.Hearts||i.leadSuit===M.Diamonds?"red":"black"}`,children:HC(i.leadSuit)})})]}),i.cards.map((d,h)=>{var v;const p=d.player.id===((v=i.winner)==null?void 0:v.id),g=u(d);return l.jsx(P.div,{className:`tpv-card-position tpv-${g}`,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:h*.08,type:"spring",damping:20,stiffness:300},children:l.jsxs("div",{className:`tpv-card-container ${p?"winner":""}`,children:[l.jsx("div",{className:"tpv-play-order",children:h+1}),p&&l.jsx(P.div,{className:"tpv-winner-glow",animate:{opacity:[.4,.7,.4]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}}),l.jsx("div",{className:"tpv-card",children:l.jsx(ri,{card:d.card,faceDown:!1,size:"medium"})}),p&&l.jsx(P.div,{className:"tpv-winner-indicator",initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",damping:15},children:"W"})]})},d.player.id)})]})})]})})},ep=({tricks:e,teamId:t,position:n,currentTrickNumber:r,isLastTrickPile:s=!1})=>{const[i,o]=b.useState(!1),a=Nu(h=>h.game.settings),c=(a==null?void 0:a.cardSize)||"medium",u=(a==null?void 0:a.showTrickPilePoints)||!1;if(e.length===0)return null;const f={small:"w-16 h-24",medium:"w-20 h-28",large:"w-24 h-32",xlarge:"w-32 h-44"},d={small:"w-6 h-6 text-xs",medium:"w-8 h-8 text-sm",large:"w-10 h-10 text-base",xlarge:"w-12 h-12 text-lg"};return l.jsxs(l.Fragment,{children:[l.jsxs(P.div,{className:"relative cursor-pointer z-10",initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},onClick:()=>o(!0),children:[l.jsxs("div",{className:`relative ${f[c]}`,children:[e.slice(0,Math.min(3,e.length)).map((h,p)=>l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-slate-700 to-slate-800 rounded-lg shadow-lg",style:{transform:`translateY(${p*2}px) translateX(${p*1}px)`,zIndex:-p}},p)),l.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-900 to-red-900 rounded-lg shadow-xl overflow-hidden",style:{transform:n==="east"?"rotate(-90deg)":n==="west"?"rotate(90deg)":n==="north"?"rotate(180deg)":""},children:[l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"text-white/20 text-6xl font-bold transform rotate-12",children:"♠"})}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),l.jsx(P.div,{className:`absolute -top-2 -right-2 ${d[c]} ${t==="A"?"bg-blue-500":"bg-red-500"} rounded-full flex items-center justify-center shadow-lg`,initial:{scale:0},animate:{scale:1},transition:{delay:.2},children:l.jsx("span",{className:"text-white font-bold",children:e.length})}),u&&l.jsxs("div",{className:`absolute -bottom-2 left-1/2 -translate-x-1/2 ${t==="A"?"bg-blue-600":"bg-red-600"} text-white text-xs px-2 py-1 rounded-full shadow-md`,children:[e.reduce((h,p)=>h+p.points,0)," pts"]})]}),s&&l.jsx(P.div,{className:"absolute -top-4 -right-4 bg-yellow-500 text-black text-xs font-bold px-2 py-1 rounded-full shadow-lg",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:30},children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:l.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})}),"PREVIOUS"]})}),l.jsx(P.div,{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 whitespace-nowrap",initial:{opacity:0,y:-10},whileHover:{opacity:1,y:0},children:l.jsx("div",{className:"bg-black/80 text-white text-xs px-2 py-1 rounded",children:s?"Click to view previous trick":"Click to view last trick won"})})]}),l.jsx(Ce,{children:i&&l.jsx(UC,{tricks:e,teamId:t,onClose:()=>o(!1),currentTrickNumber:r,isLastTrickPile:s})})]})},WC=()=>{const e=O(d=>d.game.phase),t=O(d=>d.game.contract);O(d=>d.game.biddingHistory);const n=O(d=>d.game.trumpSuit),[r,s]=b.useState(null),[i,o]=b.useState(!1);b.useEffect(()=>{t&&r&&(t.value!==r.value||t.trump!==r.trump)&&(o(!0),setTimeout(()=>o(!1),600)),s(t?{...t}:null)},[t]);const a=()=>e===H.Bidding&&t?t:null,c=d=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[d],u=d=>d===M.Hearts||d===M.Diamonds?"text-red-500":"text-gray-900",f=a();return e===H.Dealing||!f&&!n?null:l.jsx("div",{className:"absolute top-4 right-4 z-20",children:l.jsx(Ce,{mode:"wait",children:l.jsxs(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"relative",children:[l.jsxs("div",{className:"bg-gradient-to-br from-amber-900/90 to-amber-800/90 backdrop-blur-md rounded-2xl shadow-2xl p-6 min-w-[160px]",children:[l.jsx("div",{className:"text-amber-100 text-sm font-semibold mb-2 text-center",children:e===H.Bidding?"Current Bid":"Contract"}),l.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[l.jsx("div",{className:"text-white text-4xl font-bold",children:(f==null?void 0:f.value)||(t==null?void 0:t.value)}),l.jsx("div",{className:`text-5xl ${u((f==null?void 0:f.trump)||n)}`,children:c((f==null?void 0:f.trump)||n)})]}),((f==null?void 0:f.doubled)||(t==null?void 0:t.doubled))&&l.jsx("div",{className:"mt-2 text-center",children:f!=null&&f.redoubled||t!=null&&t.redoubled?l.jsx("span",{className:"text-purple-400 text-lg font-bold animate-pulse",children:"REDOUBLED (×4)"}):l.jsx("span",{className:"text-red-400 text-lg font-bold animate-pulse",children:"DOUBLED (×2)"})}),e!==H.Bidding&&t&&l.jsx("div",{className:"mt-3 pt-3 border-t border-amber-700/50",children:l.jsxs("div",{className:"text-amber-200 text-xs text-center",children:["by ",t.bidder.name]})})]}),l.jsx(Ce,{children:i&&l.jsxs(P.div,{initial:{scale:.5,opacity:0},animate:{scale:1.5,opacity:1},exit:{scale:2,opacity:0},transition:{duration:.6},className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"relative w-full h-full",children:[...Array(8)].map((d,h)=>l.jsx(P.div,{initial:{x:0,y:0,rotate:0},animate:{x:(Math.random()-.5)*200,y:(Math.random()-.5)*200,rotate:Math.random()*360,opacity:0},transition:{duration:.6,ease:"easeOut"},className:"absolute inset-0",children:l.jsx("div",{className:"absolute bg-gradient-to-br from-amber-400/30 to-amber-600/30 backdrop-blur-sm",style:{width:"40%",height:"40%",top:`${h%3*33}%`,left:`${Math.floor(h/3)*33}%`,clipPath:"polygon(20% 0%, 80% 0%, 100% 100%, 0% 100%)",transform:`rotate(${h*45}deg)`}})},h))}),l.jsx(P.div,{initial:{scale:0},animate:{scale:3},transition:{duration:.4},className:"absolute inset-0 flex items-center justify-center",children:l.jsx("div",{className:"w-20 h-20 bg-gradient-radial from-amber-300/40 to-transparent rounded-full blur-xl"})})]})})]},`${f==null?void 0:f.value}-${(f==null?void 0:f.trump)||n}`)})})},GC=()=>{var et;const e=Zs(),t=O(k=>k.game.players);O(k=>k.game.players.find(G=>!G.isAI)),O(k=>k.game.players[k.game.currentPlayerIndex]);const n=O(k=>{var G;return!((G=k.game.players[k.game.currentPlayerIndex])!=null&&G.isAI)}),r=O(k=>k.game.validMoves),s=O(k=>k.game.currentPlayerIndex),i=O(k=>k.game.phase),o=O(k=>k.game.trumpSuit),a=O(k=>k.game.currentTrick),c=O(k=>k.game.selectedCard),u=O(k=>k.game.declarations),f=O(k=>k.game.declarationTracking),d=O(k=>k.game.completedTricks),h=O(k=>k.game.teams),p=O(k=>k.game.trickNumber),g=O(k=>k.game.earlyTermination),v=O(k=>k.game.biddingHistory),S=O(k=>k.game.settings),x=O(k=>k.game.notifications||[]),[m,y]=b.useState({}),[w,T]=b.useState({}),[N,j]=b.useState(void 0),[C,E]=b.useState({}),[_,q]=b.useState([]),Q=At.useMemo(()=>({north:t.find(G=>G.position==="north"),east:t.find(G=>G.position==="east"),south:t.find(G=>G.position==="south"),west:t.find(G=>G.position==="west")}),[t]),{north:U,east:se,south:we,west:X}=Q;b.useEffect(()=>{if(v.length>0&&i===H.Bidding){const k=v[v.length-1];y(ee=>({...ee,[k.player.id]:k})),T(ee=>({...ee,[k.player.id]:!0}));const G={id:Bt(),type:k.bid==="pass"?"pass":k.bid==="double"?"double":k.bid==="redouble"?"redouble":"bid",message:k.bid==="pass"?"PASS":k.bid==="double"?"DOUBLE ×2":k.bid==="redouble"?"REDOUBLE ×4":String(k.bid),position:k.player.position,trumpSuit:k.trump,timestamp:Date.now()};q(ee=>[...ee,G]);const ie=setTimeout(()=>{T(ee=>({...ee,[k.player.id]:!1}))},3e3);return()=>clearTimeout(ie)}},[v,i]),b.useEffect(()=>{i!==H.Bidding&&(y({}),T({}))},[i]);const[be,I]=b.useState(new Set);b.useEffect(()=>{if(x.length>0){const k=x[x.length-1];if(be.has(k.timestamp))return;const G=t.find(ie=>ie.name===k.player);if(G&&(k.type==="belote"||k.type==="rebelote")){const ie={id:Bt(),type:k.type,message:k.message,position:G.position,trumpSuit:o||void 0,timestamp:k.timestamp};q(ee=>[...ee,ie]),I(ee=>new Set([...ee,k.timestamp]))}}},[x,t,o,be]);const[B,z]=b.useState(new Set);b.useEffect(()=>{!f||i!==H.Playing||p!==1||Object.entries(f).forEach(([k,G])=>{if(G.hasDeclared&&!B.has(k)){const ie=t.find(ut=>ut.id===k),ee=u.filter(ut=>ut.player.id===k);if(ie&&ee.length>0){const ut=ee.reduce(($r,Ty)=>$r+Ty.points,0),en={id:Bt(),type:"declaration",message:`${ut}`,position:ie.position,declarationValue:ut,timestamp:Date.now()};q($r=>[...$r,en]),z($r=>new Set([...$r,k]))}}})},[f,t,u,B,i,p]),b.useEffect(()=>{i===H.Playing&&p===2&&Object.entries(f).forEach(([k,G])=>{G.hasDeclared&&!C[k]&&E(ie=>({...ie,[k]:2}))})},[i,p,f,C]);const V=At.useCallback(k=>{n&&i===H.Playing&&((c==null?void 0:c.id)===k.id?e(Df(null)):e(Df(k)))},[n,i,c,e]),L=At.useCallback(async k=>{n&&i===H.Playing&&r.some(G=>G.id===k.id)&&await Ee.playCard(k)},[n,i,r]);b.useEffect(()=>{if(a.length===4){const k=a[0].card.suit;let G=0,ie=0;a.forEach((ee,ut)=>{let en=0;ee.card.suit===o?en=100+Z(ee.card.rank,!0):ee.card.suit===k&&(en=Z(ee.card.rank,!1)),en>ie&&(ie=en,G=ut)}),j(a[G].player.position)}else j(void 0)},[a,o]);const Z=(k,G)=>G?{J:20,9:14,A:11,10:10,K:4,Q:3,8:0,7:0}[k]||0:{A:11,10:10,K:4,Q:3,J:2,9:0,8:0,7:0}[k]||0;b.useEffect(()=>{Object.entries(f||{}).forEach(([k,G])=>{G.hasShown&&!C[k]&&E(ie=>({...ie,[k]:p}))})},[f,p,C]);const F=(k,G)=>{var ut;if(!k)return null;const ie=!k.isAI;m[k.id];const ee=u.filter(en=>en.player.id===k.id);return l.jsxs(TC,{player:k,position:G,children:[l.jsx(MC,{player:k,position:G,isCurrentPlayer:s===t.indexOf(k),showCards:ie,onCardClick:ie?V:void 0,onCardPlay:ie?L:void 0,selectedCard:c,validMoves:r,trumpSuit:o}),l.jsx(_C,{playerId:k.id,position:G}),l.jsx(FC,{playerId:k.id,position:G}),l.jsx(zC,{declarations:ee,position:G,show:i===H.Playing&&p===2&&((ut=f==null?void 0:f[k.id])==null?void 0:ut.hasShown)===!0&&ee.length>0,isHumanPlayer:ie})]})},J=l.jsx(l.Fragment,{children:l.jsx(RC,{currentTrick:a,isDropActive:!1,trickWinner:N})}),te=l.jsxs(l.Fragment,{children:[l.jsx($C,{announcements:_,isBiddingActive:i===H.Bidding&&n}),l.jsx(WC,{}),h.B.wonTricks.length>0&&l.jsx("div",{className:"absolute top-4 left-4 z-10",children:l.jsx(ep,{tricks:h.B.wonTricks,teamId:"B",position:"north",currentTrickNumber:p,isLastTrickPile:d.length>0&&d[d.length-1].winner.teamId==="B"})}),h.A.wonTricks.length>0&&l.jsx("div",{className:"absolute bottom-4 right-4 z-10",children:l.jsx(ep,{tricks:h.A.wonTricks,teamId:"A",position:"south",currentTrickNumber:p,isLastTrickPile:d.length>0&&d[d.length-1].winner.teamId==="A"})}),l.jsx(Ce,{children:g&&((et=S==null?void 0:S.animations)==null?void 0:et.cardAnimations)&&l.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 flex items-center justify-center z-50 pointer-events-none",children:[l.jsx(P.div,{initial:{opacity:0},animate:{opacity:.8},className:"absolute inset-0 bg-black"}),l.jsx(P.div,{className:"relative z-10",children:l.jsxs(P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1,duration:.5},className:"bg-red-600/90 text-white px-8 py-4 rounded-xl shadow-2xl",children:[l.jsx("h2",{className:"text-3xl font-bold",children:"Round Over!"}),l.jsx("p",{className:"text-lg mt-2",children:"Contract cannot be made"})]})})]})})]});return l.jsx(SC,{northPlayer:F(U,"north"),eastPlayer:F(se,"east"),southPlayer:F(we,"south"),westPlayer:F(X,"west"),centerContent:J,overlays:te})},KC=()=>{const[e,t]=At.useState(151),[n,r]=At.useState("normal"),[s,i]=At.useState(!1),o=()=>{const a={easy:[ne.Conservative,ne.Conservative,ne.Conservative],normal:[ne.Balanced,ne.Conservative,ne.Aggressive],hard:[ne.Adaptive,ne.Balanced,ne.Adaptive]},u=Ee.getGameState().players.filter(d=>d.isAI),f=a[n];u.forEach((d,h)=>{Ee.setAIPersonality(d.id,f[h])}),Ee.enableAdvancedAI(n==="hard"||s),Ee.startNewGame(e)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:l.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl max-w-md w-full mx-4",children:[l.jsx("h1",{className:"text-4xl font-bold text-center mb-2 text-white",children:"Pilotta"}),l.jsx("p",{className:"text-center text-slate-400 mb-8",children:"The Classic Cypriot Card Game"}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Target Score"}),l.jsxs("select",{value:e,onChange:a=>t(Number(a.target.value)),className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:151,children:"151 Points (Standard)"}),l.jsx("option",{value:101,children:"101 Points (Quick)"}),l.jsx("option",{value:201,children:"201 Points (Long)"})]}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Round points are divided by 10 and rounded up"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"AI Difficulty"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["easy","normal","hard"].map(a=>l.jsx("button",{onClick:()=>r(a),className:`px-4 py-2 rounded-lg font-medium transition-all ${n===a?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:a.charAt(0).toUpperCase()+a.slice(1)},a))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{htmlFor:"mcts-toggle",className:"text-sm font-medium text-slate-300",children:"Enable Advanced AI (MCTS)"}),l.jsx("button",{id:"mcts-toggle",onClick:()=>i(!s),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${s?"bg-blue-600":"bg-slate-600"}`,children:l.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${s?"translate-x-6":"translate-x-1"}`})})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4 text-sm text-slate-300",children:[n==="easy"&&l.jsx("p",{children:"AI players make conservative bids and basic plays. Good for beginners."}),n==="normal"&&l.jsx("p",{children:"AI players use mixed strategies and make reasonable decisions."}),n==="hard"&&l.jsx("p",{children:"AI players adapt to your play style and use advanced strategies."})]}),l.jsx("button",{onClick:o,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg shadow-lg transform transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Start Game"})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{className:"text-sm text-blue-400 hover:text-blue-300 underline",children:"How to Play"})})]})})},QC=()=>{const e=O(c=>c.game.teams),t=O(c=>c.game.targetScore),n=e.A.score>=t?"A":"B",r=e[n].score,s=e[n==="A"?"B":"A"].score,i=n==="A",o=()=>{Ee.startNewGame(t)},a=()=>{window.location.reload()};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:l.jsx("div",{className:"bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 shadow-2xl max-w-md w-full mx-4",children:l.jsxs("div",{className:"text-center",children:[l.jsxs("div",{className:`mb-6 ${i?"text-green-400":"text-red-400"}`,children:[l.jsx("div",{className:"text-6xl mb-2",children:i?"🏆":"😔"}),l.jsx("h1",{className:"text-4xl font-bold",children:i?"Victory!":"Defeat"})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-6 mb-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4 text-slate-300",children:"Final Score"}),l.jsxs("div",{className:"flex justify-between items-center mb-4",children:[l.jsxs("div",{className:`text-lg ${n==="A"?"text-green-400":"text-slate-400"}`,children:[l.jsx("p",{className:"font-medium",children:"Team A (You & Partner)"}),l.jsx("p",{className:"text-3xl font-bold",children:e.A.score})]}),l.jsx("div",{className:"text-slate-500 text-2xl",children:"vs"}),l.jsxs("div",{className:`text-lg text-right ${n==="B"?"text-green-400":"text-slate-400"}`,children:[l.jsx("p",{className:"font-medium",children:"Team B (Opponents)"}),l.jsx("p",{className:"text-3xl font-bold",children:e.B.score})]})]}),l.jsxs("div",{className:"text-sm text-slate-400 pt-4 border-t border-slate-600",children:[l.jsxs("p",{children:["Target Score: ",t]}),l.jsxs("p",{children:["Score Difference: ",Math.abs(r-s)," points"]})]})]}),l.jsx("div",{className:"text-slate-300 mb-6",children:i?l.jsx("p",{children:"Congratulations! You and your partner played brilliantly!"}):l.jsx("p",{children:"Better luck next time! Keep practicing to improve your strategy."})}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:o,className:"w-full py-3 px-4 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white font-semibold rounded-lg shadow-lg transform transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Play Again"}),l.jsx("button",{onClick:a,className:"w-full py-3 px-4 bg-slate-700 hover:bg-slate-600 text-white font-semibold rounded-lg shadow-lg transition-all focus:outline-none focus:ring-2 focus:ring-slate-500",children:"Back to Menu"})]})]})})})},YC=()=>{const e=O(a=>a.game.teams),t=O(a=>a.game.round),n=O(a=>a.game.targetScore),r=O(a=>a.game.contract),s=O(a=>a.game.trumpSuit),i=a=>({hearts:"♥",diamonds:"♦",clubs:"♣",spades:"♠"})[a]||"",o=a=>a==="hearts"||a==="diamonds"?"text-red-500":"text-slate-900";return l.jsxs("div",{id:"score",className:"flex items-center justify-between w-full max-w-6xl mx-auto",children:[l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Team A"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.A.score}),e.A.roundScore>0&&l.jsxs("p",{className:"text-sm text-green-400",children:["+",e.A.roundScore]})]})}),l.jsxs("div",{className:"flex items-center space-x-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Round"}),l.jsx("p",{className:"text-xl font-semibold text-white",children:t})]}),r&&l.jsxs("div",{className:"text-center bg-slate-800/50 px-4 py-2 rounded-lg",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Contract"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("p",{className:"text-lg font-semibold text-white",children:r.value}),s&&l.jsx("span",{className:`text-2xl ${o(s)}`,children:i(s)}),r.doubled&&!r.redoubled&&l.jsx("span",{className:"text-xs bg-orange-500 text-white px-1 rounded",children:"2x"}),r.redoubled&&l.jsx("span",{className:"text-xs bg-red-500 text-white px-1 rounded",children:"4x"})]}),l.jsxs("p",{className:"text-xs text-slate-500",children:["by Team ",r.team]})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Target"}),l.jsx("p",{className:"text-xl font-semibold text-white",children:n})]})]}),l.jsx("div",{className:"flex items-center space-x-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-xs text-slate-400 uppercase tracking-wide",children:"Team B"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:e.B.score}),e.B.roundScore>0&&l.jsxs("p",{className:"text-sm text-green-400",children:["+",e.B.roundScore]})]})})]})},XC=({biddingHistory:e,players:t,humanPlayerId:n,dealerIndex:r,getSuitColor:s,getSuitSymbol:i})=>{const a=(()=>{const f=[];for(let d=1;d<=4;d++)f.push(t[(r+d)%4]);return f})(),c=[];let u=[];return e.forEach((f,d)=>{u.push(f),(u.length===4||d===e.length-1)&&(c.push([...u]),u=[])}),l.jsx("div",{className:"bg-slate-900/50 rounded-xl p-6 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-base",children:[l.jsx("thead",{children:l.jsx("tr",{className:"border-b border-slate-700/50",children:a.map(f=>l.jsx("th",{className:`px-3 py-3 text-center font-semibold text-lg ${f.id===n?"text-blue-400 bg-blue-600/10 rounded-t-lg":"text-slate-400"}`,children:f.name},f.id))})}),l.jsx("tbody",{children:c.map((f,d)=>l.jsx("tr",{className:"border-b border-slate-800/50",children:a.map(h=>{const p=f.find(g=>g.player.id===h.id);return l.jsx("td",{className:`px-3 py-4 text-center ${h.id===n?"bg-blue-600/5":""}`,children:p?p.bid==="pass"?l.jsx("span",{className:"inline-block px-4 py-1 rounded-full bg-slate-600 text-slate-300 text-lg",children:"Pass"}):p.bid==="double"?l.jsx("span",{className:"inline-block px-4 py-1 rounded-full bg-red-900/30 text-red-400 font-bold text-lg",children:"×2"}):p.bid==="redouble"?l.jsx("span",{className:"inline-block px-4 py-1 rounded-full bg-purple-900/30 text-purple-400 font-bold text-lg",children:"×4"}):l.jsxs("div",{className:"inline-flex items-center justify-center space-x-1 px-4 py-1 rounded-full bg-slate-600",children:[l.jsx("span",{className:"text-white font-bold text-xl",children:p.bid}),l.jsx("span",{className:`${s(p.trump)} text-2xl`,children:i(p.trump)})]}):l.jsx("span",{className:"text-slate-700 text-lg",children:"-"})},h.id)})},d))})]})})},qC=()=>{const e=O(L=>L.game.players[L.game.currentPlayerIndex]),t=O(L=>L.game.contract),n=O(L=>L.game.biddingHistory),r=O(L=>L.game.players.find(Z=>!Z.isAI)),s=O(L=>L.game.players),i=O(L=>L.game.dealerIndex),o=!(e!=null&&e.isAI),a=b.useRef(null),c=t&&r&&t.team===r.teamId,u=Ee.getMinimumBid(),f=490,[d,h]=b.useState(u),[p,g]=b.useState(null),[v,S]=b.useState("bid"),[x,m]=b.useState(!1),[y,w]=b.useState(!1),T=b.useRef(null),N=b.useRef(null),j=b.useRef(null),C=b.useRef(null);b.useEffect(()=>{h(u)},[u]);const E=t&&!t.doubled&&(r==null?void 0:r.teamId)!==t.team&&o,_=t&&t.doubled&&!t.redoubled&&(r==null?void 0:r.teamId)===t.team&&o,q=(t==null?void 0:t.doubled)||!1;b.useEffect(()=>()=>{T.current&&clearInterval(T.current),N.current&&clearTimeout(N.current),j.current&&clearInterval(j.current),C.current&&clearTimeout(C.current)},[]);const Q=()=>{m(!0);const L=Math.min(f,d+10);h(L),N.current=setTimeout(()=>{let Z=100;T.current=setInterval(()=>{h(F=>{const J=Z<50?50:Z<20?20:10,te=Math.min(f,F+J);return te===f&&U(),te}),Z=Math.max(20,Z*.9)},Z)},300)},U=()=>{m(!1),T.current&&(clearInterval(T.current),T.current=null),N.current&&(clearTimeout(N.current),N.current=null)},se=()=>{w(!0);const L=Math.max(u,d-10);h(L),C.current=setTimeout(()=>{let Z=100;j.current=setInterval(()=>{h(F=>{const J=Z<50?50:Z<20?20:10,te=Math.max(u,F-J);return te===u&&we(),te}),Z=Math.max(20,Z*.9)},Z)},300)},we=()=>{w(!1),j.current&&(clearInterval(j.current),j.current=null),C.current&&(clearTimeout(C.current),C.current=null)},X=async()=>{o&&d&&p&&await Ee.makeBid(d,p)},be=async()=>{o&&await Ee.makeBid("pass")},I=async()=>{E&&await Ee.doubleBid()},B=async()=>{_&&await Ee.redoubleBid()},z=L=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[L],V=L=>L===M.Hearts||L===M.Diamonds?"text-red-500":"text-gray-900";return o?l.jsxs(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 flex items-center justify-center z-50",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40 pointer-events-auto"}),l.jsx("div",{ref:a,className:"relative bg-slate-800/75 backdrop-blur-xl rounded-2xl p-6 sm:p-8 shadow-2xl pointer-events-auto mx-4 bidding-container",children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`flex-grow flex-shrink-0 w-2/3 ${v==="trump"?"ring-2 ring-blue-500 rounded-lg p-4":"p-4"}`,children:l.jsx("div",{className:"flex justify-start space-x-6",children:Object.values(M).map(L=>l.jsxs(P.button,{whileHover:{scale:1.05,rotateY:15,z:50},whileTap:{scale:.95,rotateY:0},onClick:()=>{g(L)},style:{transformStyle:"preserve-3d"},className:`
                      relative px-6 py-4 sm:px-7 sm:py-5 rounded-xl transition-all duration-300 touch-target transform perspective-1000
                      ${p===L?"bg-gradient-to-br from-blue-500/90 to-blue-600/90 shadow-2xl":"bg-gradient-to-br from-slate-700/90 to-slate-800/90 hover:from-slate-600/90 hover:to-slate-700/90 shadow-lg hover:shadow-xl"}
                      border border-slate-500/30 backdrop-blur-sm overflow-hidden group suit-card-button
                    `,children:[p===L&&l.jsxs(l.Fragment,{children:[l.jsx(P.div,{className:"absolute inset-0 opacity-30",animate:{background:["radial-gradient(circle at 20% 80%, transparent 0%, rgba(59, 130, 246, 0.3) 50%, transparent 70%)","radial-gradient(circle at 80% 20%, transparent 0%, rgba(59, 130, 246, 0.3) 50%, transparent 70%)","radial-gradient(circle at 20% 80%, transparent 0%, rgba(59, 130, 246, 0.3) 50%, transparent 70%)"]},transition:{duration:4,repeat:1/0,ease:"linear"}}),l.jsx(P.div,{className:"absolute inset-0 border-2 border-blue-400/50 rounded-xl",animate:{boxShadow:["0 0 20px rgba(59, 130, 246, 0.5), inset 0 0 20px rgba(59, 130, 246, 0.2)","0 0 30px rgba(59, 130, 246, 0.7), inset 0 0 30px rgba(59, 130, 246, 0.3)","0 0 20px rgba(59, 130, 246, 0.5), inset 0 0 20px rgba(59, 130, 246, 0.2)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12"}),l.jsx(P.span,{className:`relative ${V(L)} z-10`,style:{fontSize:"calc(var(--suit-button-size) * 0.6)"},animate:p===L?{filter:["drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))","drop-shadow(0 0 20px rgba(59, 130, 246, 0.7))","drop-shadow(0 0 10px rgba(59, 130, 246, 0.5))"]}:{},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:z(L)}),l.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[...Array(3)].map((Z,F)=>l.jsx(P.div,{className:"absolute w-1 h-1 bg-white/50 rounded-full",initial:{x:Math.random()*100-50,y:60,opacity:0},animate:{y:-20,opacity:[0,1,0]},transition:{duration:2,delay:F*.3,repeat:1/0,ease:"easeOut"},style:{left:"50%"}},F))})]},L))})}),l.jsx("div",{className:"flex-shrink-0 w-1/3 flex items-stretch",children:l.jsxs("div",{className:"flex flex-col items-center justify-between py-4 space-y-3 ml-auto mr-[15%]",children:[l.jsx("div",{className:`
                  inline-flex items-center rounded-xl px-6 py-3 shadow-lg justify-center flex-1 bid-button
                  ${t?c?"bg-green-900/30 border border-green-600/30":"bg-red-900/30 border border-red-600/30":"bg-slate-700/30 border border-slate-600/30"}
                `,children:t?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-2xl font-bold text-white mr-2",children:t.value}),l.jsx("span",{className:`text-4xl ${V(t.trump)}`,children:z(t.trump)}),t.doubled&&!t.redoubled&&l.jsx("span",{className:"text-red-400 text-xl font-bold ml-3",children:"×2"}),t.redoubled&&l.jsx("span",{className:"text-purple-400 text-xl font-bold ml-3",children:"×4"})]}):l.jsx("span",{className:"text-xl font-semibold text-slate-400",children:"No bids"})}),E||_?l.jsxs(l.Fragment,{children:[E&&l.jsxs(P.button,{whileHover:{scale:1.02,boxShadow:"0 0 30px rgba(239, 68, 68, 0.5), 0 0 60px rgba(239, 68, 68, 0.3)"},whileTap:{scale:.98},animate:{boxShadow:["0 0 20px rgba(239, 68, 68, 0.3)","0 0 25px rgba(239, 68, 68, 0.4)","0 0 20px rgba(239, 68, 68, 0.3)"]},transition:{boxShadow:{duration:2,repeat:1/0,ease:"easeInOut"}},onClick:I,className:"relative px-8 py-3 bg-gradient-to-b from-red-500/90 to-red-600/90 hover:from-red-400/90 hover:to-red-500/90 text-white text-lg font-bold rounded-xl shadow-lg transition-all duration-300 mt-2 border border-red-400/30 overflow-hidden group bid-button",title:"Double the current bid",children:[l.jsx("span",{className:"relative z-10",children:"DOUBLE ×2"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),_&&l.jsxs(P.button,{whileHover:{scale:1.02,boxShadow:"0 0 30px rgba(168, 85, 247, 0.5), 0 0 60px rgba(168, 85, 247, 0.3)"},whileTap:{scale:.98},animate:{boxShadow:["0 0 20px rgba(168, 85, 247, 0.3)","0 0 30px rgba(168, 85, 247, 0.5)","0 0 20px rgba(168, 85, 247, 0.3)"]},transition:{boxShadow:{duration:2,repeat:1/0,ease:"easeInOut"}},onClick:B,className:"relative px-8 py-3 bg-gradient-to-b from-purple-500/90 to-purple-600/90 hover:from-purple-400/90 hover:to-purple-500/90 text-white text-lg font-bold rounded-xl shadow-lg transition-all duration-300 mt-2 border border-purple-400/30 overflow-hidden group bid-button",title:"Redouble the current bid",children:[l.jsx("span",{className:"relative z-10",children:"REDOUBLE ×4"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]})]}):l.jsx("div",{className:"h-[52px] mt-2 bid-button"})]})})]}),l.jsx("div",{className:`text-center ${v==="bid"?"ring-2 ring-blue-500 rounded-lg p-4":"p-4"}`,children:l.jsxs("div",{className:"flex items-center justify-center space-x-6",children:[l.jsxs(P.button,{whileHover:{scale:1.02,boxShadow:"0 8px 30px rgba(0, 0, 0, 0.3)"},whileTap:{scale:.98,boxShadow:"0 2px 10px rgba(0, 0, 0, 0.2)"},onClick:be,className:"relative px-10 py-5 bg-gradient-to-b from-slate-500/90 to-slate-600/90 hover:from-slate-400/90 hover:to-slate-500/90 text-white text-xl font-bold rounded-2xl shadow-xl transition-all duration-300 border border-slate-400/20 backdrop-blur-sm overflow-hidden group bid-button",title:"Pass",children:[l.jsx("span",{className:"relative z-10",children:"PASS"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent to-white/5 opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),l.jsxs(P.button,{whileHover:{scale:1.05,rotate:-5},whileTap:{scale:.95,rotate:-10},onMouseDown:se,onMouseUp:we,onMouseLeave:we,onTouchStart:se,onTouchEnd:we,disabled:d<=u,className:`
                  relative w-16 h-16 rounded-full transition-all duration-300 touch-target flex items-center justify-center
                  ${d<=u?"bg-slate-800/50 text-slate-600 cursor-not-allowed":"bg-gradient-to-b from-slate-600/90 to-slate-700/90 hover:from-slate-500/90 hover:to-slate-600/90 text-white shadow-lg hover:shadow-xl border border-slate-500/30"}
                  ${y?"scale-95 shadow-inner bg-gradient-to-b from-slate-700/90 to-slate-800/90":""}
                `,title:"Hold to decrease faster",children:[l.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:l.jsx("path",{d:"M15 19l-7-7 7-7",strokeLinecap:"round",strokeLinejoin:"round"})}),y&&l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-slate-400/50 animate-ping"})]}),l.jsxs("div",{className:"relative bg-gradient-to-b from-slate-900/70 to-slate-800/70 rounded-2xl px-10 py-4 min-w-[180px] border border-slate-600/30 shadow-inner overflow-hidden",children:[l.jsxs("div",{className:"relative h-[60px] flex items-center justify-center",children:[l.jsxs("div",{className:"absolute inset-0 z-10 pointer-events-none",children:[l.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/3 bg-gradient-to-b from-slate-900/70 to-transparent"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1/3 bg-gradient-to-t from-slate-800/70 to-transparent"})]}),l.jsx("div",{className:"relative",children:l.jsxs(P.div,{initial:{y:x?60:-60},animate:{y:0},transition:{type:"spring",stiffness:300,damping:30,mass:.5},className:"relative",children:[l.jsx("div",{className:"absolute -top-[60px] left-1/2 transform -translate-x-1/2 text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-white/30 to-slate-300/30 tabular-nums blur-[1px]",children:d>u?d-10:f}),l.jsxs("div",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-white to-slate-300 tabular-nums relative",children:[d,l.jsx(P.div,{initial:{scaleX:0,opacity:0},animate:{scaleX:1,opacity:1},exit:{scaleX:0,opacity:0},transition:{duration:.2,ease:"easeOut"},className:"absolute -bottom-2 left-1/2 transform -translate-x-1/2 w-3/4 h-0.5 bg-gradient-to-r from-transparent via-emerald-400/60 to-transparent"})]}),l.jsx("div",{className:"absolute top-[60px] left-1/2 transform -translate-x-1/2 text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-b from-white/30 to-slate-300/30 tabular-nums blur-[1px]",children:d<f?d+10:u})]},d)})]}),l.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-t from-transparent to-white/5 pointer-events-none"})]}),l.jsxs(P.button,{whileHover:{scale:1.05,rotate:5},whileTap:{scale:.95,rotate:10},onMouseDown:Q,onMouseUp:U,onMouseLeave:U,onTouchStart:Q,onTouchEnd:U,disabled:d>=f,className:`
                  relative w-16 h-16 rounded-full transition-all duration-300 touch-target flex items-center justify-center
                  ${d>=f?"bg-slate-800/50 text-slate-600 cursor-not-allowed":"bg-gradient-to-b from-slate-600/90 to-slate-700/90 hover:from-slate-500/90 hover:to-slate-600/90 text-white shadow-lg hover:shadow-xl border border-slate-500/30"}
                  ${x?"scale-95 shadow-inner bg-gradient-to-b from-slate-700/90 to-slate-800/90":""}
                `,title:"Hold to increase faster",children:[l.jsx("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:l.jsx("path",{d:"M9 5l7 7-7 7",strokeLinecap:"round",strokeLinejoin:"round"})}),x&&l.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-slate-400/50 animate-ping"})]}),!q&&l.jsxs(P.button,{whileHover:{scale:1.02,boxShadow:"0 12px 40px rgba(34, 197, 94, 0.4)"},whileTap:{scale:.98,boxShadow:"0 4px 20px rgba(34, 197, 94, 0.3)"},onClick:X,className:`
                    relative px-10 py-5 text-white text-xl font-bold rounded-2xl shadow-xl transition-all duration-300 overflow-hidden group bid-button
                    ${p?"bg-gradient-to-b from-emerald-500/90 to-green-600/90 hover:from-emerald-400/90 hover:to-green-500/90 border border-green-400/30 backdrop-blur-sm":"bg-gradient-to-b from-slate-600/50 to-slate-700/50 cursor-not-allowed opacity-60"}
                  `,title:"Place your bid",disabled:!p,children:[l.jsxs("span",{className:"relative z-10 flex items-center justify-center gap-2",children:["BID",p&&l.jsx("span",{className:`text-2xl ${V(p)}`,children:z(p)})]}),p&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-transparent via-transparent to-white/10 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),l.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-3/4 h-1 bg-gradient-to-r from-transparent via-emerald-300/50 to-transparent blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-500"})]})]})]})}),n.length>0&&l.jsx("div",{className:"mt-6 pt-6 border-t border-slate-700/50",children:l.jsx(XC,{biddingHistory:n,players:s,humanPlayerId:r==null?void 0:r.id,dealerIndex:i,getSuitColor:V,getSuitSymbol:z})})]})})]}):l.jsx(P.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},className:"fixed inset-0 flex items-center justify-center pointer-events-none z-50",children:l.jsx("div",{className:"bg-slate-800/90 backdrop-blur-md rounded-xl p-6 shadow-2xl pointer-events-auto",children:l.jsxs("p",{className:"text-slate-300 text-lg",children:[e==null?void 0:e.name," is thinking..."]})})})},ZC=()=>{const e=Zs(),t=O(f=>f.game.contract),n=O(f=>f.game.phase),r=O(f=>f.game.players[f.game.currentPlayerIndex]),s=O(f=>f.game.players.find(d=>!d.isAI)),i=Ee.canDouble(),o=Ee.canRedouble(),a=!(r!=null&&r.isAI);if(!t||n!=="Bidding"||!a)return null;const c=async()=>{i&&s&&e(ac({playerId:s.id}))},u=async()=>{o&&s&&e(lc({playerId:s.id}))};return l.jsx(Ce,{children:(i||o)&&l.jsxs(P.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"absolute left-4 bottom-32 z-20",children:[i&&l.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"mb-2 px-6 py-3 bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white font-bold rounded-lg shadow-lg transform transition-all focus:outline-none focus:ring-2 focus:ring-orange-500",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xl",children:"×2"}),l.jsx("span",{children:"Double"})]})}),o&&l.jsx(P.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:u,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold rounded-lg shadow-lg transform transition-all focus:outline-none focus:ring-2 focus:ring-purple-500",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("span",{className:"text-xl",children:"×4"}),l.jsx("span",{children:"Redouble"})]})})]})})},Sy=({contract:e,showBidder:t=!1,size:n="medium"})=>{const s=(a=>{switch(a){case M.Hearts:return{symbol:"♥",color:"text-red-500"};case M.Diamonds:return{symbol:"♦",color:"text-red-500"};case M.Clubs:return{symbol:"♣",color:"text-slate-800"};case M.Spades:return{symbol:"♠",color:"text-slate-800"}}})(e.trump),i={small:"text-sm px-2 py-1",medium:"text-base px-3 py-1.5",large:"text-lg px-4 py-2"},o={small:"text-lg",medium:"text-2xl",large:"text-3xl"};return l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:`relative bg-white rounded-lg shadow-md ${i[n]} flex items-center gap-1.5`,children:[l.jsx("span",{className:"font-bold text-slate-700",children:e.value}),l.jsx("span",{className:`${s.color} ${o[n]} leading-none`,children:s.symbol}),e.doubled&&!e.redoubled&&l.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-orange-500 -m-1"}),e.redoubled&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"absolute inset-0 rounded-lg border-2 border-red-500 -m-1"}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:l.jsx("span",{className:"text-red-500 font-bold text-3xl opacity-50",children:"×"})})]})]}),t&&l.jsxs("span",{className:"text-sm text-slate-400",children:["by ",e.bidder.name]}),l.jsxs("div",{className:`text-xs px-2 py-0.5 rounded-full ${e.team==="A"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:["Team ",e.team]})]})},jy=({show:e,onClose:t})=>{const n=O(c=>c.game.roundHistory),r=O(c=>c.game.teams),s=O(c=>c.game.targetScore),i=O(c=>c.game.round),a=(()=>{let c=0,u=0;return n.map((f,d)=>(c+=f.team1Score,u+=f.team2Score,{round:f,roundNumber:d+1,teamACumulative:c,teamBCumulative:u}))})();return l.jsx(Ce,{children:e&&l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:l.jsxs(P.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-800 rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",onClick:c=>c.stopPropagation(),children:[l.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-600 px-6 py-4",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Game Scoreboard"}),l.jsx("button",{onClick:t,className:"text-white/80 hover:text-white transition-colors p-2",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white/10 rounded-lg p-3",children:[l.jsx("div",{className:"text-sm text-white/70",children:"Team A"}),l.jsx("div",{className:"text-3xl font-bold text-white",children:r.A.score})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-center",children:[l.jsx("div",{className:"text-sm text-white/70",children:"Target"}),l.jsx("div",{className:"text-3xl font-bold text-white",children:s})]}),l.jsxs("div",{className:"bg-white/10 rounded-lg p-3 text-right",children:[l.jsx("div",{className:"text-sm text-white/70",children:"Team B"}),l.jsx("div",{className:"text-3xl font-bold text-white",children:r.B.score})]})]})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-200px)]",children:a.length===0?l.jsx("div",{className:"text-center text-slate-400 py-8",children:"No rounds completed yet"}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-9 gap-4 text-sm font-semibold text-slate-400 pb-2 border-b border-slate-700",children:[l.jsx("div",{children:"Round"}),l.jsx("div",{className:"col-span-2 text-center",children:"Contract"}),l.jsx("div",{className:"text-center",children:"Team A"}),l.jsx("div",{className:"text-center",children:"Team B"}),l.jsx("div",{className:"text-center",children:"A Decl."}),l.jsx("div",{className:"text-center",children:"B Decl."}),l.jsx("div",{className:"text-center",children:"A Total"}),l.jsx("div",{className:"text-center",children:"B Total"})]}),a.map((c,u)=>l.jsxs(P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.05},className:"grid grid-cols-9 gap-4 items-center bg-slate-700/30 rounded-lg p-3",children:[l.jsx("div",{className:"font-semibold text-white",children:c.roundNumber}),l.jsx("div",{className:"col-span-2 flex justify-center",children:c.round.contract?l.jsx(Sy,{contract:c.round.contract,size:"small"}):l.jsx("span",{className:"text-slate-500",children:"No contract"})}),l.jsxs("div",{className:`text-center font-semibold ${c.round.team1Score>c.round.team2Score?"text-green-400":"text-white"}`,children:["+",c.round.team1Score]}),l.jsxs("div",{className:`text-center font-semibold ${c.round.team2Score>c.round.team1Score?"text-green-400":"text-white"}`,children:["+",c.round.team2Score]}),l.jsx("div",{className:"text-center text-xs",children:c.round.team1Declarations&&c.round.team1Declarations.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"text-blue-400 font-semibold",children:["+",c.round.team1Declarations.reduce((f,d)=>f+d.points,0)]}),l.jsx("div",{className:"text-slate-400",children:c.round.team1Declarations.map(f=>f.type).join(", ")})]}):l.jsx("span",{className:"text-slate-500",children:"-"})}),l.jsx("div",{className:"text-center text-xs",children:c.round.team2Declarations&&c.round.team2Declarations.length>0?l.jsxs("div",{children:[l.jsxs("div",{className:"text-red-400 font-semibold",children:["+",c.round.team2Declarations.reduce((f,d)=>f+d.points,0)]}),l.jsx("div",{className:"text-slate-400",children:c.round.team2Declarations.map(f=>f.type).join(", ")})]}):l.jsx("span",{className:"text-slate-500",children:"-"})}),l.jsx("div",{className:"text-center text-blue-400 font-bold",children:c.teamACumulative}),l.jsx("div",{className:"text-center text-red-400 font-bold",children:c.teamBCumulative})]},u)),i>n.length&&l.jsxs("div",{className:"text-center text-slate-400 italic pt-4",children:["Round ",i," in progress..."]})]})}),l.jsxs("div",{className:"border-t border-slate-700 px-6 py-4 bg-slate-900/50",children:[l.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Rounds Played:"}),l.jsx("span",{className:"ml-2 font-semibold text-white",children:n.length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Team A Wins:"}),l.jsx("span",{className:"ml-2 font-semibold text-blue-400",children:n.filter(c=>c.team1Score>c.team2Score).length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Team B Wins:"}),l.jsx("span",{className:"ml-2 font-semibold text-red-400",children:n.filter(c=>c.team2Score>c.team1Score).length})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Contracts Made:"}),l.jsx("span",{className:"ml-2 font-semibold text-green-400",children:n.filter(c=>c.contractSuccess).length})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm mt-4 pt-4 border-t border-slate-700",children:[l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Team A Declaration Total:"}),l.jsxs("span",{className:"ml-2 font-semibold text-blue-400",children:[n.reduce((c,u)=>{var f;return c+(((f=u.team1Declarations)==null?void 0:f.reduce((d,h)=>d+h.points,0))||0)},0)," pts"]})]}),l.jsxs("div",{children:[l.jsx("span",{className:"text-slate-400",children:"Team B Declaration Total:"}),l.jsxs("span",{className:"ml-2 font-semibold text-red-400",children:[n.reduce((c,u)=>{var f;return c+(((f=u.team2Declarations)==null?void 0:f.reduce((d,h)=>d+h.points,0))||0)},0)," pts"]})]})]})]})]})})})},JC=({onComplete:e})=>{const t=O(d=>d.game.round),n=O(d=>d.game.scores),r=O(d=>d.game.lastRoundScore),s=O(d=>d.game.contract),[i,o]=b.useState(!1),a=d=>{d.target.closest("button")||i||e()};b.useEffect(()=>{const d=h=>{(h.key==="Escape"||h.key===" "||h.key==="Enter")&&(i||e())};return document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d)},[e,i]);const c=(r==null?void 0:r.team1Score)||0,u=(r==null?void 0:r.team2Score)||0,f=r==null?void 0:r.contractSuccess;return l.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center z-50 cursor-pointer",onClick:a,children:[l.jsxs(P.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"bg-slate-800/90 backdrop-blur-lg rounded-3xl p-8 shadow-2xl max-w-2xl w-full mx-4",children:[l.jsxs(P.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3},className:"text-center mb-6",children:[l.jsxs("h2",{className:"text-4xl font-bold text-white mb-2",children:["Round ",t-1," Complete"]}),s&&l.jsx("div",{className:"flex justify-center",children:l.jsx(Sy,{contract:s,showBidder:!0})})]}),f!==void 0&&l.jsx(P.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{delay:.5,type:"spring"},className:`text-center mb-6 p-4 rounded-xl ${f?"bg-green-500/20 border-2 border-green-500":"bg-red-500/20 border-2 border-red-500"}`,children:l.jsxs("p",{className:`text-2xl font-bold ${f?"text-green-400":"text-red-400"}`,children:["Contract ",f?"Made!":"Failed!"]})}),l.jsxs(P.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7},className:"grid grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-2",children:"Team 1"}),l.jsxs(P.p,{initial:{scale:0},animate:{scale:1},transition:{delay:.9,type:"spring"},className:"text-3xl font-bold text-white",children:["+",c]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-xl p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-2",children:"Team 2"}),l.jsxs(P.p,{initial:{scale:0},animate:{scale:1},transition:{delay:1,type:"spring"},className:"text-3xl font-bold text-white",children:["+",u]})]})]}),l.jsxs(P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},className:"border-t border-slate-600 pt-4",children:[l.jsx("h3",{className:"text-sm text-slate-400 text-center mb-2",children:"Total Scores"}),l.jsxs("div",{className:"flex justify-center space-x-8",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-blue-400",children:"Team 1"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:n.team1})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-sm text-red-400",children:"Team 2"}),l.jsx("p",{className:"text-2xl font-bold text-white",children:n.team2})]})]})]}),l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.3},className:"flex justify-center mt-6",children:l.jsx("button",{onClick:()=>o(!0),className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-lg font-semibold hover:from-purple-700 hover:to-indigo-700 transition-colors shadow-lg",children:"View Full Scoreboard"})}),l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-center mt-8",children:l.jsx("p",{className:"text-slate-400 text-lg font-medium animate-pulse",children:"Click anywhere to continue"})})]}),l.jsx(jy,{show:i,onClose:()=>o(!1)})]})},ek=({isOpen:e,onClose:t,roundScore:n,rawPoints:r})=>{var s,i;return n?l.jsx(Ce,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:t}),l.jsx(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Round Score Breakdown"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Team A"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Trick Points:"}),l.jsx("span",{className:"text-white",children:n.team1BasePoints||0})]}),n.team1Declarations&&n.team1Declarations.length>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Declarations:"}),l.jsx("span",{className:"text-white",children:n.team1Declarations.reduce((o,a)=>o+a.points,0)})]}),n.team1Bonuses&&n.team1Bonuses>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Bonuses:"}),l.jsx("span",{className:"text-white",children:n.team1Bonuses})]}),l.jsxs("div",{className:"border-t border-slate-600 pt-2 mt-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-300",children:"Raw Total:"}),l.jsx("span",{className:"text-white font-medium",children:(r==null?void 0:r.A)||0})]}),l.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[l.jsx("span",{children:"÷ 10 rounded up"}),l.jsxs("span",{children:["= ",Math.ceil(((r==null?void 0:r.A)||0)/10)]})]})]}),l.jsx("div",{className:"border-t border-slate-600 pt-2",children:l.jsxs("div",{className:"flex justify-between text-lg",children:[l.jsx("span",{className:"text-white font-semibold",children:"Final Score:"}),l.jsx("span",{className:"text-blue-400 font-bold",children:n.team1Score})]})})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-red-400 mb-3",children:"Team B"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Trick Points:"}),l.jsx("span",{className:"text-white",children:n.team2BasePoints||0})]}),n.team2Declarations&&n.team2Declarations.length>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Declarations:"}),l.jsx("span",{className:"text-white",children:n.team2Declarations.reduce((o,a)=>o+a.points,0)})]}),n.team2Bonuses&&n.team2Bonuses>0&&l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-slate-400",children:"Bonuses:"}),l.jsx("span",{className:"text-white",children:n.team2Bonuses})]}),l.jsxs("div",{className:"border-t border-slate-600 pt-2 mt-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-300",children:"Raw Total:"}),l.jsx("span",{className:"text-white font-medium",children:(r==null?void 0:r.B)||0})]}),l.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-1",children:[l.jsx("span",{children:"÷ 10 rounded up"}),l.jsxs("span",{children:["= ",Math.ceil(((r==null?void 0:r.B)||0)/10)]})]})]}),l.jsx("div",{className:"border-t border-slate-600 pt-2",children:l.jsxs("div",{className:"flex justify-between text-lg",children:[l.jsx("span",{className:"text-white font-semibold",children:"Final Score:"}),l.jsx("span",{className:"text-red-400 font-bold",children:n.team2Score})]})})]})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Round Details"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Team A Tricks:"}),l.jsxs("span",{className:"text-white",children:[n.team1Tricks||0,"/8"]})]}),n.team1AllTricks&&l.jsx("div",{className:"text-green-400 text-xs",children:"All tricks bonus!"})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Team B Tricks:"}),l.jsxs("span",{className:"text-white",children:[n.team2Tricks||0,"/8"]})]}),n.team2AllTricks&&l.jsx("div",{className:"text-green-400 text-xs",children:"All tricks bonus!"})]})]}),n.contractSuccess!==void 0&&l.jsx("div",{className:"mt-3 pt-3 border-t border-slate-600",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-slate-400",children:"Contract Result:"}),l.jsx("span",{className:`font-medium ${n.contractSuccess?"text-green-400":"text-red-400"}`,children:n.contractSuccess?"Success":"Failed"})]})})]}),(n.team1Declarations&&n.team1Declarations.length>0||n.team2Declarations&&n.team2Declarations.length>0)&&l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Declarations"}),l.jsxs("div",{className:"space-y-3",children:[(s=n.team1Declarations)==null?void 0:s.map((o,a)=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("span",{className:"text-blue-400",children:[o.player.name,":"]}),l.jsx("span",{className:"text-white ml-2",children:o.type}),l.jsxs("span",{className:"text-green-400 ml-2",children:["+",o.points]})]},a)),(i=n.team2Declarations)==null?void 0:i.map((o,a)=>l.jsxs("div",{className:"text-sm",children:[l.jsxs("span",{className:"text-red-400",children:[o.player.name,":"]}),l.jsx("span",{className:"text-white ml-2",children:o.type}),l.jsxs("span",{className:"text-green-400 ml-2",children:["+",o.points]})]},a))]})]}),l.jsx("div",{className:"flex justify-center pt-4",children:l.jsx("button",{onClick:t,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Close"})})]})]})})]})}):null},tk=({isOpen:e,onClose:t})=>{const n=yg(),r=Nu(j=>j.game.settings),{enabled:s,setEnabled:i,volume:o,setVolume:a}=VS(),[c,u]=b.useState("normal"),[f,d]=b.useState(!1),[h,p]=b.useState(parseFloat(localStorage.getItem("cardSize")||"1.0")),[g,v]=b.useState((r==null?void 0:r.showTrickPilePoints)||!1),[S,x]=b.useState((r==null?void 0:r.rightClickZoom)??!0),m=j=>{u(j),Ee.setAnimationSpeed(j)},y=j=>{d(j),Ee.enableAdvancedAI(j)},w=j=>{p(j),localStorage.setItem("cardSize",j.toString()),document.documentElement.style.setProperty("--card-size-human",j.toString());const C=1+(j-1)*.2;document.documentElement.style.setProperty("--card-size-ai",C.toString());let E="medium";j<=1.25?E="small":j<=1.75?E="medium":j<=2?E="large":E="xlarge",n(yr({cardSize:E})),Ee.setCardSize(j)},T=j=>{v(j),n(yr({showTrickPilePoints:j}))},N=j=>{x(j),n(yr({rightClickZoom:j}))};return l.jsx(Ce,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:t}),l.jsx(P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"fixed right-0 top-0 h-full w-full max-w-md bg-slate-800 shadow-2xl z-50",children:l.jsxs("div",{className:"h-full overflow-y-auto",children:[l.jsx("div",{className:"sticky top-0 bg-slate-800 border-b border-slate-700 p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-white",children:"Settings"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-6 h-6 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),l.jsxs("div",{className:"p-6 space-y-8",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Card Size"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-3",children:"Card Display Size"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{onClick:()=>{const j=Math.max(1,h-.25);w(j)},className:"w-8 h-8 flex items-center justify-center rounded-full bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white transition-colors",disabled:h<=1,children:l.jsx("span",{className:"text-lg font-bold",children:"−"})}),l.jsxs("div",{className:"relative flex-1",children:[l.jsx("input",{type:"range",min:"1.0",max:"2.5",step:"0.25",value:h,onChange:j=>w(parseFloat(j.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-thumb",style:{background:`linear-gradient(to right, #3b82f6 0%, #3b82f6 ${(h-1)/1.5*100}%, #475569 ${(h-1)/1.5*100}%, #475569 100%)`}}),l.jsx("div",{className:"absolute -top-1 left-0 right-0 flex justify-between pointer-events-none",children:[1,1.25,1.5,1.75,2,2.25,2.5].map(j=>l.jsx("div",{className:"w-0.5 h-3 bg-slate-600"},j))})]}),l.jsx("button",{onClick:()=>{const j=Math.min(2.5,h+.25);w(j)},className:"w-8 h-8 flex items-center justify-center rounded-full bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white transition-colors",disabled:h>=2.5,children:l.jsx("span",{className:"text-lg font-bold",children:"+"})})]}),l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-sm text-slate-400",children:["Size: ",Math.round(h*100),"%"]})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Card Style"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-3",children:"Visual Card Style"}),l.jsx("div",{className:"grid grid-cols-2 gap-2",children:["classic","modern","accessible","minimalist"].map(j=>l.jsx("button",{onClick:()=>n(yr({cardStyle:j})),className:`
                            py-2 px-4 rounded-lg font-medium capitalize transition-all
                            ${(r==null?void 0:r.cardStyle)===j?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}
                          `,children:j},j))})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Sound"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("label",{className:"text-slate-300",children:"Sound Effects"}),l.jsx("button",{onClick:()=>i(!s),className:`
                          relative w-14 h-8 rounded-full transition-colors
                          ${s?"bg-blue-600":"bg-slate-600"}
                        `,children:l.jsx(P.div,{animate:{x:s?24:4},className:"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md"})})]}),s&&l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-2",children:"Volume"}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("svg",{className:"w-5 h-5 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})}),l.jsx("input",{type:"range",min:"0",max:"100",value:o*100,onChange:j=>a(Number(j.target.value)/100),className:"flex-1 h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer"}),l.jsxs("span",{className:"text-sm text-slate-400 w-10 text-right",children:[Math.round(o*100),"%"]})]})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Animations"}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm text-slate-400 mb-3",children:"Animation Speed"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:["fast","normal","slow"].map(j=>l.jsx("button",{onClick:()=>m(j),className:`
                            py-2 px-4 rounded-lg font-medium capitalize transition-all
                            ${c===j?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}
                          `,children:j},j))})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Game Display"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-slate-300",children:"Show Trick Pile Points"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Display point totals on trick piles"})]}),l.jsx("button",{onClick:()=>T(!g),className:`
                          relative w-14 h-8 rounded-full transition-colors
                          ${g?"bg-blue-600":"bg-slate-600"}
                        `,children:l.jsx(P.div,{animate:{x:g?24:4},className:"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md"})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-slate-300",children:"Right-Click Card Zoom"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Right-click any card to zoom 200%"})]}),l.jsx("button",{onClick:()=>N(!S),className:`
                          relative w-14 h-8 rounded-full transition-colors
                          ${S?"bg-blue-600":"bg-slate-600"}
                        `,children:l.jsx(P.div,{animate:{x:S?24:4},className:"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md"})})]})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"AI Difficulty"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-slate-300",children:"Advanced AI (MCTS)"}),l.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Uses Monte Carlo Tree Search for smarter plays"})]}),l.jsx("button",{onClick:()=>y(!f),className:`
                          relative w-14 h-8 rounded-full transition-colors
                          ${f?"bg-blue-600":"bg-slate-600"}
                        `,children:l.jsx(P.div,{animate:{x:f?24:4},className:"absolute top-1 w-6 h-6 bg-white rounded-full shadow-md"})})]}),f&&l.jsx("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-3",children:l.jsx("p",{className:"text-sm text-amber-400",children:"⚠️ Advanced AI may take longer to make decisions"})})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Game Rules"}),l.jsxs("div",{className:"space-y-3 text-sm text-slate-400",children:[l.jsx("p",{children:"• First to reach the target score wins"}),l.jsx("p",{children:"• Trump suit beats all other suits"}),l.jsx("p",{children:"• Must follow suit if possible"}),l.jsx("p",{children:"• Must overtrump if partner isn't winning"}),l.jsx("p",{children:"• Last trick is worth 10 bonus points"}),l.jsx("p",{children:"• Belote (K+Q of trump) is worth 20 points"})]})]}),l.jsxs("div",{className:"border-t border-slate-700 pt-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"About"}),l.jsx("p",{className:"text-sm text-slate-400",children:"Pilotta is a traditional Cypriot card game. This digital version features adaptive AI opponents that learn from your playing style."}),l.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"Version 1.0.0"})]})]})]})})]})})},nk=({isOpen:e,onClose:t})=>{const[n,r]=b.useState(0),s=[{title:"Welcome to Pilotta!",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"Pilotta is a trick-taking card game from Cyprus, played with 4 players in 2 teams."}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"The Goal"}),l.jsx("p",{className:"text-slate-400",children:"Be the first team to reach the target score (usually 151 points) by winning tricks and making contracts."})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Teams"}),l.jsx("p",{className:"text-slate-400",children:"You and your partner (North) form Team 1. The AI players (East & West) form Team 2."})]})]})},{title:"Card Values",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300 mb-4",children:"Card values change based on whether they're trump or not:"}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Trump Cards"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Jack (J)"}),l.jsx("span",{className:"text-yellow-400",children:"20 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Nine (9)"}),l.jsx("span",{className:"text-yellow-400",children:"14 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Ace (A)"}),l.jsx("span",{children:"11 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Ten (10)"}),l.jsx("span",{children:"10 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"King (K)"}),l.jsx("span",{children:"4 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Queen (Q)"}),l.jsx("span",{children:"3 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Eight, Seven"}),l.jsx("span",{children:"0 points"})]})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Non-Trump Cards"}),l.jsxs("div",{className:"space-y-1 text-sm",children:[l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Ace (A)"}),l.jsx("span",{children:"11 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Ten (10)"}),l.jsx("span",{children:"10 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"King (K)"}),l.jsx("span",{children:"4 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Queen (Q)"}),l.jsx("span",{children:"3 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Jack (J)"}),l.jsx("span",{children:"2 points"})]}),l.jsxs("div",{className:"flex justify-between text-slate-400",children:[l.jsx("span",{children:"Others"}),l.jsx("span",{children:"0 points"})]})]})]})]}),l.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"💡 Note how Jack and Nine become the strongest trump cards!"})]})},{title:"Bidding Phase",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"Teams compete to set the contract by bidding:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"How to Bid"}),l.jsxs("ul",{className:"space-y-1 text-sm text-slate-400",children:[l.jsx("li",{children:"• Minimum bid is 80 points"}),l.jsx("li",{children:"• Bids increase by 10 (80, 90, 100...)"}),l.jsx("li",{children:"• Choose a trump suit with your bid"}),l.jsx("li",{children:"• Or pass if you don't want to bid"})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Winning the Bid"}),l.jsx("p",{className:"text-sm text-slate-400",children:"The highest bidder sets the contract. Their team must score at least that many points to succeed."})]}),l.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"Double & Redouble"}),l.jsx("p",{className:"text-sm text-amber-200",children:"Opponents can double the contract, and the contract team can redouble, multiplying the stakes!"})]})]})]})},{title:"Playing Tricks",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"The contract winner leads the first trick. Then:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Basic Rules"}),l.jsxs("ul",{className:"space-y-1 text-sm text-slate-400",children:[l.jsx("li",{children:"• Must follow suit if possible"}),l.jsx("li",{children:"• Trump beats all other suits"}),l.jsx("li",{children:"• Higher card wins within the same suit"}),l.jsx("li",{children:"• Trick winner leads the next trick"})]})]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"⚠️ Forced Overtrump Rule"}),l.jsx("p",{className:"text-sm text-red-200",children:"If you can't follow suit and your partner isn't winning the trick, you MUST play a trump if you have one!"})]}),l.jsxs("div",{className:"bg-blue-900/20 border border-blue-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-blue-400 mb-2",children:"Last Trick Bonus"}),l.jsx("p",{className:"text-sm text-blue-200",children:"The last trick is worth an extra 10 points!"})]})]})]})},{title:"Declarations",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"Special card combinations earn bonus points:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Sequences"}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-400",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"3 cards in sequence"}),l.jsx("span",{className:"text-green-400",children:"20 points"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"4 cards in sequence"}),l.jsx("span",{className:"text-green-400",children:"50 points"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"5 cards in sequence"}),l.jsx("span",{className:"text-green-400",children:"100 points"})]})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Four of a Kind (Carré)"}),l.jsxs("div",{className:"space-y-1 text-sm text-slate-400",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Four Jacks"}),l.jsx("span",{className:"text-green-400",children:"200 points"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Four Nines"}),l.jsx("span",{className:"text-green-400",children:"150 points"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Four Aces/10s/Kings/Queens"}),l.jsx("span",{className:"text-green-400",children:"100 points"})]})]})]}),l.jsxs("div",{className:"bg-yellow-900/20 border border-yellow-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-yellow-400 mb-2",children:"Belote"}),l.jsx("p",{className:"text-sm text-yellow-200",children:'King + Queen of trump suit = 20 points. Announce "Belote" when playing them!'})]})]})]})},{title:"Scoring",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"After all 8 tricks are played:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"Contract Success"}),l.jsx("p",{className:"text-sm text-slate-400",children:"If the contract team scores ≥ their bid:"}),l.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-slate-400",children:[l.jsx("li",{children:"• Both teams keep their points"}),l.jsx("li",{children:"• Add declaration bonuses"})]})]}),l.jsxs("div",{className:"bg-red-900/20 border border-red-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"Contract Failure"}),l.jsx("p",{className:"text-sm text-red-200",children:"If the contract team scores less than their bid:"}),l.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-red-200",children:[l.jsx("li",{children:"• They score 0 points"}),l.jsx("li",{children:"• Opponents get all 162 points"}),l.jsx("li",{children:"• Plus any declarations"})]})]}),l.jsxs("div",{className:"bg-purple-900/20 border border-purple-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-purple-400 mb-2",children:"Special: Capot"}),l.jsx("p",{className:"text-sm text-purple-200",children:"If one team wins all 8 tricks, they get 90 bonus points!"})]})]})]})},{title:"Tips & Strategy",content:l.jsxs("div",{className:"space-y-4",children:[l.jsx("p",{className:"text-slate-300",children:"Become a better Pilotta player:"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"💡 Bidding Tips"}),l.jsxs("ul",{className:"space-y-1 text-sm text-slate-400",children:[l.jsx("li",{children:"• Count your high cards and trump length"}),l.jsx("li",{children:"• Consider your partner's position"}),l.jsx("li",{children:"• Don't overbid - failing costs you everything!"})]})]}),l.jsxs("div",{className:"bg-slate-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-white mb-2",children:"🎯 Playing Tips"}),l.jsxs("ul",{className:"space-y-1 text-sm text-slate-400",children:[l.jsx("li",{children:"• Lead with trump to draw out opponents' trumps"}),l.jsx("li",{children:"• Save high trumps for crucial tricks"}),l.jsx("li",{children:"• Remember which cards have been played"}),l.jsx("li",{children:"• Communicate with your partner through plays"})]})]}),l.jsxs("div",{className:"bg-green-900/20 border border-green-700/50 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-green-400 mb-2",children:"🤖 AI Personalities"}),l.jsx("p",{className:"text-sm text-green-200",children:"Each AI has a unique style: Conservative, Aggressive, or Balanced. They'll also adapt to your playing patterns over time!"})]})]})]})}],i=()=>{n<s.length-1&&r(n+1)},o=()=>{n>0&&r(n-1)};return l.jsx(Ce,{children:e&&l.jsxs(l.Fragment,{children:[l.jsx(P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40",onClick:t}),l.jsx(P.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:l.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[l.jsxs("div",{className:"bg-slate-900 px-6 py-4 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-white",children:"How to Play Pilotta"}),l.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:l.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),l.jsx("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:l.jsx(Ce,{mode:"wait",children:l.jsxs(P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},children:[l.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:s[n].title}),s[n].content]},n)})}),l.jsx("div",{className:"bg-slate-900 px-6 py-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("button",{onClick:o,disabled:n===0,className:`
                      px-4 py-2 rounded-lg font-medium transition-all
                      ${n===0?"bg-slate-700 text-slate-500 cursor-not-allowed":"bg-slate-700 text-white hover:bg-slate-600"}
                    `,children:"Previous"}),l.jsx("div",{className:"flex space-x-2",children:s.map((a,c)=>l.jsx("button",{onClick:()=>r(c),className:`
                          w-2 h-2 rounded-full transition-all
                          ${c===n?"bg-blue-500 w-6":"bg-slate-600 hover:bg-slate-500"}
                        `},c))}),n===s.length-1?l.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-all",children:"Start Playing!"}):l.jsx("button",{onClick:i,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-all",children:"Next"})]})})]})})]})})},rk=({show:e,type:t})=>{const[n,r]=b.useState([]);return b.useEffect(()=>{if(!e){r([]);return}const s={victory:["#FFD700","#FFA500","#FF6347","#00CED1","#9370DB"],defeat:["#708090","#778899","#696969","#A9A9A9","#C0C0C0"],"contract-made":["#32CD32","#00FF00","#7FFF00","#ADFF2F","#90EE90"],"trick-won":["#1E90FF","#00BFFF","#87CEEB","#4682B4","#5F9EA0"]},i=t==="victory"?100:t==="defeat"?30:50,o=[];for(let c=0;c<i;c++){const u=Math.PI*2*c/i+Math.random()*.5,f=2+Math.random()*4,d=s[t];o.push({id:c,x:window.innerWidth/2,y:window.innerHeight/2,vx:Math.cos(u)*f,vy:Math.sin(u)*f-Math.random()*2,color:d[Math.floor(Math.random()*d.length)],size:4+Math.random()*8,shape:["circle","square","star"][Math.floor(Math.random()*3)]})}r(o);const a=setTimeout(()=>{r([])},3e3);return()=>clearTimeout(a)},[e,t]),!e||n.length===0?null:l.jsxs("div",{className:"fixed inset-0 pointer-events-none z-50",children:[n.map(s=>l.jsx(P.div,{initial:{x:s.x,y:s.y,opacity:1,scale:1},animate:{x:s.x+s.vx*100,y:s.y+s.vy*100+200,opacity:0,scale:0,rotate:360},transition:{duration:2.5,ease:"easeOut"},className:"absolute",style:{width:s.size,height:s.size,backgroundColor:s.shape!=="star"?s.color:"transparent",borderRadius:s.shape==="circle"?"50%":(s.shape==="square","0%")},children:s.shape==="star"&&l.jsx("svg",{width:s.size,height:s.size,viewBox:"0 0 24 24",fill:s.color,children:l.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},s.id)),t==="victory"&&l.jsx(P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:.3,duration:.5},className:"fixed top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:l.jsx("h1",{className:"text-6xl font-bold text-yellow-400 drop-shadow-lg animate-pulse",children:"VICTORY!"})}),t==="contract-made"&&l.jsx(P.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{delay:.3,duration:.5},className:"fixed top-1/3 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:l.jsx("h2",{className:"text-4xl font-bold text-green-400 drop-shadow-lg",children:"Contract Made!"})})]})},sk=({type:e,message:t,position:n,isVisible:r,trumpSuit:s,declarationValue:i})=>{const[o,a]=b.useState(!1);b.useEffect(()=>{if(r){a(!0);const p=setTimeout(()=>{a(!1)},3e3);return()=>clearTimeout(p)}},[r]);const c=()=>e==="belote"?"bg-gradient-to-br from-blue-500 to-blue-600 border-2 border-blue-400":e==="rebelote"?"bg-gradient-to-br from-purple-500 to-purple-600 border-2 border-purple-400":e==="declaration"&&i?i>=150?"bg-gradient-to-br from-orange-500 via-red-500 to-pink-600 border-2 border-orange-400":i>=100?"bg-gradient-to-br from-amber-500 to-orange-600 border-2 border-amber-400":i>=50?"bg-gradient-to-br from-yellow-500 to-amber-600 border-2 border-yellow-400":"bg-gradient-to-br from-emerald-500 to-green-600 border-2 border-emerald-400":e==="double"?"bg-gradient-to-br from-red-600 to-red-700 border-2 border-red-500":e==="redouble"?"bg-gradient-to-br from-purple-600 to-pink-700 border-2 border-purple-500":e==="pass"?"bg-gradient-to-br from-gray-600 to-gray-700 border-2 border-gray-500":"bg-gradient-to-br from-slate-700 to-slate-800 border-2 border-slate-600",u=()=>{const p=e==="declaration"&&i&&i>=100?1.2:1,g=e==="declaration"&&i?Math.min(i/20,15):5;return{hidden:{scale:0,opacity:0,y:50},visible:{scale:p,opacity:1,y:0,rotate:e==="belote"?[-g,g,-g,0]:[g,-g,g,0]},exit:{scale:0,opacity:0,y:-50}}},f=p=>({[M.Hearts]:"♥",[M.Diamonds]:"♦",[M.Clubs]:"♣",[M.Spades]:"♠"})[p],d=p=>p===M.Hearts||p===M.Diamonds?"text-red-500":"text-gray-900",h=()=>e==="declaration"&&i?Math.min(Math.floor(i/30),8):e==="belote"||e==="rebelote"?5:0;return l.jsx(Ce,{children:o&&l.jsx(VC,{playerPosition:n,children:l.jsxs(P.div,{variants:u(),initial:"hidden",animate:"visible",exit:"exit",transition:{type:"spring",stiffness:500,damping:25,rotate:{duration:.5,ease:"easeInOut"}},className:`
              px-8 py-4 rounded-2xl shadow-2xl
              ${c()}
            `,style:{filter:"drop-shadow(0 0 20px rgba(0, 0, 0, 0.5))"},children:[l.jsx("div",{className:"text-center",children:l.jsxs(P.div,{className:"text-3xl font-bold text-white mb-1",animate:{scale:[1,1.1,1],textShadow:["0 0 10px rgba(255,255,255,0.5)","0 0 20px rgba(255,255,255,0.8)","0 0 10px rgba(255,255,255,0.5)"]},transition:{duration:e==="declaration"&&i&&i>=100?.8:1,repeat:1/0},children:[t,s&&e==="bid"&&l.jsx("span",{className:`ml-2 ${d(s)}`,children:f(s)})]})}),h()>0&&l.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(h())].map((p,g)=>l.jsx(P.div,{className:"absolute w-2 h-2 bg-white rounded-full",initial:{x:0,y:0,opacity:0,scale:0},animate:{x:Math.cos(g*(360/h())*Math.PI/180)*60,y:Math.sin(g*(360/h())*Math.PI/180)*60,opacity:[0,1,0],scale:[0,1,0]},transition:{duration:1,delay:g*.1,repeat:1/0,repeatDelay:1},style:{left:"50%",top:"50%",transform:"translate(-50%, -50%)"}},g))})]})})})},ik=()=>{const e=O(o=>o.game.notifications||[]),t=O(o=>o.game.players),n=Zs(),[r,s]=b.useState([]),i=o=>{const a=t.find(c=>c.name===o);return(a==null?void 0:a.position)||"north"};return b.useEffect(()=>{if(e.length>r.length){const o=e[e.length-1];s([...r,o]),(o.type==="belote"||o.type==="rebelote")&&$e.play("belote"),setTimeout(()=>{s(a=>a.filter(c=>c!==o)),n(bw(o))},3e3)}},[e,r,n]),l.jsx(l.Fragment,{children:r.map((o,a)=>l.jsx(sk,{type:o.type,message:o.message,position:i(o.player),isVisible:!0},`${o.type}-${o.timestamp||a}`))})},ok="ontouchstart"in window||navigator.maxTouchPoints>0,ak=ok?LS:kS;function lk(){const e=O(y=>y.game.phase),t=O(y=>y.game.round),n=e!==H.GameOver&&e!==H.Dealing||t>1;O(y=>y.game.contract);const r=O(y=>y.game.lastRoundScore),s=O(y=>{const w=y.game.scores;return e===H.GameOver?w.team1>w.team2?"team1":"team2":null}),o=O(y=>y.game.players).find(y=>!y.isAI);b.useEffect(()=>{var y;console.log("=== GAME DEBUG INFO ==="),console.log("Game Phase:",e),console.log("Human player:",(o==null?void 0:o.name)||"Not found"),console.log("Human player cards:",((y=o==null?void 0:o.hand)==null?void 0:y.length)||0),o!=null&&o.hand&&o.hand.length>0&&(console.log("Cards:",o.hand.map(w=>`${w.rank} of ${w.suit}`).join(", ")),console.log("Card elements visible:",document.querySelectorAll('.playing-card[data-face-down="false"]').length)),console.log("===================")},[e,o]);const[a,c]=b.useState(!1),[u,f]=b.useState(!1),[d,h]=b.useState(!1),[p,g]=b.useState(!1),[v,S]=b.useState(!1),[x,m]=b.useState(null);return b.useEffect(()=>{const y=w=>{const N=w.target.closest(".playing-card");(!N||N.getAttribute("data-face-down")==="true")&&w.preventDefault()};return document.addEventListener("contextmenu",y),()=>{document.removeEventListener("contextmenu",y)}},[]),b.useEffect(()=>{Ee.setAnimationSpeed("normal");const y=()=>{c(!1),f(!1),h(!1),S(!1)};return window.addEventListener("close-modals",y),()=>{window.removeEventListener("close-modals",y)}},[]),b.useEffect(()=>{e===H.Scoring&&r&&(g(!0),r.contractSuccess&&(m("contract-made"),setTimeout(()=>m(null),3e3)))},[e,r]),b.useEffect(()=>{e===H.GameOver&&s&&m(s==="team1"?"victory":"defeat")},[e,s]),!n&&e===H.Dealing?l.jsx(KC,{}):e===H.GameOver?l.jsx(QC,{}):l.jsx("div",{className:"app",children:l.jsxs(Hb,{backend:ak,children:[l.jsxs("div",{className:"game-header",children:[l.jsx(YC,{}),l.jsxs("div",{className:"absolute right-4 top-4 flex space-x-2",children:[l.jsx("button",{onClick:()=>S(!0),className:"p-2 bg-purple-700 hover:bg-purple-600 rounded-lg transition-colors",title:"Full Scoreboard",children:l.jsx("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),l.jsx("button",{onClick:()=>h(!0),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",title:"Score Details",children:l.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),l.jsx("button",{onClick:()=>f(!0),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",title:"How to Play",children:l.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),l.jsx("button",{onClick:()=>c(!0),className:"p-2 bg-slate-700 hover:bg-slate-600 rounded-lg transition-colors",title:"Settings",children:l.jsxs("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]})]}),l.jsxs("main",{className:"game-content",children:[l.jsx(GC,{}),l.jsx(ik,{}),e===H.Bidding&&l.jsxs("div",{id:"bidding",children:[l.jsx(qC,{}),l.jsx(ZC,{})]})]}),l.jsx(tk,{isOpen:a,onClose:()=>c(!1)}),l.jsx(nk,{isOpen:u,onClose:()=>f(!1)}),l.jsx(ek,{show:d,onClose:()=>h(!1)}),l.jsx(jy,{show:v,onClose:()=>S(!1)}),p&&l.jsx(JC,{onComplete:()=>{g(!1)}}),l.jsx(rk,{show:x!==null,type:x||"victory"}),!1]})})}function ck(){return b.useEffect(()=>{const e=localStorage.getItem("cardSize"),t=e?parseFloat(e):1;document.documentElement.style.setProperty("--card-size-human",t.toString());const n=1+(t-1)*.2;document.documentElement.style.setProperty("--card-size-ai",n.toString())},[]),l.jsx(lk,{})}ll.createRoot(document.getElementById("root")).render(l.jsx(At.StrictMode,{children:l.jsx(v1,{store:_e,children:l.jsx(ck,{})})}));
//# sourceMappingURL=index-Ch3g0Xes.js.map
