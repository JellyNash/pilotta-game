/* Center-based layout system for Pilotta game table */

/* Variables now in tokens.css */

/* Main table container - centers everything */
.game-table {
  position: relative;
  width: 100%;
  height: calc(100vh - 8rem); /* Leave room for header */
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
}

/* Center reference point */
.table-center {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 0;
  height: 0;
}

/* Player seat positioning - all relative to center */
.player-seat {
  position: absolute;
  left: 50%;
  top: 50%;
  transform-origin: center;
}

/* Position each seat on the radius */
.player-seat.north {
  transform: translate(-50%, -50%) translateY(calc(-1 * var(--table-radius)));
}

.player-seat.south {
  transform: translate(-50%, -50%) translateY(var(--table-radius));
}

.player-seat.east {
  transform: translate(-50%, -50%) translateX(var(--table-radius));
}

.player-seat.west {
  transform: translate(-50%, -50%) translateX(calc(-1 * var(--table-radius)));
}

/* Trick area - always dead center */
.trick-area-centered {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

/* Center circle decoration */
.center-circle {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 12rem;
  height: 12rem;
  border-radius: 50%;
  pointer-events: none;
}

/* Trick pile positioning - relative to seats */
.trick-pile-container {
  position: absolute;
  left: 50%;
  top: 50%;
}

/* Team A pile - offset from south seat */
.trick-pile-container.team-a {
  transform: translate(-50%, -50%) 
            translateY(var(--table-radius)) 
            translateX(calc(-1 * var(--table-radius) * 0.6));
}

/* Team B pile - offset from west seat */
.trick-pile-container.team-b {
  transform: translate(-50%, -50%) 
            translateX(calc(-1 * var(--table-radius))) 
            translateY(calc(-1 * var(--table-radius) * 0.3));
}

/* Player hand container */
.player-hand-container {
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* Card fan layout for horizontal hands (north/south) */
.player-hand-container.horizontal {
  width: clamp(20rem, 60vw, 40rem);
  height: var(--card-height);
}

/* Card fan layout for vertical hands (east/west) */
.player-hand-container.vertical {
  width: var(--card-width);
  height: clamp(15rem, 40vh, 25rem);
}

/* Individual card positioning in hand */
.hand-card {
  position: absolute;
  transform-origin: center bottom;
  transition: transform 0.15s ease-out;
}

/* Player labels */
.player-label {
  position: absolute;
  font-size: var(--text-player-label);
  font-weight: 600;
  color: white;
  text-align: center;
  width: 100%;
}

.player-seat.north .player-label {
  bottom: calc(100% + var(--hand-offset));
}

.player-seat.south .player-label {
  top: calc(100% + var(--hand-offset));
}

.player-seat.east .player-label {
  right: calc(100% + var(--hand-offset));
  width: auto;
}

.player-seat.west .player-label {
  left: calc(100% + var(--hand-offset));
  width: auto;
}

/* Badge positioning */
.player-badge {
  position: absolute;
  font-size: var(--text-badge);
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 2rem;
  height: 2rem;
  padding: 0 0.5rem;
  border-radius: 1rem;
}

/* North player badge - centered above */
.player-seat.north .player-badge {
  left: 50%;
  bottom: calc(100% + 0.5rem);
  transform: translateX(-50%);
}

/* South player badge - centered below */
.player-seat.south .player-badge {
  left: 50%;
  top: calc(100% + 0.5rem);
  transform: translateX(-50%);
}

/* East player badge - to the right */
.player-seat.east .player-badge {
  left: calc(100% + 0.5rem);
  top: 50%;
  transform: translateY(-50%);
}

/* West player badge - to the left */
.player-seat.west .player-badge {
  right: calc(100% + 0.5rem);
  top: 50%;
  transform: translateY(-50%);
}

/* Responsive adjustments for smaller screens */
@media (max-width: 768px) {
  :root {
    --table-radius: clamp(12rem, 35vw, 18rem);
    --card-width: clamp(4rem, 10vw, 6rem);
  }
  
  .center-circle {
    width: 8rem;
    height: 8rem;
  }
}

/* Landscape mode adjustments */
@media (orientation: landscape) and (max-height: 600px) {
  :root {
    --table-radius: clamp(10rem, 25vh, 15rem);
  }
  
  .game-table {
    height: calc(100vh - 4rem);
  }
}

/* Large screens (4K) */
@media (min-width: 2560px) {
  :root {
    --table-radius: clamp(20rem, 20vw, 30rem);
    --card-width: clamp(7rem, 6vw, 10rem);
  }
  
  .center-circle {
    width: 16rem;
    height: 16rem;
  }
}