/* Import responsive variables */
@import '../layouts/responsive-variables.css';

/* Base card dimensions as custom properties */
:root {
  --card-base-width: 120px;
  --card-base-height: 168px;
  --card-transition-duration: 0.2s;
  --card-hover-scale: 1.1;
  --card-hover-lift: -20px;
  --card-size-human: 1.0;
  --card-size-ai: 1.0;
  --card-spacing-factor: 0.85; /* Base spacing between cards */
}

/* Player hand wrapper base styles */
.player-hand-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Card container base styles */
.player-hand-wrapper .card-container {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
}

/* HUMAN PLAYER (SOUTH) - Fan layout */
.player-hand-wrapper[data-position="south"] .card-container {
  width: calc(var(--card-base-width) * var(--card-size-human) * 8 * var(--card-spacing-factor));
  height: calc(var(--card-base-height) * var(--card-size-human) + 50px);
  padding-bottom: 2rem;
}

/* Higher specificity to override any conflicting styles */
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot {
  position: absolute !important;
  left: 50% !important;
  bottom: 0 !important;
  transform-origin: center bottom !important;
  transition: all 0.2s ease-out !important;
  width: calc(var(--card-base-width) * var(--card-size-human)) !important;
  height: calc(var(--card-base-height) * var(--card-size-human)) !important;
}

/* South player card positions - using exact same calculations as original */
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(1) { 
  transform: translateX(-50%) translateX(calc(-3.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-15deg) translateY(35px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(2) { 
  transform: translateX(-50%) translateX(calc(-2.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-10deg) translateY(20px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(3) { 
  transform: translateX(-50%) translateX(calc(-1.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-5deg) translateY(7.5px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(4) { 
  transform: translateX(-50%) translateX(calc(-0.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(0deg) translateY(0) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(5) { 
  transform: translateX(-50%) translateX(calc(0.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(5deg) translateY(7.5px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(6) { 
  transform: translateX(-50%) translateX(calc(1.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(10deg) translateY(20px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(7) { 
  transform: translateX(-50%) translateX(calc(2.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(15deg) translateY(35px) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(8) { 
  transform: translateX(-50%) translateX(calc(3.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(20deg) translateY(50px) !important;
}

/* Hover states for human player */
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(1):hover { 
  transform: translateX(-50%) translateX(calc(-3.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-15deg) translateY(calc(35px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(2):hover { 
  transform: translateX(-50%) translateX(calc(-2.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-10deg) translateY(calc(20px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(3):hover { 
  transform: translateX(-50%) translateX(calc(-1.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(-5deg) translateY(calc(7.5px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(4):hover { 
  transform: translateX(-50%) translateX(calc(-0.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(0deg) translateY(calc(0px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(5):hover { 
  transform: translateX(-50%) translateX(calc(0.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(5deg) translateY(calc(7.5px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(6):hover { 
  transform: translateX(-50%) translateX(calc(1.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(10deg) translateY(calc(20px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(7):hover { 
  transform: translateX(-50%) translateX(calc(2.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(15deg) translateY(calc(35px - 20px)) scale(1.1) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="south"] .card-slot:nth-child(8):hover { 
  transform: translateX(-50%) translateX(calc(3.5 * var(--card-base-width) * var(--card-size-human) * var(--card-spacing-factor))) rotate(20deg) translateY(calc(50px - 20px)) scale(1.1) !important;
}

/* Hover spread effect */
.player-hand-wrapper[data-position="south"][data-hovering="true"] .card-slot {
  transition: all 0.15s ease-out !important;
}

/* NORTH PLAYER - Horizontal spread */
.player-hand-wrapper[data-position="north"] .card-container {
  width: calc(var(--card-base-width) * var(--card-size-ai) * 8 * 0.4);
  height: calc(var(--card-base-height) * var(--card-size-ai));
}

.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  width: calc(var(--card-base-width) * var(--card-size-ai)) !important;
  height: calc(var(--card-base-height) * var(--card-size-ai)) !important;
}

.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(1) { 
  transform: translate(-50%, -50%) translateX(calc(-3.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(2) { 
  transform: translate(-50%, -50%) translateX(calc(-2.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(3) { 
  transform: translate(-50%, -50%) translateX(calc(-1.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(4) { 
  transform: translate(-50%, -50%) translateX(calc(-0.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(5) { 
  transform: translate(-50%, -50%) translateX(calc(0.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(6) { 
  transform: translate(-50%, -50%) translateX(calc(1.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(7) { 
  transform: translate(-50%, -50%) translateX(calc(2.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="north"] .card-slot:nth-child(8) { 
  transform: translate(-50%, -50%) translateX(calc(3.5 * var(--card-base-width) * var(--card-size-ai) * 0.4)) !important;
}

/* EAST PLAYER - Rotated 90deg */
.player-hand-wrapper[data-position="east"] .card-container {
  width: calc(var(--card-base-height) * var(--card-size-ai) * 8 * 0.3);
  height: calc(var(--card-base-width) * var(--card-size-ai));
  flex-direction: column;
}

.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  width: calc(var(--card-base-width) * var(--card-size-ai)) !important;
  height: calc(var(--card-base-height) * var(--card-size-ai)) !important;
}

.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(1) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(-3.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(2) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(-2.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(3) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(-1.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(4) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(-0.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(5) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(0.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(6) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(1.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(7) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(2.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="east"] .card-slot:nth-child(8) { 
  transform: translate(-50%, -50%) rotate(90deg) translateX(calc(3.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}

/* WEST PLAYER - Rotated -90deg */
.player-hand-wrapper[data-position="west"] .card-container {
  width: calc(var(--card-base-height) * var(--card-size-ai) * 8 * 0.3);
  height: calc(var(--card-base-width) * var(--card-size-ai));
  flex-direction: column;
}

.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot {
  position: absolute !important;
  left: 50% !important;
  top: 50% !important;
  width: calc(var(--card-base-width) * var(--card-size-ai)) !important;
  height: calc(var(--card-base-height) * var(--card-size-ai)) !important;
}

.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(1) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(3.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(2) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(2.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(3) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(1.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(4) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(0.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(5) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(-0.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(6) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(-1.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(7) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(-2.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}
.game-table .player-zone .player-hand-wrapper[data-position="west"] .card-slot:nth-child(8) { 
  transform: translate(-50%, -50%) rotate(-90deg) translateX(calc(-3.5 * var(--card-base-height) * var(--card-size-ai) * 0.3)) !important;
}

/* Card size based on responsive variables */
.card-slot {
  width: var(--card-width-base, 120px);
  height: var(--card-height-base, 168px);
  position: absolute;
}

/* Override card dimensions based on position */
.player-hand-wrapper[data-position="south"] {
  --card-width-base: calc(120px * var(--card-size-human, 1));
  --card-height-base: calc(168px * var(--card-size-human, 1));
}

.player-hand-wrapper[data-position="north"],
.player-hand-wrapper[data-position="east"],
.player-hand-wrapper[data-position="west"] {
  --card-width-base: calc(120px * var(--card-size-ai, 1));
  --card-height-base: calc(168px * var(--card-size-ai, 1));
}

/* Z-index management - Higher specificity */
.game-table .player-zone .player-hand-wrapper .card-slot {
  z-index: calc(var(--card-index, 0) + 1);
}

.game-table .player-zone .player-hand-wrapper .card-slot.selected {
  z-index: 20;
}

.game-table .player-zone .player-hand-wrapper .card-slot:hover {
  z-index: 30;
}

/* Fallback positions for cards */
.player-hand-wrapper[data-position="north"] .card-slot,
.player-hand-wrapper[data-position="east"] .card-slot,
.player-hand-wrapper[data-position="west"] .card-slot {
  position: absolute;
}